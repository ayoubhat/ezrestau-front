"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_agent-sessions_components_NewTaskChatInput_tsx-ui_packages_agent-sessions_compone-20689f"],{1574:(e,t,r)=>{r.d(t,{Y:()=>n,w:()=>s});let n={InProgress:"in_progress",Completed:"completed",Failed:"failed",Idle:"idle",WaitingForUser:"waiting_for_user",TimedOut:"timed_out",Cancelled:"cancelled"};function s(e){switch(e){case n.InProgress:return"In progress";case n.Completed:return"Ready for review";case n.Failed:return"Failed";case n.Idle:return"Idle";case n.WaitingForUser:return"Waiting for user";case n.TimedOut:return"Timed out";case n.Cancelled:return"Cancelled";default:return"Unknown"}}},45260:(e,t,r)=>{r.d(t,{I:()=>a,j:()=>FetchCAPI401Error});var n=r(54187),s=r(22069),i=r(7799);let FetchCAPI401Error=class FetchCAPI401Error extends Error{constructor(e){super(e),this.name="FetchCAPI401Error"}};async function a({path:e,method:t="GET",streamingResponse:r=!1}){let a=new n.l,o=await a.getAuthToken();if(!o)throw Error("No token available");let l=await (0,s.p)({authToken:o,basePath:(0,i._$)().copilotApiOverrideUrl||"https://api.githubcopilot.com",method:t,path:e,streamingResponse:r});if(!l.ok){if(401===l.status)throw new FetchCAPI401Error("Unauthorized access - token may be invalid or expired");throw Error("Failed to fetch agent sessions")}return l}},54187:(e,t,r)=>{r.d(t,{l:()=>AgentSessionsTokenProvider});var n=r(879);let AgentSessionsTokenProvider=class AgentSessionsTokenProvider extends n.J{constructor(){super([],"/copilot/agent-sessions/token","AGENT_SESSIONS_TOKEN")}}},29943:(e,t,r)=>{function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{HS:()=>a,Oc:()=>i,Tv:()=>c,Xr:()=>SymbolChangedEvent,f7:()=>o,fD:()=>l,qR:()=>s});let OpenCopilotChatEvent=class OpenCopilotChatEvent extends Event{constructor(e){super("open-copilot-chat",{bubbles:!1,cancelable:!0}),n(this,"payload",void 0),this.payload=e}};Event;let AddCopilotChatReferenceEvent=class AddCopilotChatReferenceEvent extends Event{constructor(e,t=!1,r){super("add-copilot-chat-reference",{bubbles:!1,cancelable:!0}),n(this,"reference",void 0),n(this,"openPanel",void 0),n(this,"id",void 0),this.reference=e,this.openPanel=t,this.id=r}};let SymbolChangedEvent=class SymbolChangedEvent extends Event{constructor(e){super("symbol-changed",{bubbles:!1,cancelable:!0}),n(this,"context",void 0),this.context=e}};function s(e){window.dispatchEvent(new OpenCopilotChatEvent(e))}function i(e,t=!1,r){window.dispatchEvent(new AddCopilotChatReferenceEvent(e,t,r))}function a(e){return window.addEventListener("open-copilot-chat",e),()=>{window.removeEventListener("open-copilot-chat",e)}}function o(e){return window.addEventListener("add-copilot-chat-reference",e),()=>{window.removeEventListener("add-copilot-chat-reference",e)}}function l(e){return window.addEventListener("search-copilot-chat",e),()=>{window.removeEventListener("search-copilot-chat",e)}}function c(e){return window.addEventListener("symbol-changed",e),()=>{window.removeEventListener("symbol-changed",e)}}},98831:(e,t,r)=>{function n(){return{favicon:document.querySelector('.js-site-favicon[type="image/svg+xml"]'),faviconFallback:document.querySelector('.js-site-favicon[type="image/png"]')}}function s(e){let{favicon:t,faviconFallback:r}=n();if(!t||!r)return;let s=l();e=e.substr(0,e.lastIndexOf(".")),t.href=e=`${e}${s}.svg`;let i=t.href.substr(0,t.href.lastIndexOf("."));r.href=`${i}.png`}function i(){let{favicon:e,faviconFallback:t}=n();if(!e||!t)return;let r=l(),s=e.href.indexOf("-dark.svg"),i=e.href.substr(0,-1!==s?s:e.href.lastIndexOf("."));e.href=`${i}${r}.svg`,t.href=`${i}${r}.png`}function a(e){let{favicon:t,faviconFallback:r}=n();if(!t||!r)return;let s=t.getAttribute("data-base-href"),i="default"===e?"":`-${e}`,a=l();s&&(t.href=`${s}${i}${a}.svg`,r.href=`${s}${i}${a}.png`)}function o(){a("default")}function l(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"-dark":""}r.d(t,{Ow:()=>s,gd:()=>o,iD:()=>a,uQ:()=>i})},20451:(e,t,r)=>{r.d(t,{Ee:()=>o,b4:()=>l,Ts:()=>a});let n=class ResponseError extends Error{constructor(e,t){super(`${e} for HTTP ${t.status}`),function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"response",void 0),this.response=t,this.name="ResponseError"}};var s=r(1739),i=r(26559);async function a(e,t,r){let a=new Request(t,r);(0,i.tV)(a.headers);let o=await self.fetch(a);if(o.status<200||o.status>=300)throw Error(`HTTP ${o.status}${o.statusText||""}`);return!function(e,t,r=!1){let s=t.headers.get("content-type")||"";if(!r&&!s.startsWith("text/html"))throw new n(`expected response with text/html, but was ${s}`,t);if(r&&!(s.startsWith("text/html")||s.startsWith("application/json")))throw new n(`expected response with text/html or application/json, but was ${s}`,t);let i=t.headers.get("x-html-safe");if(i){if(!e.includes(i))throw new n("response X-HTML-Safe nonce did not match",t)}else throw new n("missing X-HTML-Safe nonce",t)}(function(e){let t=[...e.querySelectorAll("meta[name=html-safe-nonce]")].map(e=>e.content);if(t.length<1)throw Error("could not find html-safe-nonce on document");return t}(e),o),(0,s.B)(e,await o.text())}function o(e,t,r=1e3,n=[200],s=[202]){return async function r(a){let o=new Request(e,t);(0,i.tV)(o.headers);let l=await self.fetch(o);if(s.includes(l.status))return await new Promise(e=>setTimeout(e,a)),r(1.5*a);if(n.includes(l.status))return l;if(l.status<200||l.status>=300)throw Error(`HTTP ${l.status}${l.statusText||""}`);throw Error(`Unexpected ${l.status} response status from poll endpoint`)}(r)}async function l(e,t,r){let{wait:n=500,acceptedStatusCodes:s=[200],max:a=3,attempt:o=0}=r||{},c=async()=>new Promise((r,l)=>{setTimeout(async()=>{try{let n=new Request(e,t);(0,i.tV)(n.headers);let l=await self.fetch(n);if(s.includes(l.status)||o+1===a)return r(l);r("retry")}catch(e){l(e)}},n*o)}),u=await c();return"retry"!==u?u:l(e,t,{wait:n,acceptedStatusCodes:s,max:a,attempt:o+1})}},88245:(e,t,r)=>{r.d(t,{A:()=>a});let n=r.p+"jetbrains-e16495e63a33.png",s=r.p+"neovim-3301f23c4307.png",i=r.p+"vscode-380056900de8.png",a={vscode:{url:"https://marketplace.visualstudio.com/items?itemName=GitHub.copilot",icon:i,name:"Visual Studio Code",eventName:"VSCODE"},visualstudio:{url:"https://visualstudio.microsoft.com/github-copilot/",icon:r.p+"vsstudio-806c4b726938.png",name:"Visual Studio",eventName:"VS"},xcode:{url:"https://github.com/github/CopilotForXcode",icon:r.p+"xcode-a6c2735aa7ac.png",name:"Xcode",eventName:"XCODE"},jetbrains:{url:"https://plugins.jetbrains.com/plugin/17718-github-copilot",icon:n,name:"JetBrains",eventName:"JETBRAINS"},neovim:{url:"https://github.com/github/copilot.vim",icon:s,name:"Neovim",eventName:"NEOVIM"}}},10688:(e,t,r)=>{r.d(t,{H:()=>i});var n=r(3785),s=r(61681);async function i(e,t,r){let i=await (0,s.q$)(e);if(401===i.status){let e=r.getQueryData(t);if(!e)throw new s.ol;return e}let a=await (0,s.hp)(i);return(0,n.Av)(a),(0,s.R)(i),a}},38146:(e,t,r)=>{r.d(t,{gX:()=>ru,S4:()=>nR,OC:()=>C,Uz:()=>ny});var n,s=r(74848),i=r(21728);function a(e){if(null==e)throw Error("Failed to load page data.")}var o=r(70179),l=r(38621),c=r(63867),u=r(34164),d=r(96540),m=r(33049),h=r(60826),p=r(79369),g=r(81830),f=r(10688),E=r(97665),_=r(97286);function S(){let e,t=(0,i.c)(2),{basePageDataUrl:r}=(0,g.Yu)(),n=`basePageDataURL:${r}`;return t[0]!==n?(e=[h.u.mergeBox,n],t[0]=n,t[1]=e):e=t[1],e}let R=(0,d.createContext)({mergeMethod:m.q$.MERGE,setMergeMethod:()=>{}});function C({children:e,defaultMergeMethod:t}){let[r,n]=(0,d.useState)(t),i=S(),a=(0,E.jE)();(0,d.useEffect)(()=>{a.invalidateQueries({queryKey:i})},[r]);let o=(0,d.useMemo)(()=>({mergeMethod:r,setMergeMethod:n}),[r]);return(0,s.jsx)(R.Provider,{value:o,children:e})}function v(){return(0,d.useContext)(R)}try{R.displayName||(R.displayName="MergeMethodContext")}catch{}try{C.displayName||(C.displayName="MergeMethodContextProvider")}catch{}function x(e){let t=e&&e.conditions.find(e=>m.nw.includes(e.type));if(t&&"conflicts"in t&&"isConflictResolvableInWeb"in t)return t}function w(e){return e?.conditions.filter(e=>m.iG.includes(e.type)&&"FAILED"===e.result)??[]}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let BaseSectionStatus=class BaseSectionStatus{get shouldRender(){return!1}get shouldConsiderStatus(){return this.shouldRender}get sectionStatus(){return"UNKNOWN"}get mergeBoxStatus(){return"UNKNOWN"}constructor(e,t,r){y(this,"pullRequest",void 0),y(this,"mergeRequirements",void 0),y(this,"statusChecks",void 0),this.pullRequest=e,this.mergeRequirements=t,this.statusChecks=r}};function b(e,t,r){if(!t.has(e))throw TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function N(e,t){var r=b(e,t,"get");return r.get?r.get.call(e):r.value}function A(e,t,r){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object");t.set(e,r)}let I=["MERGE_QUEUE","REQUIRED_STATUS_CHECKS"],j=["PULL_REQUEST_REPO_STATE","PULL_REQUEST_STATE"],T=["USER_CANNOT_PUSH"];var M=new WeakMap,k=new WeakMap,D=new WeakMap,U=new WeakMap;let BlockedSectionStatus=class BlockedSectionStatus extends BaseSectionStatus{get shouldRender(){return this.mergeRequirements?.state==="UNMERGEABLE"&&!this.pullRequest.isDraft&&0!==this.failingConditionsAndRules.length&&this.pullRequest.viewerCanUpdate}get sectionStatus(){return this.mergeRequirements?.state==="UNMERGEABLE"?"FAILED":"PASSED"}get mergeBoxStatus(){return this.sectionStatus}get failingConditionsAndRules(){return N(this,M)||function(e,t,r){var n=b(e,t,"set");if(n.set)n.set.call(e,r);else{if(!n.writable)throw TypeError("attempted to set read only private field");n.value=r}}(this,M,[...N(this,D),...N(this,k),...N(this,U)]),N(this,M)}constructor(...e){super(...e),A(this,k,{get:O,set:void 0}),A(this,D,{get:L,set:void 0}),A(this,U,{get:P,set:void 0}),A(this,M,{writable:!0,value:void 0})}};function O(){return w(this.mergeRequirements).flatMap(e=>"ruleRollups"in e?e.ruleRollups:[]).filter(e=>e?.result==="FAILED"&&!I.includes(e.ruleType))}function L(){var e;return(e=this.mergeRequirements,e?.conditions.filter(e=>m.jw.includes(e.type)&&"FAILED"===e.result)??[]).filter(e=>!j.includes(e.type))}function P(){var e;return(e=this.mergeRequirements,e?.conditions.filter(e=>m.TW.includes(e.type)&&"FAILED"===e.result)??[]).flatMap(e=>"failedSubConditions"in e?e.failedSubConditions:[]).filter(e=>!T.includes(e.displayName))}let q={AwaitingReview:"AwaitingReview",ChangesRequested:"ChangesRequested",ChecksFailing:"ChecksFailing",ChecksPending:"ChecksPending",DraftReadyForReview:"DraftReadyForReview",DraftNotReadyForReview:"DraftNotReadyForReview",InMergeQueue:"InMergeQueue",MergeConflicts:"MergeConflicts",Mergeable:"Mergeable",NonactionableFailure:"NonactionableFailure",NonRequiredChecksUnsuccessful:"NonRequiredChecksUnsuccessful",UnableToMerge:"UnableToMerge",Unknown:"Unknown",Merged:"Merged",Closed:"Closed"};function B(e){return(e?.conditions.filter(e=>"FAILED"===e.result)??[]).map(e=>e.type)}function F(e){return!!e?.statusChecks.some(e=>e.isRequired&&function(e){switch(e){case"WAITING":case"PENDING":case"IN_PROGRESS":case"QUEUED":case"EXPECTED":return!0;case"ACTION_REQUIRED":case"FAILURE":case"ERROR":case"STARTUP_FAILURE":case"CANCELLED":case"STALE":case"TIMED_OUT":case"SUCCESS":case"COMPLETED":case"NEUTRAL":case"REQUESTED":case"SKIPPED":case"_UNKNOWN_VALUE":return!1}}(e.state))}function G(e){return!!e?.statusChecks.some(e=>e.isRequired&&function(e){switch(e){case"ACTION_REQUIRED":case"FAILURE":case"ERROR":case"STARTUP_FAILURE":case"_UNKNOWN_VALUE":case"CANCELLED":case"STALE":case"TIMED_OUT":return!0;case"SUCCESS":case"COMPLETED":case"EXPECTED":case"IN_PROGRESS":case"NEUTRAL":case"PENDING":case"QUEUED":case"REQUESTED":case"SKIPPED":case"WAITING":return!1}}(e.state))}function Q(e){return void 0!==e&&e?.statusChecks.length!==0&&(!G(e)||!F(e))}function $(e,t){return e?.state!=="UNMERGEABLE"&&!!t?.statusChecks.some(e=>!e.isRequired&&!function(e){switch(e){case"NEUTRAL":case"SUCCESS":case"SKIPPED":return!0;case"WAITING":case"PENDING":case"IN_PROGRESS":case"QUEUED":case"EXPECTED":case"ACTION_REQUIRED":case"FAILURE":case"ERROR":case"STARTUP_FAILURE":case"CANCELLED":case"STALE":case"TIMED_OUT":case"COMPLETED":case"REQUESTED":case"_UNKNOWN_VALUE":return!1}}(e.state))||t?.statusRollup.combinedState==="PENDING_APPROVAL"}function W(e){let t=e?.conditions.find(e=>"PULL_REQUEST_RULES"===e.type),r=t?.ruleRollups?.find(e=>"PULL_REQUEST"===e.ruleType);if(!r||"FAILED"!==r.result)return[];let n=r.metadata;return n&&"failureReasons"in n&&n.failureReasons.map(e=>e.toUpperCase())||[]}function V(e){return B(e).includes("PULL_REQUEST_MERGE_CONFLICT_STATE")}let ChecksSectionStatus=class ChecksSectionStatus extends BaseSectionStatus{get shouldRender(){let e=this.statusChecks?.statusRollup;return(e?.summary.length??0)>0||e?.combinedState==="PENDING_APPROVAL"}get sectionStatus(){let e=x(this.mergeRequirements);return"DIRTY"===this.pullRequest.mergeStateStatus&&e?.result==="FAILED"?"PENDING_CONFLICTS":this.statusChecks?.statusRollup.combinedState??"UNKNOWN"}get mergeBoxStatus(){if("PENDING_APPROVAL"===this.sectionStatus)return"PENDING_USER_ACTION";let e=G(this.statusChecks),t=F(this.statusChecks),r=Q(this.statusChecks),n=$(this.mergeRequirements,this.statusChecks);return t||"PENDING"===this.sectionStatus||"PENDING_CONFLICTS"===this.sectionStatus?"PENDING":e?"FAILED":n?"NEUTRAL":r?"PASSED":"NEUTRAL"}};let ClosedOrMergedStateSectionStatus=class ClosedOrMergedStateSectionStatus extends BaseSectionStatus{get shouldRender(){return"OPEN"!==this.pullRequest.state}get sectionStatus(){return"OPEN"!==this.pullRequest.state?this.pullRequest.state:"UNKNOWN"}get mergeBoxStatus(){return"MERGED"===this.sectionStatus?"MERGED":"NEUTRAL"}};function H(e,t,r){if(!t.has(e))throw TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function K(e,t){var r=H(e,t,"get");return r.get?r.get.call(e):r.value}function z(e,t,r){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object");t.set(e,r)}var X=new WeakMap,Y=new WeakMap,J=new WeakMap;let ConflictsSectionStatus=class ConflictsSectionStatus extends BaseSectionStatus{get shouldRender(){return("BLOCKED"!==this.pullRequest.mergeStateStatus||!!this.pullRequest.viewerCanUpdateBranch)&&!!this.conflictsCondition}get sectionStatus(){return this.conflictsCondition?K(this,J).call(this,this.pullRequest.advisoryWorkspace,this.pullRequest.mergeStateStatus,this.conflictsCondition,K(this,Y)):"PENDING"}get mergeBoxStatus(){switch(this.sectionStatus){case"NO_CONFLICTS":case"HAS_ADVISORY_WORKSPACE":return"PASSED";case"HAS_CONFLICTS":case"HAS_REBASE_CONFLICTS":case"OUT_OF_DATE":return"NEUTRAL";default:return"PENDING"}}get conflictsCondition(){return K(this,X)||function(e,t,r){var n=H(e,t,"set");if(n.set)n.set.call(e,r);else{if(!n.writable)throw TypeError("attempted to set read only private field");n.value=r}}(this,X,x(this.mergeRequirements)),K(this,X)}constructor(...e){super(...e),z(this,Y,{get:Z,set:void 0}),z(this,X,{writable:!0,value:void 0}),z(this,J,{writable:!0,value:(e,t,r,n)=>{if("BEHIND"===t)return"OUT_OF_DATE";if("UNKNOWN"===t)return"PENDING";if("FAILED"===r.result&&0===n.length)return"HAS_REBASE_CONFLICTS";if(!e&&("CLEAN"===t||"UNSTABLE"===t||"HAS_HOOKS"===t))return"NO_CONFLICTS";if(e&&("CLEAN"===t||"UNSTABLE"===t||"HAS_HOOKS"===t))return"HAS_ADVISORY_WORKSPACE";else if("DIRTY"===t&&"FAILED"===r.result)return"HAS_CONFLICTS";else if("BLOCKED"===t)return"OUT_OF_DATE";else return"PENDING"}})}};function Z(){return this.conflictsCondition?.conflicts??[]}let DraftStateSectionStatus=class DraftStateSectionStatus extends BaseSectionStatus{get shouldRender(){return"OPEN"===this.pullRequest.state&&this.pullRequest.isDraft}get sectionStatus(){return"IS_DRAFT"}get mergeBoxStatus(){return"NEUTRAL"}};let MergeQueueSectionStatus=class MergeQueueSectionStatus extends BaseSectionStatus{get shouldRender(){return this.pullRequest.isInMergeQueue}get sectionStatus(){return"QUEUED"}get mergeBoxStatus(){return this.sectionStatus}};var ee=r(75367),et=r(34614),er=r(92265),en=r(84217);let es={wrapper:"MergeBoxSectionHeader-module__wrapper--f99Ts",wrapperCanExpand:"MergeBoxSectionHeader-module__wrapperCanExpand--Hv6nF",button:"MergeBoxSectionHeader-module__button--RGF7G",MergeBoxSectionHeading:"MergeBoxSectionHeader-module__MergeBoxSectionHeading--gS3rL"},ei=e=>{let t,r,n,a=(0,i.c)(5),{isExpanded:o}=e,c=o?"":"rotate(180deg)";return a[0]!==c?(t={transition:"transform 0.15s ease-in-out",transform:c},a[0]=c,a[1]=t):t=a[1],a[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,s.jsx)(l.ChevronUpIcon,{}),a[2]=r):r=a[2],a[3]!==t?(n=(0,s.jsx)("div",{style:t,children:r}),a[3]=t,a[4]=n):n=a[4],n};try{ei.displayName||(ei.displayName="ExpandableSectionIcon")}catch{}let ea=e=>{let t,r,n,a,o,l,c,d,m,h,p=(0,i.c)(31),{title:g,subtitle:f,headerId:E,icon:_,expandableProps:S,children:R,rightSideContent:C}=e;if(S&&C)throw Error("MergeBoxSectionHeader: rightSideContent is not supported when expandableProps exist");p[0]!==S?(t=S||{},p[0]=S,p[1]=t):t=p[1];let{isExpanded:v,ariaLabel:x,onToggle:w}=t,y=S&&es.wrapperCanExpand,b=!S&&"flex-column flex-sm-row flex-items-center flex-sm-items-start flex-justify-between";return p[2]!==y||p[3]!==b?(r=(0,u.$)(es.wrapper,y,b),p[2]=y,p[3]=b,p[4]=r):r=p[4],p[5]!==_?(n=_&&(0,s.jsx)("div",{className:"mr-2 flex-shrink-0",children:_}),p[5]=_,p[6]=n):n=p[6],p[7]!==E||p[8]!==g?(a=(0,s.jsx)(en.A,{as:"h3",id:E,className:es.MergeBoxSectionHeading,children:g}),p[7]=E,p[8]=g,p[9]=a):a=p[9],p[10]!==f?(o=(0,s.jsx)("p",{className:"fgColor-muted mb-0 ",children:f}),p[10]=f,p[11]=o):o=p[11],p[12]!==R||p[13]!==a||p[14]!==o?(l=(0,s.jsxs)("div",{className:"flex-1",children:[a,o,R]}),p[12]=R,p[13]=a,p[14]=o,p[15]=l):l=p[15],p[16]!==C||p[17]!==l?(c=(0,s.jsxs)("div",{className:"d-flex flex-1 flex-column flex-sm-row gap-2",children:[l,C]}),p[16]=C,p[17]=l,p[18]=c):c=p[18],p[19]!==n||p[20]!==c?(d=(0,s.jsxs)("div",{className:"d-flex width-full",children:[n,c]}),p[19]=n,p[20]=c,p[21]=d):d=p[21],p[22]!==x||p[23]!==S||p[24]!==v||p[25]!==w?(m=S&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{"aria-label":x,type:"button",className:es.button,onClick:w,"aria-expanded":v}),(0,s.jsx)("div",{className:"fgColor-muted pr-2 pt-2",children:(0,s.jsx)(ei,{isExpanded:!!v})})]}),p[22]=x,p[23]=S,p[24]=v,p[25]=w,p[26]=m):m=p[26],p[27]!==d||p[28]!==m||p[29]!==r?(h=(0,s.jsxs)("div",{className:r,children:[d,m]}),p[27]=d,p[28]=m,p[29]=r,p[30]=h):h=p[30],h};try{ea.displayName||(ea.displayName="MergeBoxSectionHeader")}catch{}let eo={reviewAuthor:"ReviewerSection-module__reviewAuthor--V23_y",reviewAuthorAnchor:"ReviewerSection-module__reviewAuthorAnchor--Awxgk",leadingVisual:"ReviewerSection-module__leadingVisual--ZIlsf",reviewedIcon:"ReviewerSection-module__reviewedIcon--WwqSG",reviewerGroupsContainer:"ReviewerSection-module__reviewerGroupsContainer--KWMla",reviewText:"ReviewerSection-module__reviewText--HpC35",reviewerActionBar:"ReviewerSection-module__reviewerActionBar--nNpie",subtitleLink:"ReviewerSection-module__subtitleLink--GB5Q9"},el={expandableContent:"MergeBoxExpandable-module__expandableContent--F8GC8",expandableWrapper:"MergeBoxExpandable-module__expandableWrapper--WmDqF",isExpanded:"MergeBoxExpandable-module__isExpanded--Le972"},ec=e=>{let t,r,n,a,o,l=(0,i.c)(13),{isExpanded:c,children:d}=e,m=void 0!==c&&c,h=m&&el.isExpanded;l[0]!==h?(t=(0,u.$)(el.expandableWrapper,h),l[0]=h,l[1]=t):t=l[1];let p=m?"visible":"hidden";l[2]!==p?(r={visibility:p},l[2]=p,l[3]=r):r=l[3];let g=m&&el.isExpanded;l[4]!==g?(n=(0,u.$)(el.expandableContent,g),l[4]=g,l[5]=n):n=l[5];let f=m&&d;return l[6]!==n||l[7]!==f?(a=(0,s.jsx)("div",{className:n,children:f}),l[6]=n,l[7]=f,l[8]=a):a=l[8],l[9]!==t||l[10]!==r||l[11]!==a?(o=(0,s.jsx)("div",{className:t,style:r,children:a}),l[9]=t,l[10]=r,l[11]=a,l[12]=o):o=l[12],o};try{ec.displayName||(ec.displayName="MergeBoxExpandable")}catch{}var eu=r(84905),ed=r(55847);let em={groupHeadingButton:"ReviewGroupExpander-module__groupHeadingButton--a8Q02",expandableWrapper:"ReviewGroupExpander-module__expandableWrapper--bKxYR",expandableListView:"ReviewGroupExpander-module__expandableListView--ROcj8",isExpanded:"ReviewGroupExpander-module__isExpanded--s8PqF"};var eh=r(23812);let ep=e=>{let t,r,n,a=(0,i.c)(5),{isExpanded:o}=e,c=o?"rotate(90deg)":"";return a[0]!==c?(t={transform:c},a[0]=c,a[1]=t):t=a[1],a[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,s.jsx)(l.ChevronRightIcon,{size:12}),a[2]=r):r=a[2],a[3]!==t?(n=(0,s.jsx)("div",{style:t,children:r}),a[3]=t,a[4]=n):n=a[4],n};try{ep.displayName||(ep.displayName="ExpandableGroupIcon")}catch{}let eg={[m.Qv.Approvals]:(0,s.jsx)(l.CheckIcon,{className:"fgColor-success",size:16}),[m.Qv.RequestedChanges]:(0,s.jsx)(l.FileDiffIcon,{className:"fgColor-danger",size:16}),[m.Qv.PendingReviewRequest]:(0,s.jsx)(l.PersonIcon,{size:16})};function ef(e){let t,r,n,a,o,l,c,m,h=(0,i.c)(29),{children:p,count:g,pullRequestId:f,reviewGroup:E}=e,{sendAnalyticsEvent:_}=(0,ee.s)(),[S,R]=(0,eh.Fo)(`${f}:reviewersGroup:${E}Expanded`,!1),C=(0,d.useId)(),v=eg[E],x=`${g} ${g>1?E:E.substring(0,E.length-1)}`,w=S?`Collapse ${x} group`:`Expand ${x} group`;h[0]!==S?(t=()=>(0,s.jsx)(ep,{isExpanded:S}),h[0]=S,h[1]=t):t=h[1],h[2]!==S||h[3]!==E||h[4]!==_||h[5]!==R?(r=()=>{_(S?"reviewers_group.collapse":"reviewers_group.expand","MERGEBOX_REVIEWERS_GROUP_TOGGLE_BUTTON",{group:E}),R(!S)},h[2]=S,h[3]=E,h[4]=_,h[5]=R,h[6]=r):r=h[6],h[7]!==x?(n=(0,s.jsx)("span",{className:"ml-1",children:x}),h[7]=x,h[8]=n):n=h[8],h[9]!==C||h[10]!==S||h[11]!==v||h[12]!==w||h[13]!==t||h[14]!==r||h[15]!==n?(a=(0,s.jsxs)(ed.Q,{"aria-controls":C,"aria-expanded":S,"aria-label":w,className:em.groupHeadingButton,variant:"invisible",size:"small",trailingVisual:t,onClick:r,children:[v," ",n]}),h[9]=C,h[10]=S,h[11]=v,h[12]=w,h[13]=t,h[14]=r,h[15]=n,h[16]=a):a=h[16];let y=S&&em.isExpanded;h[17]!==y?(o=(0,u.$)(em.expandableWrapper,y),h[17]=y,h[18]=o):o=h[18];let b=S&&p;return h[19]!==b?(l=(0,s.jsx)("div",{className:em.expandableListView,children:b}),h[19]=b,h[20]=l):l=h[20],h[21]!==C||h[22]!==x||h[23]!==o||h[24]!==l?(c=(0,s.jsx)("div",{className:o,id:C,"aria-label":x,role:"group",children:l}),h[21]=C,h[22]=x,h[23]=o,h[24]=l,h[25]=c):c=h[25],h[26]!==c||h[27]!==a?(m=(0,s.jsxs)(s.Fragment,{children:[a,c]}),h[26]=c,h[27]=a,h[28]=m):m=h[28],m}try{ef.displayName||(ef.displayName="ReviewGroupExpander")}catch{}var eE=r(78168),e_=r(81584),eS=r(67307),eR=r(39459);let eC={listItem:"SectionListItem-module__listItem--Wifrh"};var ev=r(15385),ex=r(6869),ew=r(73451),ey=r(19647),eb=r(9852),eN=r(94747),eA=r(61681),eI=r(87854),ej=r(53110);function eT({reviewer:e,reviewStatusText:t,hovercardUrl:r,reviewId:n,viewerCanDismissReviews:a,viewerCanReRequestReviews:o=!1}){let c=(0,d.useRef)(null),m=(0,d.useRef)(null),[g,f]=(0,d.useState)(!1),[_,R]=(0,d.useState)(null),[C,v]=(0,d.useState)(""),x=C.trim().length<1,[w,y]=(0,d.useState)(!1),b=[a?{key:"dismiss-review",render:()=>(0,s.jsx)(ev.l.Item,{onSelect:()=>{f(!0)},children:"Dismiss review"})}:null,o?{key:"re-request-review",render:()=>(0,s.jsx)(ev.l.Item,{onSelect:()=>I({reviewerLogin:e.login}),children:"Re-request review"})}:null].filter(e=>!!e),N=!!n&&b.length>0,A=async()=>{R(null),f(!1),y(!1),m.current?.focus()},{mutate:I}=function(e){let t,r,n,s,a,o=(0,i.c)(13);o[0]!==e?(t=void 0===e?{}:e,o[0]=e,o[1]=t):t=o[1];let{onError:l}=t,c=S(),u=(0,p.e)(h.u.reRequestReviewFromUser),d=(0,E.jE)();return o[2]!==u?(r=async e=>{let t=await (0,eA.q$)(u,{method:"POST",headers:{Accept:"application/json"},body:e}),r=await (0,eA.hp)(t);return(0,eA.R)(t,r),r},o[2]=u,o[3]=r):r=o[3],o[4]!==c||o[5]!==d?(n=()=>d.invalidateQueries({queryKey:c},{cancelRefetch:!1}),o[4]=c,o[5]=d,o[6]=n):n=o[6],o[7]!==l?(s=e=>{l?.(e)},o[7]=l,o[8]=s):s=o[8],o[9]!==r||o[10]!==n||o[11]!==s?(a={mutationFn:r,onSuccess:n,onError:s},o[9]=r,o[10]=n,o[11]=s,o[12]=a):a=o[12],(0,eN.n)(a)}({onError:()=>{}}),{mutate:j,isPending:T}=function(){let e,t,r,n=(0,i.c)(8),s=(0,p.e)(h.u.dismissReview),a=S(),o=(0,E.jE)();return n[0]!==s?(e=async e=>{let t=await (0,eA.q$)(s,{method:"POST",headers:{Accept:"application/json"},body:e}),r=await (0,eA.hp)(t);return(0,eA.R)(t,r),r},n[0]=s,n[1]=e):e=n[1],n[2]!==a||n[3]!==o?(t=()=>o.invalidateQueries({queryKey:a},{cancelRefetch:!1}),n[2]=a,n[3]=o,n[4]=t):t=n[4],n[5]!==e||n[6]!==t?(r={mutationFn:e,onSuccess:t},n[5]=e,n[6]=t,n[7]=r):r=n[7],(0,eN.n)(r)}(),M=(0,d.useCallback)(()=>{T||(x&&y(!0),n&&!x&&j({reviewId:n,message:C},{onSuccess:()=>{A()},onError:e=>{R(e.message)}}))},[j,C,x,T,n]);if((0,d.useEffect)(()=>{function e(e){e.metaKey&&"Enter"===e.key&&g&&(e.preventDefault(),M())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[g,M]),!e)return null;let k=`${e.login} ${t.charAt(0).toLowerCase()+t.slice(1)}`;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eE.c,{className:eC.listItem,"aria-label":k,title:(0,s.jsx)(e_.ao,{href:e.url,value:e.login,containerClassName:"d-flex flex-items-center pt-0",headingClassName:eo.reviewAuthor,anchorClassName:eo.reviewAuthorAnchor,leadingBadge:(0,s.jsx)(eS.e,{className:(0,u.$)(eo.leadingVisual,"mt-1"),children:(0,s.jsx)(eR.r,{alt:`${e.login}'s avatar image`,size:20,src:e.avatarUrl,"data-hovercard-url":r,className:"flex-shrink-0 ml-2"})}),children:(0,s.jsx)("span",{className:eo.reviewText,children:t})}),secondaryActions:N?(0,s.jsx)(eI.L,{anchorRef:m,label:"review options",staticMenuActions:b,className:eo.reviewerActionBar}):void 0}),g&&(0,s.jsxs)(eb.l,{title:"Dismiss review",onClose:A,role:"dialog",initialFocusRef:c,returnFocusRef:m,footerButtons:[{buttonType:"default",content:"Cancel",onClick:A},{buttonType:"danger",loading:T,loadingAnnouncement:"Dismissing review",content:"Dismiss review",onClick:M}],children:[_&&(0,s.jsxs)(ex.A,{className:"mb-2",variant:"danger",children:[(0,s.jsx)(ej.A,{className:"mr-2",icon:l.StopIcon}),_]}),(0,s.jsxs)(ew.A,{required:!0,className:"mb-2",children:[(0,s.jsx)(ew.A.Label,{children:(0,s.jsxs)("h4",{className:"f5",children:["Reason for dismissing ",e.login,"'s review"]})}),(0,s.jsx)(ey.Ay,{ref:c,onChange:e=>{y(!1),v(e.target.value)},value:C,className:"width-full height-full"}),x&&w&&(0,s.jsx)(ew.A.Validation,{variant:"error",children:"Please provide a reason for dismissing the review"}),(0,s.jsx)(ew.A.Caption,{children:"This reason will appear in the timeline so other users will know why the review was dismissed."})]})]})]})}try{eT.displayName||(eT.displayName="ReviewListItem")}catch{}var eM=r(96235);let ek=e=>{if(0===e.length)return"";{if(1===e.length)return e[0];if(2===e.length)return e.join(" and ");let t=e.pop();return`${e.join(", ")}, and ${t}`}},eD=(e,t,r)=>{let n="";switch(e){case"APPROVED":n+="Approved these changes";break;case"CHANGES_REQUESTED":n+="Requested changes";break;case"COMMENTED":n+="Commented"}return r&&(n+=" with read-only permissions"),"APPROVED"===e&&t.length>0&&(n+=` for ${ek(t)}`),n};function eU(e){let t,r,n,a=(0,i.c)(13),{review:o,viewerCanDismissReviews:l,viewerCanReRequestReviews:c}=e,{author:u}=o;if(!u)return null;let d=o.id,m=!o.authorCanPushToRepository;return a[0]!==o.onBehalfOf||a[1]!==o.state||a[2]!==m?(t=eD(o.state,o.onBehalfOf,m),a[0]=o.onBehalfOf,a[1]=o.state,a[2]=m,a[3]=t):t=a[3],a[4]!==u.login?(r=(0,eM.dCN)({owner:u.login}),a[4]=u.login,a[5]=r):r=a[5],a[6]!==u||a[7]!==o.id||a[8]!==t||a[9]!==r||a[10]!==l||a[11]!==c?(n=(0,s.jsx)(eT,{reviewer:u,reviewId:d,reviewStatusText:t,hovercardUrl:r,viewerCanDismissReviews:l,viewerCanReRequestReviews:c}),a[6]=u,a[7]=o.id,a[8]=t,a[9]=r,a[10]=l,a[11]=c,a[12]=n):n=a[12],n}try{eU.displayName||(eU.displayName="OpinionatedReviewRow")}catch{}function eO(e){let t,r,n,a=(0,i.c)(15),{opinionatedReviews:o,pullRequestId:l,reviewGroup:c,viewerCanDismissReviews:u,viewerCanReRequestReviews:d}=e;if(0===o.length)return null;let m=o.length,h=`list of ${c}`;if(a[0]!==o||a[1]!==u||a[2]!==d){let e;a[4]!==u||a[5]!==d?(e=e=>(0,s.jsx)(eU,{review:e,viewerCanDismissReviews:u,viewerCanReRequestReviews:d},`opinionated-review-from-${e?.author?.name}`),a[4]=u,a[5]=d,a[6]=e):e=a[6],t=o.map(e),a[0]=o,a[1]=u,a[2]=d,a[3]=t}else t=a[3];return a[7]!==h||a[8]!==t?(r=(0,s.jsx)(eu.u,{title:h,titleHeaderTag:"h3",children:t}),a[7]=h,a[8]=t,a[9]=r):r=a[9],a[10]!==o.length||a[11]!==l||a[12]!==c||a[13]!==r?(n=(0,s.jsx)(ef,{count:m,reviewGroup:c,pullRequestId:l,children:r}),a[10]=o.length,a[11]=l,a[12]=c,a[13]=r,a[14]=n):n=a[14],n}try{eO.displayName||(eO.displayName="OpinionatedReviewsGroup")}catch{}function eL(e){let t,r,n=(0,i.c)(9),{reviewRequest:a}=e,{reviewer:o}=a;if(!o)return null;if("TEAM"===o.type){let e;if(n[0]!==o.login||n[1]!==o.name){let t=o.login.split("/")[0]??"";e=(0,eM.Pmq)({owner:t,team:o.name}),n[0]=o.login,n[1]=o.name,n[2]=e}else e=n[2];t=e}else{let e;n[3]!==o.login?(e=(0,eM.dCN)({owner:o.login}),n[3]=o.login,n[4]=e):e=n[4],t=e}let l="was requested for review";return a.isCodeOwner&&(l="was requested for review as a codeowner"),n[5]!==t||n[6]!==o||n[7]!==l?(r=(0,s.jsx)(eT,{reviewer:o,reviewStatusText:l,hovercardUrl:t}),n[5]=t,n[6]=o,n[7]=l,n[8]=r):r=n[8],r}try{eL.displayName||(eL.displayName="RequestedReviewRow")}catch{}function eP(e){let t,r,n,a=(0,i.c)(10),{pendingRequestedReviews:o,pullRequestId:l,reviewGroup:c}=e;if(0===o.length)return null;let u=o.length,d=`list of ${c}`;return a[0]!==o?(t=o.map(eq),a[0]=o,a[1]=t):t=a[1],a[2]!==d||a[3]!==t?(r=(0,s.jsx)(eu.u,{title:d,titleHeaderTag:"h3",children:t}),a[2]=d,a[3]=t,a[4]=r):r=a[4],a[5]!==o.length||a[6]!==l||a[7]!==c||a[8]!==r?(n=(0,s.jsx)(ef,{count:u,reviewGroup:c,pullRequestId:l,children:r}),a[5]=o.length,a[6]=l,a[7]=c,a[8]=r,a[9]=n):n=a[9],n}function eq(e){return(0,s.jsx)(eL,{reviewRequest:e},`requested-review-from-${e?.reviewer?.name}`)}try{eP.displayName||(eP.displayName="PendingRequestedReviewsGroup")}catch{}let eB={APPROVED:"APPROVED",CHANGES_REQUESTED:"CHANGES_REQUESTED",REVIEW_REQUIRED:"REVIEW_REQUIRED",REVIEWED:"REVIEWED",REVIEW_REQUESTED:"REVIEW_REQUESTED"},eF=(e,t)=>{if(t.includes("MORE_REVIEWS_REQUIRED"))if(1===e)return"At least 1 approving review is required";else if(0===e&&t.includes("LAST_PUSH_APPROVAL_REQUIRED"))return"An approval on the most recent push is required";else return`At least ${e} approving reviews are required`;return t.includes("CODE_OWNER_REVIEW_REQUIRED")?"Code owner review required":t.includes("SOC2_APPROVAL_PROCESS_REQUIRED")?"A review from a compliance team is required":""};function eG(e){let t,r,n,a,o,l,c,h,p,g,f,E,_,S,R,C,v,x,w,y,b,N,A,I,j,T,M=(0,i.c)(75),{consolidatedFailureReasons:k,helpUrl:D,latestOpinionatedReviews:U,numReviewsRequired:O,pendingRequestedReviews:L,pullRequestId:P,reviewsState:q,viewerCanDismissReviews:B,viewerCanReRequestReviews:F}=e,G=[...U,...L].length>0,[Q,$]=(0,d.useState)(G),{sendAnalyticsEvent:W}=(0,ee.s)(),V=(0,d.useId)();M[0]!==U?(t=function(e){let t=[],r=[];for(let n of e)"APPROVED"===n.state&&t.push(n),"CHANGES_REQUESTED"===n.state&&r.push(n);return{approvedReviews:t,requestedChangesReviews:r}}(U),M[0]=U,M[1]=t):t=M[1];let{approvedReviews:H,requestedChangesReviews:K}=t,z=`${D}/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/requesting-a-pull-request-review`;M[2]!==z||M[3]!==k||M[4]!==U||M[5]!==O?(r=e=>{switch(e){case eB.REVIEW_REQUIRED:return`${eF(O,k)} by reviewers with write access.`;case eB.REVIEW_REQUESTED:return(0,s.jsxs)(s.Fragment,{children:["Review has been requested on this pull request. It is not required to merge."," ",(0,s.jsx)(et.A,{inline:!0,href:z,className:(0,u.$)(eo.subtitleLink,"position-relative"),children:"Learn more about requesting a pull request review."})]});default:return`${function(e){let t=e.filter(e=>e&&"CHANGES_REQUESTED"===e.state&&e.authorCanPushToRepository).length,r=e.filter(e=>e&&"APPROVED"===e.state&&e.authorCanPushToRepository).length;return 0===t&&0===r?"No applicable reviews submitted":[t>0?`${t} change${1===t?"":"s"} requested`:void 0,r>0?`${r} approving review${1===r?"":"s"}`:void 0].filter(Boolean).join(", ")}(U)} by reviewers with write access.`}},M[2]=z,M[3]=k,M[4]=U,M[5]=O,M[6]=r):r=M[6];let X=r;M[7]!==X?(n=X(eB.APPROVED),M[7]=X,M[8]=n):n=M[8],M[9]===Symbol.for("react.memo_cache_sentinel")?(a=(0,s.jsx)(er.A,{className:"bgColor-success-emphasis fgColor-onEmphasis",icon:eH,size:32}),M[9]=a):a=M[9],M[10]!==n?(o={heading:"Changes approved",subtitle:n,icon:a},M[10]=n,M[11]=o):o=M[11],M[12]!==X?(l=X(eB.CHANGES_REQUESTED),M[12]=X,M[13]=l):l=M[13],M[14]===Symbol.for("react.memo_cache_sentinel")?(c=(0,s.jsx)(er.A,{className:"bgColor-danger-emphasis fgColor-onEmphasis",icon:eV,size:32}),M[14]=c):c=M[14],M[15]!==l?(h={heading:"Changes requested",subtitle:l,icon:c},M[15]=l,M[16]=h):h=M[16],M[17]!==X?(p=X(eB.REVIEW_REQUIRED),M[17]=X,M[18]=p):p=M[18],M[19]===Symbol.for("react.memo_cache_sentinel")?(g=(0,s.jsx)(er.A,{className:"bgColor-danger-emphasis fgColor-onEmphasis",icon:eW,size:32}),M[19]=g):g=M[19],M[20]!==p?(f={heading:"Review required",subtitle:p,icon:g},M[20]=p,M[21]=f):f=M[21],M[22]!==X?(E=X(eB.REVIEWED),M[22]=X,M[23]=E):E=M[23],M[24]===Symbol.for("react.memo_cache_sentinel")?(_=(0,s.jsx)(er.A,{className:(0,u.$)(eo.reviewedIcon,"fgColor-onEmphasis"),icon:e$,size:32}),M[24]=_):_=M[24],M[25]!==E?(S={heading:"Changes reviewed",subtitle:E,icon:_},M[25]=E,M[26]=S):S=M[26],M[27]!==X?(R=X(eB.REVIEW_REQUESTED),M[27]=X,M[28]=R):R=M[28],M[29]===Symbol.for("react.memo_cache_sentinel")?(C=(0,s.jsx)(er.A,{className:"bgColor-success-emphasis fgColor-onEmphasis",icon:eQ,size:32}),M[29]=C):C=M[29],M[30]!==R?(v={heading:"Review requested",subtitle:R,icon:C},M[30]=R,M[31]=v):v=M[31],M[32]!==f||M[33]!==S||M[34]!==v||M[35]!==o||M[36]!==h?(x={APPROVED:o,CHANGES_REQUESTED:h,REVIEW_REQUIRED:f,REVIEWED:S,REVIEW_REQUESTED:v},M[32]=f,M[33]=S,M[34]=v,M[35]=o,M[36]=h,M[37]=x):x=M[37];let Y=x,J=Y[q],Z=Y[q],en=Y[q];return M[38]!==Y||M[39]!==Q||M[40]!==q||M[41]!==W||M[42]!==G?(w=G?{ariaLabel:Y[q].heading,isExpanded:Q,onToggle:()=>{W(Q?"reviewers_section.collapse":"reviewers_section.expand","MERGEBOX_REVIEWERS_SECTION_TOGGLE_BUTTON"),$(!Q)}}:void 0,M[38]=Y,M[39]=Q,M[40]=q,M[41]=W,M[42]=G,M[43]=w):w=M[43],M[44]!==V||M[45]!==J.heading||M[46]!==Z.subtitle||M[47]!==en.icon||M[48]!==w?(y=(0,s.jsx)(ea,{headerId:V,title:J.heading,subtitle:Z.subtitle,icon:en.icon,expandableProps:w}),M[44]=V,M[45]=J.heading,M[46]=Z.subtitle,M[47]=en.icon,M[48]=w,M[49]=y):y=M[49],M[50]!==H||M[51]!==P||M[52]!==B||M[53]!==F?(b=(0,s.jsx)(eO,{viewerCanDismissReviews:B,reviewGroup:m.Qv.Approvals,opinionatedReviews:H,pullRequestId:P,viewerCanReRequestReviews:F}),M[50]=H,M[51]=P,M[52]=B,M[53]=F,M[54]=b):b=M[54],M[55]!==P||M[56]!==K||M[57]!==B||M[58]!==F?(N=(0,s.jsx)(eO,{viewerCanDismissReviews:B,reviewGroup:m.Qv.RequestedChanges,opinionatedReviews:K,pullRequestId:P,viewerCanReRequestReviews:F}),M[55]=P,M[56]=K,M[57]=B,M[58]=F,M[59]=N):N=M[59],M[60]!==L||M[61]!==P||M[62]!==B?(A=(0,s.jsx)(eP,{reviewGroup:m.Qv.PendingReviewRequest,viewerCanDismissReviews:B,pendingRequestedReviews:L,pullRequestId:P}),M[60]=L,M[61]=P,M[62]=B,M[63]=A):A=M[63],M[64]!==b||M[65]!==N||M[66]!==A?(I=(0,s.jsxs)("div",{className:eo.reviewerGroupsContainer,children:[b,N,A]}),M[64]=b,M[65]=N,M[66]=A,M[67]=I):I=M[67],M[68]!==Q||M[69]!==I?(j=(0,s.jsx)(ec,{isExpanded:Q,children:I}),M[68]=Q,M[69]=I,M[70]=j):j=M[70],M[71]!==V||M[72]!==y||M[73]!==j?(T=(0,s.jsxs)("section",{"aria-label":"Reviews","aria-describedby":V,className:"border-bottom color-border-subtle",children:[y,j]}),M[71]=V,M[72]=y,M[73]=j,M[74]=T):T=M[74],T}function eQ(){return(0,s.jsx)(l.CheckIcon,{size:16})}function e$(){return(0,s.jsx)(l.CodeReviewIcon,{size:16})}function eW(){return(0,s.jsx)(l.XIcon,{size:16})}function eV(){return(0,s.jsx)(l.FileDiffIcon,{size:16})}function eH(){return(0,s.jsx)(l.CheckIcon,{size:16})}try{eG.displayName||(eG.displayName="ReviewerSection")}catch{}function eK(e,t,r){if(!t.has(e))throw TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function ez(e,t){var r=eK(e,t,"get");return r.get?r.get.call(e):r.value}function eX(e,t,r){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object");t.set(e,r)}function eY(e,t,r){var n=eK(e,t,"set");if(n.set)n.set.call(e,r);else{if(!n.writable)throw TypeError("attempted to set read only private field");n.value=r}return r}var eJ=new WeakMap,eZ=new WeakMap,e0=new WeakMap,e1=new WeakMap,e2=new WeakMap,e3=new WeakMap;let ReviewerSectionStatus=class ReviewerSectionStatus extends BaseSectionStatus{get shouldRender(){return"DIRTY"!==this.pullRequest.mergeStateStatus&&"UNKNOWN"!==this.pullRequest.mergeStateStatus&&(ez(this,e2).length>0||ez(this,e3).length>0||this.consolidatedFailureReasons.length>0)}get sectionStatus(){return e9(this.numReviewsRequired,ez(this,e1),ez(this,e2),this.consolidatedFailureReasons,ez(this,e3))}get mergeBoxStatus(){switch(this.sectionStatus){case eB.APPROVED:case eB.REVIEW_REQUESTED:case eB.REVIEWED:return"PASSED";case eB.CHANGES_REQUESTED:return"FAILED";case eB.REVIEW_REQUIRED:default:return"NEUTRAL"}}get numReviewsRequired(){let e=ez(this,e0)?.flatMap(e=>e.requiredReviewers||[])||[];return e.length?Math.max(...e):0}get consolidatedFailureReasons(){return ez(this,eZ)||eY(this,eZ,[...new Set(ez(this,e0)?.flatMap(e=>e.failureReasons||[])||[])].filter(e8)),ez(this,eZ)}constructor(...e){super(...e),eX(this,e0,{get:e4,set:void 0}),eX(this,e1,{get:e5,set:void 0}),eX(this,e2,{get:e6,set:void 0}),eX(this,e3,{get:e7,set:void 0}),eX(this,eJ,{writable:!0,value:void 0}),eX(this,eZ,{writable:!0,value:void 0})}};function e4(){return ez(this,eJ)||eY(this,eJ,function(e){let t=e&&e.conditions.find(e=>"PULL_REQUEST_RULES"===e.type);return(t?.ruleRollups?.filter(e=>"PULL_REQUEST"===e.ruleType).map(e=>e.metadata)??[]).filter(e=>null!==e).filter(e=>"requiredReviewers"in e&&"requiresCodeowners"in e&&"failureReasons"in e).map(e=>{let t=e.failureReasons.map(e=>e.toUpperCase());return{requiredReviewers:e.requiredReviewers,requiresCodeowners:e.requiresCodeowners,failureReasons:t}})??[]}(this.mergeRequirements)),ez(this,eJ)}function e5(){return(ez(this,e0)?.filter(e=>e.requiresCodeowners)||[]).length>0}function e6(){return this.pullRequest.latestOpinionatedReviews}function e7(){return this.pullRequest.pendingReviewRequests}let e8=e=>"CODE_OWNER_REVIEW_REQUIRED"===e||"SOC2_APPROVAL_PROCESS_REQUIRED"===e||"CHANGES_REQUESTED"===e||"MORE_REVIEWS_REQUIRED"===e||"LAST_PUSH_APPROVAL_REQUIRED"===e,e9=(e,t,r,n,s)=>0===n.length&&r.length>0&&(e>0||t)?eB.APPROVED:n.includes("CODE_OWNER_REVIEW_REQUIRED")||n.includes("SOC2_APPROVAL_PROCESS_REQUIRED")||n.includes("MORE_REVIEWS_REQUIRED")||n.includes("LAST_PUSH_APPROVAL_REQUIRED")?eB.REVIEW_REQUIRED:n.includes("CHANGES_REQUESTED")?eB.CHANGES_REQUESTED:0===e&&s.length>0&&0===r.length?eB.REVIEW_REQUESTED:eB.REVIEWED;function te(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}function tt(e,t,r){if(!t.has(e))throw TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function tr(e,t){var r=tt(e,t,"get");return r.get?r.get.call(e):r.value}function tn(e,t,r){te(e,t),t.set(e,r)}function ts(e,t,r){var n=tt(e,t,"set");if(n.set)n.set.call(e,r);else{if(!n.writable)throw TypeError("attempted to set read only private field");n.value=r}return r}var ti=new WeakMap,ta=new WeakMap,to=new WeakMap,tl=new WeakMap,tc=new WeakSet;let MergeBoxStatusCalculator=class MergeBoxStatusCalculator{get overallStatus(){if("MERGED"===tr(this,ti).state)return"MERGED";if("CLOSED"===tr(this,ti).state)return"NEUTRAL";if(tr(this,ti).isInMergeQueue)return"QUEUED";if(tr(this,ti).isDraft)return"NEUTRAL";let e=Object.values(this.sections??[]).filter(e=>e.shouldConsiderStatus),t=e.some(e=>"FAILED"===e.mergeBoxStatus),r=e.every(e=>"PASSED"===e.mergeBoxStatus);return t&&tr(this,ti).viewerCanUpdate?"SOME_FAILED":r?"ALL_PASSED":"NEUTRAL"}get sections(){return tr(this,tl)}constructor(e,t,r){!function(e,t){te(e,t),t.add(e)}(this,tc),tn(this,ti,{writable:!0,value:void 0}),tn(this,ta,{writable:!0,value:void 0}),tn(this,to,{writable:!0,value:void 0}),tn(this,tl,{writable:!0,value:void 0}),ts(this,ti,e),ts(this,ta,t),ts(this,to,r),ts(this,tl,(function(e,t,r){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return r})(this,tc,tu).call(this))}};function tu(){return{BlockedSection:new BlockedSectionStatus(tr(this,ti),tr(this,ta),tr(this,to)),ClosedOrMergedStateMergeBox:new ClosedOrMergedStateSectionStatus(tr(this,ti),tr(this,ta),tr(this,to)),ChecksSection:new ChecksSectionStatus(tr(this,ti),tr(this,ta),tr(this,to)),ConflictsSection:new ConflictsSectionStatus(tr(this,ti),tr(this,ta),tr(this,to)),DraftStateSection:new DraftStateSectionStatus(tr(this,ti),tr(this,ta),tr(this,to)),MergeQueueSection:new MergeQueueSectionStatus(tr(this,ti),tr(this,ta),tr(this,to)),ReviewerSection:new ReviewerSectionStatus(tr(this,ti),tr(this,ta),tr(this,to))}}var td=r(70170),tm=r(98013),th=r(64899);function tp(e){return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}function tg(){return!document.hidden}function tf(){return!0}let tE=()=>(0,d.useSyncExternalStore)(tp,tg,tf);var t_=r(65510);function tS(e){let t,r=(0,i.c)(3),{pullRequestHeadSha:n}=e,{basePageDataUrl:s}=(0,g.Yu)(),a=`headSha:${n}`,o=`basePageDataURL:${s}`;return r[0]!==a||r[1]!==o?(t=[h.u.statusChecks,a,o],r[0]=a,r[1]=o,r[2]=t):t=r[2],t}function tR(e){let t,r,n,s=(0,i.c)(9),{pullRequestHeadSha:a}=e,o=(0,p.e)(h.u.statusChecks);s[0]!==a?(t={pullRequestHeadSha:a},s[0]=a,s[1]=t):t=s[1];let l=tS(t),c=(0,E.jE)();return s[2]!==o||s[3]!==c||s[4]!==l?(r=async()=>(0,f.H)(o,l,c),s[2]=o,s[3]=c,s[4]=l,s[5]=r):r=s[5],s[6]!==l||s[7]!==r?(n={queryKey:l,queryFn:r,staleTime:1e4},s[6]=l,s[7]=r,s[8]=n):n=s[8],(0,t_.U)(n)}var tC=r(47019),tv=r(2676),tx=r(95776);let tw={branchName:"ClosedOrMergedStateMergeBox-module__branchName--jGiSv"};var ty=r(52811);function tb(e){let t,r,n,a,o,c,m,g,f,_,R,C,v,x,w=(0,i.c)(62),{state:y,isCrossRepo:b,headRefName:N,headRepository:A,baseRepository:I,viewerCanDeleteHeadRef:j,viewerCanRestoreHeadRef:T,deprovisionableCodespaces:M}=e,[k,D]=(0,tC.A)(),U=(0,d.useRef)(null),[O,L]=(0,tC.A)(!1),P=M?M.count:0,q=T&&M&&P>0,B=P>1?"codespaces":"codespace";w[0]!==D?(t={onError:e=>{D(e)}},w[0]=D,w[1]=t):t=w[1];let{mutate:F,isPending:G}=function(e){let t,r,n,s,a=(0,i.c)(11),{onError:o}=e,l=(0,p.e)(h.u.deleteHeadRef),c=S(),u=(0,E.jE)();return a[0]!==l?(t=async()=>{let e=await (0,eA.q$)(l,{method:"POST",headers:{Accept:"application/json"}}),t=await (0,eA.hp)(e);return(0,eA.R)(e,t),t},a[0]=l,a[1]=t):t=a[1],a[2]!==c||a[3]!==u?(r=()=>{let e=new CustomEvent("head-ref-deleted");return document.dispatchEvent(e),u.invalidateQueries({queryKey:c},{cancelRefetch:!1})},a[2]=c,a[3]=u,a[4]=r):r=a[4],a[5]!==o?(n=e=>{o(e)},a[5]=o,a[6]=n):n=a[6],a[7]!==t||a[8]!==r||a[9]!==n?(s={mutationFn:t,onSuccess:r,onError:n},a[7]=t,a[8]=r,a[9]=n,a[10]=s):s=a[10],(0,eN.n)(s)}(t);w[2]!==F||w[3]!==D?(r=()=>{D(void 0),F(void 0)},w[2]=F,w[3]=D,w[4]=r):r=w[4];let Q=r;w[5]!==D||w[6]!==L?(n={onError:e=>{L(!1),D(e),U.current?.focus()}},w[5]=D,w[6]=L,w[7]=n):n=w[7];let{mutate:$,isPending:W}=function(e){let t,r,n,s,a=(0,i.c)(11),{onError:o}=e,l=(0,p.e)(h.u.cleanupCodespaces),c=S(),u=(0,E.jE)();return a[0]!==l?(t=async()=>{let e=await (0,eA.q$)(l,{method:"POST",headers:{Accept:"application/json"}}),t=await (0,eA.hp)(e);return(0,eA.R)(e,t),t},a[0]=l,a[1]=t):t=a[1],a[2]!==c||a[3]!==u?(r=()=>u.invalidateQueries({queryKey:c},{cancelRefetch:!1}),a[2]=c,a[3]=u,a[4]=r):r=a[4],a[5]!==o?(n=e=>{o(e)},a[5]=o,a[6]=n):n=a[6],a[7]!==t||a[8]!==r||a[9]!==n?(s={mutationFn:t,onSuccess:r,onError:n},a[7]=t,a[8]=r,a[9]=n,a[10]=s):s=a[10],(0,eN.n)(s)}(n);w[8]!==B||w[9]!==$||w[10]!==D||w[11]!==L?(a=()=>{D(void 0),$(void 0,{onSuccess:()=>{L(!1),setTimeout(()=>(0,ty.i)(`Deleting ${B}.`),1e3)}})},w[8]=B,w[9]=$,w[10]=D,w[11]=L,w[12]=a):a=w[12];let V=a;w[13]!==D||w[14]!==L?(o=()=>{D(void 0),L(!0)},w[13]=D,w[14]=L,w[15]=o):o=w[15];let H=o;w[16]!==N||w[17]!==A?(c=()=>A&&A.name?(0,eM.WJ9)({owner:A.ownerLogin,repo:A.name,branch:N}):"",w[16]=N,w[17]=A,w[18]=c):c=w[18];let K=c;w[19]!==q||w[20]!==y?(m=()=>q?"Branch successfully deleted":"MERGED"===y?"Pull request successfully merged and closed":"Closed with unmerged commits",w[19]=q,w[20]=y,w[21]=m):m=w[21];let z=m;w[22]!==G||w[23]!==Q?(g=(0,s.jsx)(ed.Q,{loading:G,loadingAnnouncement:"Deleting branch",onClick:Q,children:"Delete branch"}),w[22]=G,w[23]=Q,w[24]=g):g=w[24];let X=g;w[25]!==B||w[26]!==H?(f=(0,s.jsxs)(ed.Q,{ref:U,onClick:H,children:["Delete ",B]}),w[25]=B,w[26]=H,w[27]=f):f=w[27];let Y=f;w[28]===Symbol.for("react.memo_cache_sentinel")?(_=(0,s.jsx)("span",{id:"js-pull-restorable",className:"d-none"}),w[28]=_):_=w[28];let J=_,Z=`${A?.url}/settings`;w[29]!==X||w[30]!==Y||w[31]!==q||w[32]!==j?(R=()=>j?X:q?Y:J,w[29]=X,w[30]=Y,w[31]=q,w[32]=j,w[33]=R):R=w[33];let ee=R;w[34]!==I?.name||w[35]!==I?.ownerLogin||w[36]!==P||w[37]!==B||w[38]!==M||w[39]!==K||w[40]!==N||w[41]!==b||w[42]!==Z||w[43]!==q||w[44]!==y||w[45]!==j?(C=()=>{if("MERGED"===y)if(j)return(0,s.jsxs)(s.Fragment,{children:["You're all set \u2014 the"," ",(0,s.jsx)(tv.A,{className:(0,u.$)(tw.branchName,"d-inline wb-break-all"),href:K(),children:N})," ","branch can be safely deleted.",b&&(0,s.jsxs)(s.Fragment,{children:[" ","If you wish, you can also delete this fork of"," ",(0,s.jsx)("strong",{children:`${I?.ownerLogin}/${I?.name}`})," in the"," ",(0,s.jsx)(et.A,{href:Z,inline:!0,children:"settings"}),"."]})]});else if(q)return(0,s.jsxs)(s.Fragment,{children:["You're all set \u2014 the ",P," ",B," for head branch can be safely deleted. You can also manage your codespaces in"," ",(0,s.jsx)(et.A,{inline:!0,href:M.repositoryCodespacePath||"",children:"settings."})," "]});else return(0,s.jsx)(s.Fragment,{children:"You're all set \u2014 the branch has been merged."});return j?(0,s.jsxs)(s.Fragment,{children:["This pull request is closed, but the ",(0,s.jsx)(tv.A,{href:K(),children:N})," ","branch has unmerged commits."]}):(0,s.jsx)(s.Fragment,{children:"This pull request is closed."})},w[34]=I?.name,w[35]=I?.ownerLogin,w[36]=P,w[37]=B,w[38]=M,w[39]=K,w[40]=N,w[41]=b,w[42]=Z,w[43]=q,w[44]=y,w[45]=j,w[46]=C):C=w[46];let er=C;w[47]!==P||w[48]!==B||w[49]!==W||w[50]!==G||w[51]!==k||w[52]!==ee||w[53]!==V||w[54]!==z||w[55]!==O||w[56]!==D||w[57]!==L||w[58]!==er?(v=()=>{if(!k)return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(tx.A,{"aria-labelledby":"delete-codespaces-dialog-title",isOpen:O,returnFocusRef:U,onDismiss:()=>L(!1),children:[(0,s.jsx)(tx.A.Header,{id:"delete-codespaces-dialog-title",children:"Delete Codespace?"}),(0,s.jsxs)("div",{className:"p-3",children:[(0,s.jsxs)("span",{children:["Are you sure you want to delete ",P," ",B," for the head branch?"]}),(0,s.jsxs)("div",{className:"d-flex flex-justify-end mt-3",children:[(0,s.jsx)(ed.Q,{className:"mr-1",inactive:W,onClick:()=>{W||(L(!1),U.current?.focus())},children:"Cancel"}),(0,s.jsx)(ed.Q,{className:"mr-1",variant:"danger",loading:W,loadingAnnouncement:`Deleting ${B}.`,onClick:V,children:`Delete ${B}`})]})]})]}),(0,s.jsx)(ea,{title:z(),subtitle:er(),rightSideContent:ee()})]});{let e=404!==k.cause;return(0,s.jsx)(ea,{title:"Some codespaces could not be deleted."===k.message?`Couldn't delete ${B} `:"Couldn't update branch",subtitle:k.message,rightSideContent:e?(0,s.jsx)(ed.Q,{disabled:G,leadingVisual:l.SyncIcon,onClick:()=>D(void 0),children:"Try again"}):void 0})}},w[47]=P,w[48]=B,w[49]=W,w[50]=G,w[51]=k,w[52]=ee,w[53]=V,w[54]=z,w[55]=O,w[56]=D,w[57]=L,w[58]=er,w[59]=v):v=w[59];let en=v;return w[60]!==en?(x=en(),w[60]=en,w[61]=x):x=w[61],x}try{tb.displayName||(tb.displayName="ClosedOrMergedStateMergeBox")}catch{}var tN=r(75177);let tA={mergeabilityIcon:"MergeabilityIcon-module__mergeabilityIcon--GOu7M"};function tI(e){let t,r,n,a,o=(0,i.c)(9),{icon:l,ariaLabel:c,iconBackgroundColor:d}=e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,u.$)("d-flex flex-justify-center flex-items-center mr-2 rounded-2 height-2 width-2 position-absolute",tA.mergeabilityIcon),o[0]=t):t=o[0],o[1]!==d?(r={backgroundColor:d},o[1]=d,o[2]=r):r=o[2],o[3]!==c||o[4]!==l?(n=(0,s.jsx)(ej.A,{className:"fgColor-onEmphasis",icon:l,size:24,"aria-label":c}),o[3]=c,o[4]=l,o[5]=n):n=o[5],o[6]!==r||o[7]!==n?(a=(0,s.jsx)(tN.A,{className:t,sx:r,children:n}),o[6]=r,o[7]=n,o[8]=a):a=o[8],a}try{tI.displayName||(tI.displayName="MergeabilityIcon")}catch{}let tj={mergeboxLoading:"MergeBox-module__mergeboxLoading--welQH",mergePartialContainer:"MergeBox-module__mergePartialContainer--N4i3Z",mergeBoxAdjustBorders:"MergeBox-module__mergeBoxAdjustBorders--G2Hf8"};var tT=r(32647);let tM={boundaryContainer:"MergeBoxErrorState-module__boundaryContainer--W5nVZ"};function tk(e){let t,r,n,a,o,c=(0,i.c)(7),{hideIcon:u}=e;return c[0]!==u?(t=!u&&(0,s.jsx)(tI,{icon:l.GitMergeIcon,ariaLabel:"Merge status cannot be loaded",iconBackgroundColor:"neutral.emphasis"}),c[0]=u,c[1]=t):t=c[1],c[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,s.jsx)(tT.E.Visual,{children:(0,s.jsx)(l.AlertIcon,{size:24,className:"fgColor-muted mt-3 mb-3"})}),c[2]=r):r=c[2],c[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,s.jsx)(tT.E.Heading,{children:(0,s.jsx)("strong",{children:"Merge status cannot be loaded"})}),c[3]=n):n=c[3],c[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,s.jsxs)(tT.E,{border:!0,children:[r,n,(0,s.jsx)("div",{className:"mb-n2",children:(0,s.jsxs)(tT.E.Description,{children:["Try reloading the page, or if the problem persists"," ",(0,s.jsxs)("a",{className:"fgColor-muted",href:"https://support.github.com/",children:[(0,s.jsx)("u",{children:"contact support"}),"."]})]})}),(0,s.jsx)(tT.E.SecondaryAction,{href:"https://www.githubstatus.com/",children:"GitHub status "})]}),c[4]=a):a=c[4],c[5]!==t?(o=(0,s.jsxs)("div",{className:`position-relative ${tM.boundaryContainer}`,children:[t,a]}),c[5]=t,c[6]=o):o=c[6],o}try{tk.displayName||(tk.displayName="MergeBoxErrorState")}catch{}function tD(e){let t,r=(0,i.c)(3),{bgColor:n,color:a}=e,o=void 0===n?"neutral.emphasis":n,l=void 0===a?"fg.onEmphasis":a;return r[0]!==o||r[1]!==l?(t=(0,s.jsx)(er.A,{icon:tU,size:32,sx:{bg:o,color:l}}),r[0]=o,r[1]=l,r[2]=t):t=r[2],t}function tU(){return(0,s.jsx)(l.AlertFillIcon,{size:16})}try{tD.displayName||(tD.displayName="AlertIcon")}catch{}var tO=r(45968);let tL={BlockedSectionMessage:"BlockedSection-module__BlockedSectionMessage--fXzjI"};function tP(e){let t,r,n,a=(0,i.c)(5),{failingConditionsAndRules:o}=e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,s.jsx)(tD,{bgColor:"danger.emphasis"}),a[0]=t):t=a[0],a[1]!==o?(r=o.map(tq),a[1]=o,a[2]=r):r=a[2],a[3]!==r?(n=(0,s.jsx)("section",{"aria-label":"Merging is blocked",className:"border-bottom borderColor-muted",children:(0,s.jsx)(ea,{title:"Merging is blocked",icon:t,children:(0,s.jsx)("ul",{className:"list-style-none",children:r})})}),a[3]=r,a[4]=n):n=a[4],n}function tq(e){return e&&"message"in e&&(0,s.jsxs)("li",{className:tL.BlockedSectionMessage,children:[(0,s.jsx)(tO.JR,{html:e.message||""})," ",(0,s.jsx)(tB,{ruleName:e.displayName})]},e.displayName)}function tB(e){let t=(0,i.c)(1),{ruleName:r}=e;if("UNVERIFIED_EMAIL"===r){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsxs)(s.Fragment,{children:["You will be able to merge this pull request after you"," ",(0,s.jsx)(et.A,{href:"/settings/emails",inline:!0,children:"verify your email address"}),"."]}),t[0]=e):e=t[0],e}return null}try{tP.displayName||(tP.displayName="BlockedSection")}catch{}try{tB.displayName||(tB.displayName="AdditionalMessaging")}catch{}let tF={ACTION_REQUIRED:{icon:l.XCircleFillIcon,iconColor:"var(--fgColor-danger, var(--color-danger-fg))",isPending:!1,isSuccess:!1},CANCELLED:{icon:l.StopIcon,iconColor:"var(--fgColor-muted, var(--color-fg-muted))",isPending:!1,isSuccess:!1},COMPLETED:{icon:l.CheckIcon,iconColor:"var(--fgColor-success, var(--color-success-fg))",isSuccess:!0,isPending:!1},ERROR:{icon:l.XCircleFillIcon,iconColor:"var(--fgColor-danger, var(--color-danger-fg))",isPending:!1,isSuccess:!1},EXPECTED:{icon:l.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",isPending:!0,isSuccess:!1},FAILURE:{icon:l.XCircleFillIcon,iconColor:"var(--fgColor-danger, var(--color-danger-fg))",isPending:!1,isSuccess:!1},IN_PROGRESS:{icon:l.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",isPending:!0,isSuccess:!1},NEUTRAL:{icon:l.SquareFillIcon,iconColor:"var(--fgColor-muted, var(--color-fg-muted))",isPending:!1,isSuccess:!1},PENDING:{icon:l.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",isPending:!0,isSuccess:!1},QUEUED:{icon:l.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",isPending:!0,isSuccess:!1},REQUESTED:{icon:l.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",backgroundColor:"none",isPending:!1,isSuccess:!1},SKIPPED:{icon:l.SkipIcon,iconColor:"var(--fgColor-muted, var(--color-fg-muted))",isPending:!1,isSuccess:!1},STALE:{icon:l.MoonIcon,iconColor:"var(--fgColor-muted, var(--color-fg-muted))",isPending:!1,isSuccess:!1},STARTUP_FAILURE:{icon:l.XCircleFillIcon,iconColor:"var(--fgColor-danger, var(--color-danger-fg))",isPending:!1,isSuccess:!1},SUCCESS:{icon:l.CheckIcon,iconColor:"var(--fgColor-success, var(--color-success-fg))",isSuccess:!0,isPending:!1},TIMED_OUT:{icon:l.XCircleFillIcon,iconColor:"var(--fgColor-danger, var(--color-danger-fg))",isPending:!1,isSuccess:!1},WAITING:{icon:l.ClockIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",isPending:!0,isSuccess:!1},_UNKNOWN_VALUE:{icon:l.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",isPending:!0,isSuccess:!1}},tG={FAILURE:"failing",NEUTRAL:"neutral",TIMED_OUT:"timed out",CANCELLED:"cancelled",STALE:"stale",PENDING:"pending",IN_PROGRESS:"in progress",REQUESTED:"requested",QUEUED:"queued",SKIPPED:"skipped",EXPECTED:"expected",SUCCESS:"successful",ALL:"all"};Object.keys(tF);let tQ=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});function t$(e,t){return tQ.compare(e.displayName,t.displayName)}function tW(e,t,r,n){if(n?.statusChecksGrouping==="ungrouped")return{ALL:e};let s={};for(let e of Object.keys(t))s[e]=[];return e.reduce((e,n)=>{let s=r(n),i=Object.keys(t).find(e=>t[e].includes(s));if(i){let t=e[i];t&&t.push(n)}return e},s)}function tV(e,t,r){if(r?.statusChecksGrouping==="ungrouped")return{ALL:e.reduce((e,t)=>e+t.count,0)};let n=tW(e,t,e=>e.state,r),s=e=>e?.reduce((e,t)=>e+t.count,0)??0;return Object.fromEntries(Object.keys(n).map(e=>[e,s(n[e])]))}function tH(e){let t={};for(let r of e)t[r.state]=r.count;return{statusCheckCounts:JSON.stringify(t)}}var tK=r(98831);let tz={PASSED:"success",PENDING:"pending",PENDING_APPROVAL:"pending",PENDING_FAILED:"failure",PENDING_CONFLICTS:"pending",SOME_FAILED:"failure",FAILED:"failure"};function tX(){(0,tK.gd)()}function tY(){return(0,tK.iD)("merge-queue"),tJ}function tJ(){(0,tK.gd)()}var tZ=r(60183),t0=r(10569),t1=r(87330);let t2={status_checks_grouping_preference:["grouped_by_status","ungrouped"]},t3={checksGroupHeadingButton:"ExpandedChecks-module__checksGroupHeadingButton--mccqk",checksContainer:"ExpandedChecks-module__checksContainer--R2xmH",containPaint:"ExpandedChecks-module__containPaint--ePsGx",expandableWrapper:"ExpandedChecks-module__expandableWrapper--mgDmj",expandableListView:"ExpandedChecks-module__expandableListView--yxB_y",isExpanded:"ExpandedChecks-module__isExpanded--w2Qyq",groupHeader:"ExpandedChecks-module__groupHeader--btvfK",totalChecksCountText:"ExpandedChecks-module__totalChecksCountText--TkhKY",checkSettingsButton:"ExpandedChecks-module__checkSettingsButton--U3pNI"},t4={ErrorFlash:"ChecksGroup-module__ErrorFlash--kQoM4",ErrorOcticon:"ChecksGroup-module__ErrorOcticon--LFfTW"};function t5(e){let t,r,n,a,o,c,m=(0,i.c)(30),{children:g,count:f,groupStatus:_,isToggleVisible:R,analyticsMetadata:C,showSettingsIcon:v,setUserPreferences:x,pullRequestId:w,userPreferences:y}=e;m[0]!==f||m[1]!==y?.statusChecksGrouping?(t=function(e){return y?.statusChecksGrouping==="ungrouped"?f>1?`${f} checks`:`${f} check`:`${f} ${e} check${f>1?"s":""}`},m[0]=f,m[1]=y?.statusChecksGrouping,m[2]=t):t=m[2];let b=t,[N,A]=(0,eh.Fo)(`${w}:checksGroup:${_}Expanded`,!0),{sendAnalyticsEvent:I}=(0,ee.s)(),j=tG[_],T=(0,d.useId)(),M=N||!R,k=b(j),D=!R||N,[U,O]=(0,tC.A)(null);m[3]!==O?(r={onError:e=>{O(e.message)}},m[3]=O,m[4]=r):r=m[4];let{mutate:L}=function(e){let t,r,n,s,a=(0,i.c)(11),{onError:o}=e,l=(0,p.e)(h.u.updateMergeBoxUserPreference),c=S(),u=(0,E.jE)();return a[0]!==l?(t=async e=>{if(!e.preferenceName||!e.preference)throw Error("Preference name and value must be provided.");if(!(e.preferenceName in t2))throw Error("Invalid preference name.");if(!t2[e.preferenceName].includes(e.preference))throw Error("Invalid preference value.");let t=await (0,eA.q$)(l,{method:"POST",headers:{Accept:"application/json"},body:e}),r=await (0,eA.hp)(t);return(0,eA.R)(t,r),r},a[0]=l,a[1]=t):t=a[1],a[2]!==c||a[3]!==u?(r=()=>u.invalidateQueries({queryKey:c},{cancelRefetch:!1}),a[2]=c,a[3]=u,a[4]=r):r=a[4],a[5]!==o?(n=e=>{o(e)},a[5]=o,a[6]=n):n=a[6],a[7]!==t||a[8]!==r||a[9]!==n?(s={mutationFn:t,onSuccess:r,onError:n},a[7]=t,a[8]=r,a[9]=n,a[10]=s):s=a[10],(0,eN.n)(s)}(r);return m[5]!==C||m[6]!==T||m[7]!==_||m[8]!==k||m[9]!==N||m[10]!==I||m[11]!==A||m[12]!==x||m[13]!==R||m[14]!==v||m[15]!==L||m[16]!==y?(n=R&&(0,s.jsxs)("div",{className:t3.groupHeader,children:[y?.statusChecksGrouping==="ungrouped"?(0,s.jsxs)("span",{className:(0,u.$)(t3.totalChecksCountText,"pl-2 text-semibold f6"),children:[" ",k," "]}):(0,s.jsx)(ed.Q,{"aria-controls":T,"aria-expanded":N,"aria-label":N?`Collapse ${k} group`:`Expand ${k} group`,className:t3.checksGroupHeadingButton,variant:"invisible",size:"small",trailingVisual:()=>(0,s.jsx)(ep,{isExpanded:N}),onClick:()=>{I(N?"checks_group.collapse":"checks_group.expand","MERGEBOX_CHECKS_GROUP_TOGGLE_BUTTON",{...C,group:_}),A(!N)},children:k}),v&&x&&(0,s.jsxs)(t0.W,{children:[(0,s.jsx)(t0.W.Anchor,{children:(0,s.jsx)(t1.K,{icon:l.GearIcon,variant:"invisible","aria-label":"Checks settings",className:t3.checkSettingsButton})}),(0,s.jsx)(t0.W.Overlay,{width:"auto",children:(0,s.jsxs)(ev.l,{selectionVariant:"single",children:[(0,s.jsx)(ev.l.Item,{onSelect:()=>{y?.statusChecksGrouping!=="grouped_by_status"&&(L({preferenceName:"status_checks_grouping_preference",preference:"grouped_by_status"}),x({...y,statusChecksGrouping:"grouped_by_status"}))},selected:y?.statusChecksGrouping==="grouped_by_status",children:"Group by status"}),(0,s.jsx)(ev.l.Item,{onSelect:()=>{y?.statusChecksGrouping!=="ungrouped"&&(L({preferenceName:"status_checks_grouping_preference",preference:"ungrouped"}),x({...y,statusChecksGrouping:"ungrouped"}))},selected:y?.statusChecksGrouping==="ungrouped",children:"No grouping"})]})})]})]}),m[5]=C,m[6]=T,m[7]=_,m[8]=k,m[9]=N,m[10]=I,m[11]=A,m[12]=x,m[13]=R,m[14]=v,m[15]=L,m[16]=y,m[17]=n):n=m[17],m[18]!==U?(a=U&&(0,s.jsxs)(ex.A,{variant:"danger",className:t4.ErrorFlash,children:[(0,s.jsx)(ej.A,{icon:l.StopIcon,className:t4.ErrorOcticon}),U]}),m[18]=U,m[19]=a):a=m[19],m[20]!==g||m[21]!==T||m[22]!==j||m[23]!==D||m[24]!==M?(o=D&&(0,s.jsx)("div",{className:(0,u.$)(t3.expandableWrapper,M&&t3.isExpanded),id:T,"aria-label":`${j} checks`,role:"group",children:(0,s.jsx)("div",{className:t3.expandableListView,children:(0,s.jsx)(eu.u,{title:`${j} checks`,titleHeaderTag:"h3",strictFocusZone:!1,children:g})})}),m[20]=g,m[21]=T,m[22]=j,m[23]=D,m[24]=M,m[25]=o):o=m[25],m[26]!==n||m[27]!==a||m[28]!==o?(c=(0,s.jsxs)("div",{children:[n,a,o]}),m[26]=n,m[27]=a,m[28]=o,m[29]=c):c=m[29],c}try{t5.displayName||(t5.displayName="ChecksGroup")}catch{}var t6=r(89169),t7=r(47139),t8=r(33488),t9=r(42265),re=r(52369);let rt={spinnerWrapper:"StatusCheckRow-module__spinnerWrapper--uyV8b",spinnerInner:"StatusCheckRow-module__spinnerInner--SqRyc",staticSpinner:"StatusCheckRow-module__staticSpinner--uR3cb",checksSpinnerWrapper:"StatusCheckRow-module__checksSpinnerWrapper--PBuMk",title:"StatusCheckRow-module__title--uUOvA",titleHeader:"StatusCheckRow-module__titleHeader--Nmb60",titleDescription:"StatusCheckRow-module__titleDescription--Y44Vb",leadingVisual:"StatusCheckRow-module__leadingVisual--RPl_6",requiredLabel:"StatusCheckRow-module__requiredLabel--PvnoD"};var rr=r(29943),rn=r(99377);let rs={statusCheckActionBar:"StatusCheckRowActionBar-module__statusCheckActionBar--rAKDB"};var ri=r(33449);function ra(e){let t,r,n,a=(0,i.c)(5),{failureContext:o}=e;a[0]!==o.jobId?(t=()=>(0,rr.qR)({id:"copilot-explain-error-action",intent:rn.wh.actionsAgent,content:(0,ri.oo)(o.jobId),references:[]}),a[0]=o.jobId,a[1]=t):t=a[1];let c=t;return a[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,s.jsx)(ev.l.LeadingVisual,{children:(0,s.jsx)(l.CopilotIcon,{})}),a[2]=r):r=a[2],a[3]!==c?(n=(0,s.jsxs)(ev.l.Item,{onSelect:c,children:["Explain error",r]}),a[3]=c,a[4]=n):n=a[4],n}function ro(e){let t,r,n,a=(0,i.c)(6),{targetUrl:o}=e,{sendAnalyticsEvent:c}=(0,ee.s)();a[0]!==c?(t=()=>{c("status_check_row_action_bar.view_details_click","VIEW_DETAILS_MENU_ITEM")},a[0]=c,a[1]=t):t=a[1];let u=t;return a[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,s.jsx)(ev.l.LeadingVisual,{children:(0,s.jsx)(l.ArrowRightIcon,{})}),a[2]=r):r=a[2],a[3]!==u||a[4]!==o?(n=(0,s.jsxs)(ev.l.LinkItem,{href:o,onClick:u,children:["View details",r]}),a[3]=u,a[4]=o,a[5]=n):n=a[5],n}function rl(e){let t,r=(0,i.c)(7),{copilotCheckRunFailureContext:n,targetUrl:a}=e;if(r[0]!==n||r[1]!==a){let e=[];if(null!=n){let t;r[3]!==n?(t={key:"copilot-explain-error",render:()=>(0,s.jsx)(ra,{failureContext:n})},r[3]=n,r[4]=t):t=r[4],e.push(t)}if(a){let t;r[5]!==a?(t={key:"view-details",render:()=>(0,s.jsx)(ro,{targetUrl:a})},r[5]=a,r[6]=t):t=r[6],e.push(t)}t=(0,s.jsx)(eI.L,{label:"actions",staticMenuActions:e,className:rs.statusCheckActionBar}),r[0]=n,r[1]=a,r[2]=t}else t=r[2];return t}try{ra.displayName||(ra.displayName="CopilotExplainErrorMenuItem")}catch{}try{ro.displayName||(ro.displayName="ViewDetailsMenuItem")}catch{}try{rl.displayName||(rl.displayName="StatusCheckRowActionBar")}catch{}function rc(e){let t,r,n=(0,i.c)(5),{iconColor:a,icon:o}=e;return n[0]!==a?(t={color:a},n[0]=a,n[1]=t):t=n[1],n[2]!==o||n[3]!==t?(r=(0,s.jsx)(ej.A,{icon:o,sx:t}),n[2]=o,n[3]=t,n[4]=r):r=n[4],r}function ru(e){let t,r,n,a=(0,i.c)(5),{animated:o}=e,u=void 0===o||o;return a[0]!==u?(t=u?(0,s.jsx)(c.A,{size:"small"}):(0,s.jsx)(l.CircleIcon,{size:"small",className:rt.staticSpinner}),a[0]=u,a[1]=t):t=a[1],a[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,s.jsx)("div",{className:rt.spinnerWrapper,children:(0,s.jsx)("div",{className:rt.spinnerInner})}),a[2]=r):r=a[2],a[3]!==t?(n=(0,s.jsxs)("div",{className:rt.checksSpinnerWrapper,children:[t,r]}),a[3]=t,a[4]=n):n=a[4],n}let rd=(0,d.memo)(function(e){let t,r,n,a,o,l,c,m,h,p,g,f,E,_,S,R,C=(0,i.c)(47),{additionalContext:v,avatarUrl:x,copilotCheckRunFailureContext:w,description:y,displayName:b,state:N,stateChangedAt:A,targetUrl:I,isRequired:j,reserveSpaceForRequiredBadge:T,reserveSpaceForActionBar:M,shouldAnimate:k}=e,D=void 0===k||k,U=tF[N],O=`${b} ${v?v.charAt(0).toLowerCase()+v.slice(1):""}`,L=T&&!M,[P,q]=(0,d.useState)(!1),B=(0,d.useRef)(null),F=(0,d.useRef)(null);C[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{let e=new ResizeObserver(()=>{if(B.current&&F.current){let e=F.current.offsetWidth;q(B.current.offsetWidth+31>e)}});return F.current&&e.observe(F.current),()=>{e.disconnect()}},C[0]=t):t=C[0],C[1]!==b?(r=[b],C[1]=b,C[2]=r):r=C[2],(0,d.useEffect)(t,r),C[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,s.jsx)("div",{}),C[3]=n):n=C[3],C[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,u.$)(eC.listItem),C[4]=a):a=C[4],C[5]!==w||C[6]!==M||C[7]!==I?(o=M?(0,s.jsx)(rl,{copilotCheckRunFailureContext:w,targetUrl:I}):(0,s.jsx)(s.Fragment,{}),C[5]=w,C[6]=M,C[7]=I,C[8]=o):o=C[8],C[9]===Symbol.for("react.memo_cache_sentinel")?(l=(0,u.$)(rt.leadingVisual,"mt-2"),C[9]=l):l=C[9],C[10]!==D||C[11]!==N||C[12]!==U?(c="IN_PROGRESS"===N?(0,s.jsx)(ru,{animated:D}):(0,s.jsx)(rc,{icon:U.icon,iconColor:U.iconColor}),C[10]=D,C[11]=N,C[12]=U,C[13]=c):c=C[13],C[14]!==x||C[15]!==b?(m=x?(0,s.jsx)(eR.r,{alt:b,size:20,square:!0,src:x,className:"flex-shrink-0 ml-2 mr-2"}):(0,s.jsx)(t8.N,{size:20,square:!0,className:"flex-shrink-0 ml-2 mr-2"}),C[14]=x,C[15]=b,C[16]=m):m=C[16],C[17]!==c||C[18]!==m?(h=(0,s.jsx)(t9.B,{children:(0,s.jsxs)(eS.e,{className:l,children:[c,m]})}),C[17]=c,C[18]=m,C[19]=h):h=C[19];let G=b??"",Q=I??void 0,$=P?`${b} ${v} ${y}`:void 0;C[20]!==$?(p={title:$},C[20]=$,C[21]=p):p=C[21];let W=("IN_PROGRESS"===N||"QUEUED"===N)&&"text-italic";C[22]!==W?(g=(0,u.$)(rt.titleDescription,W),C[22]=W,C[23]=g):g=C[23],C[24]!==v||C[25]!==N||C[26]!==A?(f=function({state:e,stateChangedAt:t,additionalContext:r}){switch(e){case"IN_PROGRESS":return(0,s.jsxs)("span",{children:["Started ",(0,s.jsx)(t6.A,{datetime:t})]});case"SKIPPED":return(0,s.jsxs)("span",{children:["Skipped ",(0,s.jsx)(t6.A,{datetime:t})]});case"QUEUED":return(0,s.jsx)("span",{children:"Queued"});default:return(0,s.jsx)("span",{children:r})}}({state:N,stateChangedAt:A,additionalContext:v}),C[24]=v,C[25]=N,C[26]=A,C[27]=f):f=C[27];let V=y&&`\u{2014} ${y}`;return C[28]!==g||C[29]!==f||C[30]!==V?(E=(0,s.jsxs)("span",{className:g,children:[f," ",V]}),C[28]=g,C[29]=f,C[30]=V,C[31]=E):E=C[31],C[32]!==G||C[33]!==Q||C[34]!==p||C[35]!==E?(_=(0,s.jsx)(e_.ao,{containerClassName:rt.title,headingClassName:rt.titleHeader,value:G,href:Q,linkProps:p,headingRef:B,headerContainerRef:F,children:E}),C[32]=G,C[33]=Q,C[34]=p,C[35]=E,C[36]=_):_=C[36],C[37]!==j||C[38]!==L||C[39]!==T?(S=T?(0,s.jsx)(re.V,{children:j&&(0,s.jsx)("div",{className:(0,u.$)(rt.requiredLabel,"flex-shrink-0 fgColor-default",L&&"pr-3"),children:(0,s.jsx)(t7.A,{children:"Required"})})}):(0,s.jsx)("div",{className:"px-5"}),C[37]=j,C[38]=L,C[39]=T,C[40]=S):S=C[40],C[41]!==O||C[42]!==h||C[43]!==_||C[44]!==S||C[45]!==o?(R=(0,s.jsxs)(eE.c,{title:n,"aria-label":O,className:a,secondaryActions:o,children:[h,_,S]}),C[41]=O,C[42]=h,C[43]=_,C[44]=S,C[45]=o,C[46]=R):R=C[46],R});try{rc.displayName||(rc.displayName="StatusIcon")}catch{}try{ru.displayName||(ru.displayName="CheckSpinner")}catch{}try{rd.displayName||(rd.displayName="StatusCheckRow")}catch{}let rm={FAILURE:["CANCELLED","ERROR","FAILURE","STALE","STARTUP_FAILURE","TIMED_OUT"],PENDING:["ACTION_REQUIRED","EXPECTED","PENDING","QUEUED","REQUESTED","WAITING","_UNKNOWN_VALUE"],IN_PROGRESS:["IN_PROGRESS"],SKIPPED:["SKIPPED"],NEUTRAL:["NEUTRAL"],SUCCESS:["SUCCESS","COMPLETED"]};function rh({pullRequestId:e,statusChecks:t,statusRollupSummary:r,mergeBoxUserPreferences:n}){let[i,a]=(0,d.useState)(n||null),o=(0,d.useMemo)(()=>t.sort(t$),[t]),l=tV(r,rm,i),c=tW(o,rm,e=>e.state,i),m=(0,tZ.u)("mergebox_smarter_checks_keys"),h=(0,tZ.u)("mergebox_paint_containment"),p=t.some(e=>e.isRequired),g=t.some(e=>e.copilotCheckRunFailureContext||!!e.targetUrl),f=Object.entries(l).reduce((e,[,t])=>t>0?e+1:e,0),E=t.length>0&&t.every(e=>e.state===t[0]?.state),_=f>1||i?.statusChecksGrouping==="ungrouped"&&!E;return(0,s.jsx)("div",{className:(0,u.$)(t3.checksContainer,{[t3.containPaint]:h}),children:Object.entries(l).filter(([,e])=>e>0).map(([t,n],o)=>{let l=n<50;return(0,s.jsx)(t5,{count:n,groupStatus:t,isToggleVisible:_,pullRequestId:e,analyticsMetadata:tH(r),setUserPreferences:a,userPreferences:i,showSettingsIcon:i&&0===o,children:c[t]?.map(e=>{if(!e)return null;let t=m?`${e.displayName}-${e.state}-${e.targetUrl}-${e.stateChangedAt}`:crypto.randomUUID();return(0,s.jsx)(rd,{...e,shouldAnimate:l,reserveSpaceForActionBar:g,reserveSpaceForRequiredBadge:p},t)})},t)})})}try{rh.displayName||(rh.displayName="ExpandedChecksList")}catch{}let rp={iconWrapper:"StatusCheckStatesIcon-module__iconWrapper--QKoB5",icon:"StatusCheckStatesIcon-module__icon--WxAzZ","icon-animate":"StatusCheckStatesIcon-module__icon-animate--cC7m6"},rg={PASSING:(0,s.jsx)(er.A,{icon:()=>(0,s.jsx)(l.CheckIcon,{size:16}),className:"bgColor-success-emphasis fgColor-onEmphasis",size:32}),FAILING:(0,s.jsx)(er.A,{icon:()=>(0,s.jsx)(l.XIcon,{size:16}),className:"bgColor-danger-emphasis fgColor-onEmphasis",size:32})},rf={FAILURE:["CANCELLED","ERROR","FAILURE","STALE","STARTUP_FAILURE","TIMED_OUT"],PENDING:["_UNKNOWN_VALUE","EXPECTED","QUEUED","PENDING","WAITING","REQUESTED","ACTION_REQUIRED","IN_PROGRESS"],SKIPPED:["SKIPPED","NEUTRAL"],SUCCESS:["SUCCESS","COMPLETED"]},rE={length:1e3,delay:0},r_={FAILURE:"var(--fgColor-danger)",SUCCESS:"var(--fgColor-success)",PENDING:"var(--fgColor-attention)",SKIPPED:"var(--fgColor-neutral)"},rS=2*Math.PI*44,rR={gapPercent:5,strokeWidth:12,size:32,circleSize:100,circumference:rS,percentToDegree:3.6,percentToPx:rS/100},rC=(e,t)=>{if(0===e)return e;let r=0;for(let e=0;e<t.length;e++){let n=t[e];n&&(r+=n+rR.gapPercent)}return r};function rv({statusRollupSummary:e}){let[t,r]=(0,d.useState)(!1),n=(0,d.useRef)(void 0),i=(0,d.useMemo)(()=>(function(e){let t,r=tV(e,rf),n=[{name:"SUCCESS",count:r.SUCCESS??0},{name:"SKIPPED",count:r.SKIPPED??0},{name:"PENDING",count:r.PENDING??0},{name:"FAILURE",count:r.FAILURE??0}].flatMap(e=>e?[e]:[]).filter(e=>!!e.count&&e.count>0),s=n.reduce((e,t)=>e+t.count,0),i=[],a=n.length??0,o=n.filter(({count:e})=>e/s*100<6).map(e=>e.name),l=(t=0,3===o.length?t=15/(a-3):2===o.length?t=10/(a-2):1===o.length&&(t=5/(a-1)),t);return n.map((e,t)=>{var r,n;let c;if(r=e.name,!Object.keys(rf).includes(r))return null;let u=e.count;if(!u)return null;let d=(n=e.name,c=u/s*100,(a>1&&(c-=rR.gapPercent),o.includes(n))?c+5:c-l),m={name:e.name,percentage:d,dashArray:`${Math.max(d*rR.percentToPx,0)} ${rR.circumference}`,transform:function(e,t,r,n){let s=0;((0!==r||r!==n-1)&&n>1||2===n)&&(s=2.5);let i=rC(e,t);return`rotate(${-90+(i+s)*rR.percentToDegree}deg)`}(d,i,t,a),stroke:r_[e.name]};return i.push(d),m}).flatMap(e=>e?[e]:[])})(e),[e]),a=1===e.length&&e[0]?.state==="SUCCESS",o=1===e.length&&e[0]?.state==="FAILURE",l=!a&&!o||t;return(0,d.useMemo)(()=>{void 0!==n.current&&e.length>0&&r(!0),n.current=e},[e]),(0,s.jsxs)("div",{className:rp.iconWrapper,children:[a&&(0,s.jsx)("div",{className:(0,u.$)(rp.icon,t&&rp["icon-animate"]),children:rg.PASSING}),o&&(0,s.jsx)("div",{className:(0,u.$)(rp.icon,t&&rp["icon-animate"]),children:rg.FAILING}),l&&(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${rR.circleSize} ${rR.circleSize}`,shapeRendering:"crispEdges",width:rR.size,height:rR.size,style:{userSelect:"none",zoom:"reset"},fill:"none","aria-hidden":"true",children:i.map(e=>(0,s.jsx)("circle",{cx:rR.circleSize/2,cy:rR.circleSize/2,r:44,style:{strokeLinecap:"round",strokeLinejoin:"round",strokeDashoffset:0,strokeWidth:rR.strokeWidth,transition:`all ${rE.length}ms ease ${rE.delay}ms`,transformOrigin:"50% 50%",shapeRendering:"geometricPrecision",strokeDasharray:e.dashArray,transform:e.transform,stroke:e.stroke}},e.name))})]})}try{rv.displayName||(rv.displayName="StatusCheckStatesIcon")}catch{}let rx={FAILURE:["ERROR","FAILURE","STARTUP_FAILURE"],TIMED_OUT:["TIMED_OUT"],CANCELLED:["CANCELLED"],SUCCESS:["SUCCESS"],STALE:["STALE"],PENDING:["ACTION_REQUIRED","PENDING","WAITING","_UNKNOWN_VALUE"],IN_PROGRESS:["IN_PROGRESS"],QUEUED:["QUEUED"],NEUTRAL:["NEUTRAL"],SKIPPED:["SKIPPED"],EXPECTED:["EXPECTED"],REQUESTED:["REQUESTED"]};function rw(e){let t,r,n,a,o,c,u,d,m=(0,i.c)(27),{checkSectionAriaId:g,pendingWorkflowApprovalRollup:f,statusRollup:_,statusChecks:S,pullRequestHeadSha:R,pullRequestId:C,focusPrimaryMergeButton:v,mergeBoxUserPreferences:x}=e;m[0]!==R?(t={pullRequestHeadSha:R},m[0]=R,m[1]=t):t=m[1];let{isPending:w,mutate:y}=function(e){let t,r,n,s,a=(0,i.c)(10),{pullRequestHeadSha:o}=e,l=(0,p.e)(h.u.runActionRequiredWorkflows);a[0]!==o?(t={pullRequestHeadSha:o},a[0]=o,a[1]=t):t=a[1];let c=tS(t),u=(0,E.jE)();return a[2]!==l?(r=async()=>{let e=await (0,eA.q$)(l,{method:"POST",headers:{Accept:"application/json"}}),t=await (0,eA.hp)(e);return(0,eA.R)(e,t),t},a[2]=l,a[3]=r):r=a[3],a[4]!==u||a[5]!==c?(n=()=>u.invalidateQueries({queryKey:c},{cancelRefetch:!1}),a[4]=u,a[5]=c,a[6]=n):n=a[6],a[7]!==r||a[8]!==n?(s={mutationFn:r,onSuccess:n},a[7]=r,a[8]=n,a[9]=s):s=a[9],(0,eN.n)(s)}(t),b=()=>{I(null),y(void 0,{onSuccess:()=>{setTimeout(ry,1e3),v()},onError:e=>I(e.message)})},[N,A]=(0,tC.A)(null),I=A,{workflowsRequiringApprovalCount:j,hasExpiredWorkflowRuns:T,approvalRequiredMessage:M,helpLink:k,viewerCanApproveWorkflowRuns:D}=f,U=`${j} workflow${1===j?"":"s"} awaiting approval`;m[2]!==M||m[3]!==T||m[4]!==k?(r=T?"Unable to re-run one or more workflows because they were created over a month ago.":(0,s.jsxs)(s.Fragment,{children:[M," ",(0,s.jsx)(et.A,{inline:!0,href:k,children:"Learn more about approving workflows."})]}),m[2]=M,m[3]=T,m[4]=k,m[5]=r):r=m[5];let O=r;return m[6]===Symbol.for("react.memo_cache_sentinel")?(n=(0,s.jsx)(tD,{bgColor:"attention.emphasis",color:"fg.onEmphasis"}),m[6]=n):n=m[6],m[7]!==b||m[8]!==w||m[9]!==D?(a=D?(0,s.jsx)(ed.Q,{loading:w,loadingAnnouncement:"Re-running workflows",onClick:b,children:"Approve workflows to run"}):void 0,m[7]=b,m[8]=w,m[9]=D,m[10]=a):a=m[10],m[11]!==g||m[12]!==O||m[13]!==a||m[14]!==U?(o=(0,s.jsx)(ea,{headerId:g,title:U,subtitle:O,icon:n,rightSideContent:a}),m[11]=g,m[12]=O,m[13]=a,m[14]=U,m[15]=o):o=m[15],m[16]!==N?(c=N&&(0,s.jsxs)(ex.A,{className:"m-3",variant:"danger",children:[(0,s.jsx)(ej.A,{className:"mr-2",icon:l.StopIcon}),N]}),m[16]=N,m[17]=c):c=m[17],m[18]!==x||m[19]!==C||m[20]!==S||m[21]!==_.summary?(u=_.summary.length>0&&(0,s.jsx)(ec,{isExpanded:!0,children:(0,s.jsx)(rh,{pullRequestId:C,statusChecks:S,statusRollupSummary:_.summary,mergeBoxUserPreferences:x})}),m[18]=x,m[19]=C,m[20]=S,m[21]=_.summary,m[22]=u):u=m[22],m[23]!==o||m[24]!==c||m[25]!==u?(d=(0,s.jsxs)(s.Fragment,{children:[o,c,u]}),m[23]=o,m[24]=c,m[25]=u,m[26]=d):d=m[26],d}function ry(){return(0,ty.i)("Successfully approved and re-requested workflows.")}let rb={PASSED:"All checks have passed",PENDING:"Some checks haven't completed yet",PENDING_APPROVAL:"Some checks are waiting for approval",PENDING_FAILED:"Some checks were not successful",SOME_FAILED:"Some checks were not successful",FAILED:"All checks have failed",PENDING_CONFLICTS:"Checks awaiting conflict resolution",UNKNOWN:"Checks status is unknown"};function rN(e){let t,r,n,a,o,l=(0,i.c)(18),{pullRequestId:c,pullRequestHeadSha:u,focusPrimaryMergeButton:m,sectionStatus:h,shouldRender:p,mergeBoxUserPreferences:g}=e;l[0]!==u?(t={pullRequestHeadSha:u},l[0]=u,l[1]=t):t=l[1];let{data:f}=tR(t),{aliveChannels:E,statusRollup:_,statusChecks:S}=f,R="PASSED"===_.combinedState,[C,v]=(0,eh.Fo)(`${c}:checksExpanded`,!R),{sendAnalyticsEvent:x}=(0,ee.s)(),w=(0,d.useId)();!function(e,t){let r,n,s,a,o,l=(0,i.c)(10);l[0]!==t?(r={pullRequestHeadSha:t},l[0]=t,l[1]=r):r=l[1];let{refetch:c}=tR(r),u=(0,th.A)(),d=tE()?2e3:1e4;l[2]!==u||l[3]!==c?(s=()=>{u()&&c()},l[2]=u,l[3]=c,l[4]=s):s=l[4],l[5]!==s||l[6]!==d?(a=(0,td.n)(s,d),l[5]=s,l[6]=d,l[7]=a):a=l[7],n=a,l[8]!==n?(o=e=>{window.setTimeout(n,e.wait||0)},l[8]=n,l[9]=o):o=l[9];let m=o;(0,tm.x)(e,m)}(E.commitHeadShaChannel,u);let y=(0,i.c)(4);y[0]!==_.combinedState||y[1]!==_.summary.length?(a=()=>{if(0===_.summary.length)(0,tK.gd)();else{let e=tz[_.combinedState];(0,tK.iD)(e)}return tX},o=[_.combinedState,_.summary.length],y[0]=_.combinedState,y[1]=_.summary.length,y[2]=a,y[3]=o):(a=y[2],o=y[3]),(0,d.useEffect)(a,o);let b=_.pendingWorkflowApprovalRollup;return p?(l[2]!==w||l[3]!==C||l[4]!==m||l[5]!==g||l[6]!==u||l[7]!==c||l[8]!==h||l[9]!==x||l[10]!==v||l[11]!==S||l[12]!==_||l[13]!==b?(r="PENDING_APPROVAL"===_.combinedState&&b?(0,s.jsx)(rw,{checkSectionAriaId:w,pendingWorkflowApprovalRollup:b,statusRollup:_,statusChecks:S,pullRequestHeadSha:u,pullRequestId:c,focusPrimaryMergeButton:m,mergeBoxUserPreferences:g}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ea,{headerId:w,title:rb[h],subtitle:function(e){if(0===e.length)return"No checks available.";let t=tV(e,rx),r=Object.keys(t).reduce((e,r)=>{let n=t[r];return n?e+n:e},0),n=Object.keys(tG).map(e=>{let r=t[e]??0,n=tG[e];return r>0?`${r} ${n}`:void 0}).filter(Boolean).join(", ");return`${n} ${r>1?"checks":"check"}`}(_.summary),icon:(0,s.jsx)(rv,{statusRollupSummary:_.summary}),expandableProps:{ariaLabel:C?"Collapse checks":"Expand checks",isExpanded:C,onToggle:()=>{x(C?"checks_section.collapse":"checks_section.expand","MERGEBOX_CHECKS_SECTION_TOGGLE_BUTTON",tH(_.summary)),v(!C)}}}),(0,s.jsx)(ec,{isExpanded:C,children:(0,s.jsx)(rh,{statusChecks:S,statusRollupSummary:_.summary,pullRequestId:c,mergeBoxUserPreferences:g})})]}),l[2]=w,l[3]=C,l[4]=m,l[5]=g,l[6]=u,l[7]=c,l[8]=h,l[9]=x,l[10]=v,l[11]=S,l[12]=_,l[13]=b,l[14]=r):r=l[14],l[15]!==w||l[16]!==r?(n=(0,s.jsx)("section",{"aria-label":"Checks","aria-describedby":w,className:"border-bottom color-border-subtle",children:r}),l[15]=w,l[16]=r,l[17]=n):n=l[17],n):null}try{rw.displayName||(rw.displayName="PendingApprovalChecksSection")}catch{}try{rN.displayName||(rN.displayName="ChecksSection")}catch{}function rA(){let e,t,r,n,a=(0,i.c)(6),{basePageDataUrl:o}=(0,g.Yu)();a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(et.A,{href:"https://support.github.com/",inline:!0,children:"contact support"}),a[0]=e):e=a[0];let c=`${o}/checks`;return a[1]!==c?(t=(0,s.jsxs)(s.Fragment,{children:["Try again or if the problem persists"," ",e," ","or"," ",(0,s.jsx)(et.A,{href:c,inline:!0,children:"view the Checks tab."})]}),a[1]=c,a[2]=t):t=a[2],a[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,s.jsx)(l.AlertIcon,{className:"mx-1",size:24}),a[3]=r):r=a[3],a[4]!==t?(n=(0,s.jsx)("section",{"aria-label":"Checks",className:"border-bottom borderColor-muted",children:(0,s.jsx)(ea,{title:"Checks cannot be loaded right now",subtitle:t,icon:r})}),a[4]=t,a[5]=n):n=a[5],n}try{rA.displayName||(rA.displayName="ChecksSectionFetchFailure")}catch{}var rI=r(58868),rj=r(10871);let rT={selectable:"ConflictsSection-module__selectable--fbVZh",ConflictsSectionLoadingSpinner:"ConflictsSection-module__ConflictsSectionLoadingSpinner--yBIsS",ConflictsSectionStatusSpinner:"ConflictsSection-module__ConflictsSectionStatusSpinner--bH9aw"},rM={SpinnerContainer:"CenteredLoadingSpinner-module__SpinnerContainer--TrrSA"};function rk(e){let t,r,n,a=(0,i.c)(5),{className:o}=e;return a[0]!==o?(t=(0,u.$)(rM.SpinnerContainer,o),a[0]=o,a[1]=t):t=a[1],a[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,s.jsx)(c.A,{}),a[2]=r):r=a[2],a[3]!==t?(n=(0,s.jsx)("div",{className:t,children:r}),a[3]=t,a[4]=n):n=a[4],n}try{rk.displayName||(rk.displayName="CenteredLoadingSpinner")}catch{}var rD=r(13233),rU=r(91321);function rO(e){let t,r,n,a,o,c,u=(0,i.c)(29),{className:m,children:h,actionList:p,inactive:g,inactiveTooltipText:f,inactiveTooltipDirection:E,loading:_,loadingAnnouncement:S,secondaryButtonActive:R,secondaryButtonAriaLabel:C,onPrimaryButtonClick:v,shouldFocusPrimaryButton:x,onFocusPrimaryButton:w,isPrimary:y,hideSecondaryButton:b}=e,N=void 0===E?"ne":E,A=void 0!==b&&b,I=(0,d.useRef)(null);u[0]!==w||u[1]!==x?(t=()=>{x&&(I.current?.focus(),w?.())},r=[x,w],u[0]=w,u[1]=x,u[2]=t,u[3]=r):(t=u[2],r=u[3]),(0,d.useEffect)(t,r);let j=void 0!==y&&y?"primary":"default",[T,M]=(0,d.useState)(!1),k=g&&!R;u[4]!==g||u[5]!==_?(n=void 0!==_?{}:{inactive:g,"aria-disabled":g},u[4]=g,u[5]=_,u[6]=n):n=u[6];let D=n,U=g?rD.l:v;u[7]!==j||u[8]!==h||u[9]!==D||u[10]!==_||u[11]!==S||u[12]!==U?(a=(0,s.jsx)(ed.Q,{className:"flex-1",variant:j,ref:I,loading:_,loadingAnnouncement:S,onClick:U,...D,children:h}),u[7]=j,u[8]=h,u[9]=D,u[10]=_,u[11]=S,u[12]=U,u[13]=a):a=u[13],u[14]!==p||u[15]!==j||u[16]!==A||u[17]!==T||u[18]!==C||u[19]!==k?(o=!A&&(0,s.jsxs)(t0.W,{open:T,onOpenChange:k?rD.l:e=>M(e),children:[(0,s.jsx)(t0.W.Anchor,{children:(0,s.jsx)(t1.K,{className:"flex-0",variant:j,"aria-label":C,"aria-disabled":k,inactive:k,icon:l.TriangleDownIcon})}),(0,s.jsx)(t0.W.Overlay,{align:"end",sx:{width:"320px"},children:p})]}),u[14]=p,u[15]=j,u[16]=A,u[17]=T,u[18]=C,u[19]=k,u[20]=o):o=u[20],u[21]!==m||u[22]!==a||u[23]!==o?(c=(0,s.jsxs)(rU.A,{className:m,children:[a,o]}),u[21]=m,u[22]=a,u[23]=o,u[24]=c):c=u[24];let O=c;if(g&&f){let e;return u[25]!==O||u[26]!==N||u[27]!==f?(e=(0,s.jsx)(rI.m,{text:f,direction:N,children:O}),u[25]=O,u[26]=N,u[27]=f,u[28]=e):e=u[28],e}return O}try{rO.displayName||(rO.displayName="ButtonWithDropdown")}catch{}var rL=r(20451);function rP(e){let t,r,n=(0,i.c)(8),{description:a,onSelect:o,selected:l,text:c,inactiveText:u}=e;return n[0]!==a?(t=(0,s.jsx)(ev.l.Description,{variant:"block",children:a}),n[0]=a,n[1]=t):t=n[1],n[2]!==u||n[3]!==o||n[4]!==l||n[5]!==t||n[6]!==c?(r=(0,s.jsxs)(ev.l.Item,{selected:l,onSelect:o,inactiveText:u,children:[c,t]}),n[2]=u,n[3]=o,n[4]=l,n[5]=t,n[6]=c,n[7]=r):r=n[7],r}function rq(e){let t,r=(0,i.c)(5),{conflictsWebEditorPath:n,conflictsState:a,webEditorConflictResolution:o}=e;if("HAS_CONFLICTS"!==a||!o)return null;if(!o.viewerCanResolve){let e,t,n=o.viewerCannotResolve?.message||"";return r[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(ed.Q,{inactive:!0,children:"Resolve conflicts"}),r[0]=e):e=r[0],r[1]!==n?(t=(0,s.jsx)(rI.m,{direction:"nw",text:n,children:e}),r[1]=n,r[2]=t):t=r[2],t}return r[3]!==n?(t=(0,s.jsx)(rj.z,{href:n,children:"Resolve conflicts"}),r[3]=n,r[4]=t):t=r[4],t}function rB(e){let t=(0,i.c)(3),{conflictsWebEditorPath:r,webEditorConflictResolution:n}=e;switch(n?.viewerCannotResolve?.reason){case"INSUFFICIENT_ACCESS":return null;case"TOO_COMPLEX":case"HEAD_BRANCH_PROTECTED":case"ADMIN_DISABLED":{let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)("span",{children:"Use the command line to resolve conflicts before continuing."}),t[0]=e):e=t[0],e}default:{let e;return t[1]!==r?(e=(0,s.jsxs)("span",{children:["Use the"," ",(0,s.jsx)(et.A,{inline:!0,href:r,children:"web editor"})," ","or the command line to resolve conflicts before continuing."]}),t[1]=r,t[2]=e):e=t[2],e}}}function rF(e){let t,r=(0,i.c)(3),{advisoryWorkspacePath:n,advisoryWorkspaceId:a}=e,o=n||"";return r[0]!==a||r[1]!==o?(t=(0,s.jsxs)("span",{children:["Merging must be performed from the"," ",(0,s.jsx)(et.A,{inline:!0,href:o,children:a})," ","advisory."]}),r[0]=a,r[1]=o,r[2]=t):t=r[2],t}let rG={NO_CONFLICTS:{heading:"No conflicts with base branch",subtitle:()=>"Merging can be performed automatically.",icon:(0,s.jsx)(er.A,{icon:()=>(0,s.jsx)(l.CheckIcon,{size:16}),className:"bgColor-success-emphasis fgColor-onEmphasis",size:32})},PENDING:{heading:"Checking for the ability to merge automatically...",subtitle:()=>"Hang in there while we check the branch's status.",icon:(0,s.jsx)(rk,{className:rT.ConflictsSectionLoadingSpinner})},OUT_OF_DATE:{heading:"This branch is out-of-date with the base branch",subtitle:({baseRefName:e,viewerLogin:t})=>`Merge the latest changes from ${e} into this branch. This merge commit will be associated with ${t}.`,icon:(0,s.jsx)(tD,{})},HAS_CONFLICTS:{heading:"This branch has conflicts that must be resolved",subtitle:({conflictsWebEditorPath:e,conflictsCondition:t})=>(0,s.jsx)(rB,{conflictsWebEditorPath:e,webEditorConflictResolution:t?.webEditorConflictResolution}),icon:(0,s.jsx)(tD,{})},HAS_REBASE_CONFLICTS:{heading:"This branch cannot be rebased due to conflicts",subtitle:()=>"",icon:(0,s.jsx)(tD,{})},HAS_ADVISORY_WORKSPACE:{heading:"No conflicts with base branch",subtitle:({advisoryWorkspaceId:e,advisoryWorkspacePath:t})=>(0,s.jsx)(rF,{advisoryWorkspaceId:e,advisoryWorkspacePath:t}),icon:(0,s.jsx)(er.A,{icon:()=>(0,s.jsx)(l.CheckIcon,{size:16}),className:"bgColor-success-emphasis fgColor-onEmphasis",size:32})}};function rQ(e){let t,r,n,a,o,u,m,g,f,_,R,C,v,x,w,y,b,N,A,I,j,T,M,k,D,U=(0,i.c)(92),{baseRefName:O,headRefOid:L,resourcePath:P,viewerCanUpdateBranch:q,viewerUpdateMethods:B,viewerLogin:F,conflictsCondition:G,conflictsState:Q,canUserPushToBase:$,advisoryWorkspace:W}=e;U[0]!==B?(t=B?.find(rX)?.name||"MERGE",U[0]=B,U[1]=t):t=U[1];let V=t,[H,K]=(0,d.useState)(V),[z,X]=(0,tC.A)(!1),[Y,J]=(0,tC.A)(null),{sendAnalyticsEvent:Z}=(0,ee.s)(),et=(0,d.useId)(),er=S(),en=(0,E.jE)();U[2]!==er||U[3]!==en||U[4]!==X?(r=async()=>{await en.refetchQueries({queryKey:er},{cancelRefetch:!1}),X(!1)},U[2]=er,U[3]=en,U[4]=X,U[5]=r):r=U[5];let es=r;U[6]!==J||U[7]!==X?(n=e=>{X(!1),J(e.message)},U[6]=J,U[7]=X,U[8]=n):n=U[8];let ei=n;U[9]!==ei||U[10]!==es?(a={onSuccess:es,onError:ei},U[9]=ei,U[10]=es,U[11]=a):a=U[11];let{mutate:eo}=function(e){let t,r,n,s,a=(0,i.c)(10),{onSuccess:o,onError:l}=e,c=(0,p.e)(h.u.updatePullRequestBranch);return a[0]!==c?(t=async e=>{let{updateMethod:t,expectedHeadOid:r}=e;return(0,eA.q$)(c,{method:"POST",headers:{Accept:"application/json"},body:{updateMethod:t,expectedHeadOid:r}})},a[0]=c,a[1]=t):t=a[1],a[2]!==o?(r=async e=>{let t=await (0,eA.hp)(e);e.ok||(0,eA.R)(e,t);let r=await (await (0,rL.Ee)(t.orchestration.url,{headers:{accept:"application/json"}})).json();if(r.orchestration.error_message)throw Error(r.orchestration.error_message);o()},a[2]=o,a[3]=r):r=a[3],a[4]!==l?(n=e=>{l(e)},a[4]=l,a[5]=n):n=a[5],a[6]!==t||a[7]!==r||a[8]!==n?(s={mutationFn:t,onSuccess:r,onError:n},a[6]=t,a[7]=r,a[8]=n,a[9]=s):s=a[9],(0,eN.n)(s)}(a);U[12]!==L||U[13]!==z||U[14]!==H||U[15]!==Z||U[16]!==J||U[17]!==X||U[18]!==eo?(o=()=>{z||(X(!0),J(null),eo({updateMethod:H,expectedHeadOid:L}),Z("conflicts_section.update_branch","MERGEBOX_CONFLICTS_SECTION_UPDATE_BRANCH_BUTTON"))},U[12]=L,U[13]=z,U[14]=H,U[15]=Z,U[16]=J,U[17]=X,U[18]=eo,U[19]=o):o=U[19];let el=o,ec=`${P}/conflicts`;U[20]!==G.conflicts?(u=G.conflicts??[],U[20]=G.conflicts,U[21]=u):u=U[21];let eu=u;U[22]!==H?(m=function(){return"MERGE"===H?"Update branch":"Rebase branch"},U[22]=H,U[23]=m):m=U[23];let ed=m;U[24]!==H?(g=function(){return"MERGE"===H?"Updating branch":"Rebasing branch"},U[24]=H,U[25]=g):g=U[25];let em=g,eh=("OUT_OF_DATE"===Q||"NO_CONFLICTS"===Q||"PENDING"===Q)&&q,ep="HAS_CONFLICTS"===Q&&(G.webEditorConflictResolution?.viewerCanResolve||G.webEditorConflictResolution?.viewerCannotResolve?.reason!=="INSUFFICIENT_ACCESS"),eg=W?.advisoryWorkspaceId,ef=W?.advisoryWorkspacePath;U[26]!==B?(f=B?.filter(rz),U[26]=B,U[27]=f):f=U[27];let eE=f;U[28]!==B?(_=B?.find(rK),U[28]=B,U[29]=_):_=U[29];let e_=_;U[30]!==B?(R=B?.find(rH),U[30]=B,U[31]=R):R=U[31];let eS=R;U[32]!==B?(C=B?.find(rV),U[32]=B,U[33]=C):C=U[33];let eR=C;U[34]!==B?(v=B?.find(rW)?.failureReason,U[34]=B,U[35]=v):v=U[35];let eC=v;U[36]!==V||U[37]!==eC||U[38]!==eR||U[39]!==H||U[40]!==Z||U[41]!==e_||U[42]!==eS||U[43]!==B?(x=function(){return B?(0,s.jsxs)(ev.l,{selectionVariant:"single",showDividers:!0,children:[e_&&(0,s.jsx)(rP,{description:"The merge commit will be associated with your account.",selected:"MERGE"===V,text:"Update with merge commit",onSelect:()=>{Z("conflicts_section.select_merge_commit_method","MERGEBOX_CONFLICTS_SECTION_MERGE_METHOD_MENU_ITEM"),K("MERGE")}}),eS&&(0,s.jsx)(rP,{description:"This pull request will be rebased on top of the latest changes and then force pushed.",selected:"REBASE"===V,text:"Update with rebase",onSelect:()=>{Z("conflicts_section.select_rebase_method","MERGEBOX_CONFLICTS_SECTION_MERGE_METHOD_MENU_ITEM"),K("REBASE")}}),eR&&(0,s.jsx)(rP,{inactiveText:eC||"This branch cannot be rebased at this time.",selected:"REBASE"===V,text:"Update with rebase",onSelect:()=>{Z("conflicts_section.select_rebase_method","MERGEBOX_CONFLICTS_SECTION_MERGE_METHOD_MENU_ITEM"),K("REBASE")}})]}):(0,s.jsxs)(ev.l,{selectionVariant:"single",showDividers:!0,children:[(0,s.jsx)(rP,{description:"The merge commit will be associated with your account.",selected:"MERGE"===H,text:"Update with merge commit",onSelect:()=>{Z("conflicts_section.select_merge_commit_method","MERGEBOX_CONFLICTS_SECTION_MERGE_METHOD_MENU_ITEM"),K("MERGE")}}),(0,s.jsx)(rP,{description:"This pull request will be rebased on top of the latest changes and then force pushed.",selected:"REBASE"===H,text:"Update with rebase",onSelect:()=>{Z("conflicts_section.select_rebase_method","MERGEBOX_CONFLICTS_SECTION_MERGE_METHOD_MENU_ITEM"),K("REBASE")}})]})},U[36]=V,U[37]=eC,U[38]=eR,U[39]=H,U[40]=Z,U[41]=e_,U[42]=eS,U[43]=B,U[44]=x):x=U[44];let ew=x,ey=rG[Q],eb=rG[Q];return U[45]!==z?(w=z&&(0,s.jsx)(c.A,{size:"small",className:rT.ConflictsSectionStatusSpinner}),U[45]=z,U[46]=w):w=U[46],U[47]!==eb.heading||U[48]!==w?(y=(0,s.jsxs)(s.Fragment,{children:[eb.heading,w]}),U[47]=eb.heading,U[48]=w,U[49]=y):y=U[49],U[50]!==eg||U[51]!==ef||U[52]!==O||U[53]!==$||U[54]!==G||U[55]!==Q||U[56]!==ec||U[57]!==F?(b=$?rG[Q].subtitle({baseRefName:O,viewerLogin:F,conflictsWebEditorPath:ec,conflictsCondition:G,advisoryWorkspaceId:eg,advisoryWorkspacePath:ef}):"Changes can be cleanly merged.",U[50]=eg,U[51]=ef,U[52]=O,U[53]=$,U[54]=G,U[55]=Q,U[56]=ec,U[57]=F,U[58]=b):b=U[58],U[59]!==el||U[60]!==z||U[61]!==eh||U[62]!==eE?.length||U[63]!==em||U[64]!==ed||U[65]!==ew?(N=eh&&(0,s.jsx)(rO,{hideSecondaryButton:eE?.length===1,loading:z,loadingAnnouncement:em(),secondaryButtonAriaLabel:"Update branch options",actionList:ew(),onPrimaryButtonClick:el,children:ed()}),U[59]=el,U[60]=z,U[61]=eh,U[62]=eE?.length,U[63]=em,U[64]=ed,U[65]=ew,U[66]=N):N=U[66],U[67]!==G.webEditorConflictResolution||U[68]!==Q||U[69]!==ec?(A=(0,s.jsx)(rq,{conflictsWebEditorPath:ec,conflictsState:Q,webEditorConflictResolution:G.webEditorConflictResolution}),U[67]=G.webEditorConflictResolution,U[68]=Q,U[69]=ec,U[70]=A):A=U[70],U[71]!==N||U[72]!==A?(I=(0,s.jsxs)(s.Fragment,{children:[N,A]}),U[71]=N,U[72]=A,U[73]=I):I=U[73],U[74]!==eu||U[75]!==ep?(j=ep&&(0,s.jsx)("div",{className:"ml-n3",children:(0,s.jsx)(ev.l,{className:"py-0 overflow-hidden",children:eu.map(r$)})}),U[74]=eu,U[75]=ep,U[76]=j):j=U[76],U[77]!==et||U[78]!==ey.icon||U[79]!==y||U[80]!==b||U[81]!==I||U[82]!==j?(T=(0,s.jsx)(ea,{headerId:et,icon:ey.icon,title:y,subtitle:b,rightSideContent:I,children:j}),U[77]=et,U[78]=ey.icon,U[79]=y,U[80]=b,U[81]=I,U[82]=j,U[83]=T):T=U[83],U[84]!==Y?(M=Y&&(0,s.jsxs)(ex.A,{className:"m-3",variant:"danger",children:[(0,s.jsx)(ej.A,{className:"mr-2",icon:l.StopIcon}),Y]}),U[84]=Y,U[85]=M):M=U[85],U[86]!==T||U[87]!==M?(k=(0,s.jsxs)("div",{className:"d-flex flex-column width-full overflow-hidden",children:[T,M]}),U[86]=T,U[87]=M,U[88]=k):k=U[88],U[89]!==et||U[90]!==k?(D=(0,s.jsx)("section",{"aria-label":"Conflicts",className:"border-bottom borderColor-muted","aria-describedby":et,children:k}),U[89]=et,U[90]=k,U[91]=D):D=U[91],D}function r$(e){return(0,s.jsxs)(ev.l.Item,{children:[(0,s.jsx)(ev.l.LeadingVisual,{className:"fgColor-muted",children:(0,s.jsx)(l.FileIcon,{})}),(0,s.jsx)("span",{className:`input-monospace f6 ${rT.selectable}`,children:e})]},e)}function rW(e){return"REBASE"===e.name}function rV(e){return"REBASE"===e.name&&"UNAVAILABLE"===e.allowableStatus}function rH(e){return"REBASE"===e.name&&"ALLOWED"===e.allowableStatus}function rK(e){return"MERGE"===e.name&&"ALLOWED"===e.allowableStatus}function rz(e){return"ALLOWED"===e.allowableStatus||"UNAVAILABLE"===e.allowableStatus}function rX(e){return!0===e.isDefault}try{rP.displayName||(rP.displayName="UpdateBranchOption")}catch{}try{rq.displayName||(rq.displayName="ResolveConflictsButton")}catch{}try{rB.displayName||(rB.displayName="ConflictResolutionSubtitle")}catch{}try{rF.displayName||(rF.displayName="AdvisoryWorkspaceSubtitle")}catch{}try{rQ.displayName||(rQ.displayName="ConflictsSection")}catch{}let rY={DraftStateCircleIcon:"DraftStateSection-module__DraftStateCircleIcon--bX_1M",DraftStateFlashMessage:"DraftStateSection-module__DraftStateFlashMessage--wiIFr",DraftStateIcon:"DraftStateSection-module__DraftStateIcon--lJaLS"};function rJ(e){let t,r,n,a,o,c,u,m,g=(0,i.c)(24),{viewerCanUpdate:f,helpUrl:_}=e,[R,C]=(0,tC.A)(null);g[0]!==C?(t={onError:e=>{C(e.message)}},g[0]=C,g[1]=t):t=g[1];let{mutate:v,isPending:x}=function(e){let t,r,n,s,a=(0,i.c)(11),{onError:o}=e,l=(0,p.e)(h.u.markReadyForReview),c=S(),u=(0,E.jE)();return a[0]!==l?(t=async()=>{let e=await (0,eA.q$)(l,{method:"POST",headers:{Accept:"application/json"}}),t=await (0,eA.hp)(e);return(0,eA.R)(e,t),t},a[0]=l,a[1]=t):t=a[1],a[2]!==c||a[3]!==u?(r=()=>u.invalidateQueries({queryKey:c},{cancelRefetch:!1}),a[2]=c,a[3]=u,a[4]=r):r=a[4],a[5]!==o?(n=e=>o(e),a[5]=o,a[6]=n):n=a[6],a[7]!==t||a[8]!==r||a[9]!==n?(s={mutationFn:t,onSuccess:r,onError:n},a[7]=t,a[8]=r,a[9]=n,a[10]=s):s=a[10],(0,eN.n)(s)}(t),{sendAnalyticsEvent:w}=(0,ee.s)(),y=(0,d.useId)();g[2]!==x||g[3]!==v||g[4]!==w?(r=function(){x||(v(),w("draft_state_section.mark_ready_for_review","MERGEBOX_DRAFT_STATE_SECTION_MARK_READY_FOR_REVIEW_BUTTON"))},g[2]=x,g[3]=v,g[4]=w,g[5]=r):r=g[5];let b=r,N=`${_}/get-started/learning-about-github/access-permissions-on-github`;return g[6]!==N||g[7]!==f?(n=f?"Draft pull requests cannot be merged.":(0,s.jsxs)("span",{children:["Only those with ",(0,s.jsx)("a",{href:N,children:"write access"})," to this repository can mark a draft pull request as ready for review."]}),g[6]=N,g[7]=f,g[8]=n):n=g[8],g[9]===Symbol.for("react.memo_cache_sentinel")?(a=(0,s.jsx)(er.A,{size:32,icon:rZ,className:rY.DraftStateCircleIcon}),g[9]=a):a=g[9],g[10]!==b||g[11]!==x||g[12]!==f?(o=f?(0,s.jsx)(ed.Q,{onClick:b,loading:x,loadingAnnouncement:"Marking ready for review",children:"Ready for review"}):void 0,g[10]=b,g[11]=x,g[12]=f,g[13]=o):o=g[13],g[14]!==R?(c=R&&(0,s.jsxs)(ex.A,{variant:"danger",className:rY.DraftStateFlashMessage,children:[(0,s.jsx)(ej.A,{icon:l.StopIcon,className:rY.DraftStateIcon}),R]}),g[14]=R,g[15]=c):c=g[15],g[16]!==y||g[17]!==n||g[18]!==o||g[19]!==c?(u=(0,s.jsx)(ea,{headerId:y,title:"This pull request is still a work in progress",subtitle:n,icon:a,rightSideContent:o,children:c}),g[16]=y,g[17]=n,g[18]=o,g[19]=c,g[20]=u):u=g[20],g[21]!==y||g[22]!==u?(m=(0,s.jsx)("section",{"aria-label":"Draft state","aria-describedby":y,className:"border-bottom color-border-subtle",children:u}),g[21]=y,g[22]=u,g[23]=m):m=g[23],m}function rZ(){return(0,s.jsx)(l.GitPullRequestDraftIcon,{size:16})}try{rJ.displayName||(rJ.displayName="DraftStateSection")}catch{}let r0={MergeQueueSectionText:"MergeQueueSection-module__MergeQueueSectionText--Vgwij"};function r1(e){let t,r,n,a,o,c,u,m,g,f,_,R,C,v,x,w,y,b,N=(0,i.c)(52),{mergeQueue:A,mergeQueueEntry:I,viewerCanAddAndRemoveFromMergeQueue:j,focusPrimaryMergeButton:T}=e,M=I?.position,k=A?.url,D=(0,d.useRef)(null),[U,O]=(0,tC.A)(!1),[L,P]=(0,tC.A)(null),q=(0,i.c)(1);q[0]===Symbol.for("react.memo_cache_sentinel")?(b=[],q[0]=b):b=q[0],(0,d.useEffect)(tY,b);let{sendAnalyticsEvent:B}=(0,ee.s)();N[0]!==P||N[1]!==O?(t={onError:e=>{O(!1),P(e.message),D.current?.focus(),setTimeout(r3,1e3)}},N[0]=P,N[1]=O,N[2]=t):t=N[2];let{mutate:F,isPending:G}=function(e){let t,r,n,s,a=(0,i.c)(11),{onError:o}=e,l=(0,p.e)(h.u.dequeuePullRequest),c=S(),u=(0,E.jE)();return a[0]!==l?(t=async()=>{let e=await (0,eA.q$)(l,{method:"POST",headers:{Accept:"application/json"}}),t=await (0,eA.hp)(e);return(0,eA.R)(e,t),t},a[0]=l,a[1]=t):t=a[1],a[2]!==c||a[3]!==u?(r=()=>u.invalidateQueries({queryKey:c},{cancelRefetch:!1}),a[2]=c,a[3]=u,a[4]=r):r=a[4],a[5]!==o?(n=e=>{o(e)},a[5]=o,a[6]=n):n=a[6],a[7]!==t||a[8]!==r||a[9]!==n?(s={mutationFn:t,onSuccess:r,onError:n},a[7]=t,a[8]=r,a[9]=n,a[10]=s):s=a[10],(0,eN.n)(s)}(t);N[3]!==T||N[4]!==G||N[5]!==F||N[6]!==B||N[7]!==P||N[8]!==O?(r=()=>{G||(P(null),B("merge_queue_section.dequeue_pull_request","MERGEBOX_MERGE_QUEUE_SECTION_REMOVE_FROM_QUEUE_BUTTON"),F(void 0,{onSuccess:()=>{O(!1),setTimeout(r2,1e3),T()}}))},N[3]=T,N[4]=G,N[5]=F,N[6]=B,N[7]=P,N[8]=O,N[9]=r):r=N[9];let Q=r;N[10]!==P||N[11]!==O?(n=()=>{P(null),O(!0)},N[10]=P,N[11]=O,N[12]=n):n=N[12];let $=n;N[13]!==O?(a=()=>O(!1),N[13]=O,N[14]=a):a=N[14],N[15]===Symbol.for("react.memo_cache_sentinel")?(o=(0,s.jsx)(tx.A.Header,{id:"remove-from-queue-dialog-title",children:"Remove from the queue?"}),N[15]=o):o=N[15],N[16]===Symbol.for("react.memo_cache_sentinel")?(c=(0,s.jsx)("span",{children:"Removing this pull request from the queue could impact other pull requests in the queue. Are you sure?"}),N[16]=c):c=N[16],N[17]!==G||N[18]!==O?(u=()=>{G||(O(!1),D.current?.focus())},N[17]=G,N[18]=O,N[19]=u):u=N[19],N[20]!==G||N[21]!==u?(m=(0,s.jsx)(ed.Q,{className:"mr-1",inactive:G,onClick:u,children:"Cancel"}),N[20]=G,N[21]=u,N[22]=m):m=N[22],N[23]!==Q||N[24]!==G?(g=(0,s.jsx)(ed.Q,{variant:"danger",loading:G,loadingAnnouncement:"Removing from the queue",onClick:Q,children:"Remove from the queue"}),N[23]=Q,N[24]=G,N[25]=g):g=N[25],N[26]!==m||N[27]!==g?(f=(0,s.jsxs)("div",{className:"p-3",children:[c,(0,s.jsxs)("div",{className:"d-flex flex-justify-end mt-3",children:[m,g]})]}),N[26]=m,N[27]=g,N[28]=f):f=N[28],N[29]!==U||N[30]!==f||N[31]!==a?(_=(0,s.jsxs)(tx.A,{"aria-labelledby":"remove-from-queue-dialog-title",isOpen:U,returnFocusRef:D,onDismiss:a,children:[o,f]}),N[29]=U,N[30]=f,N[31]=a,N[32]=_):_=N[32],N[33]!==L?(R=L&&(0,s.jsxs)(ex.A,{className:"mx-3 my-2",variant:"danger",children:[(0,s.jsx)(ej.A,{className:"mr-2",icon:l.StopIcon}),L]}),N[33]=L,N[34]=R):R=N[34],N[35]!==$||N[36]!==I?.isLocked||N[37]!==j?(C=j&&!I?.isLocked&&(0,s.jsx)(ed.Q,{ref:D,onClick:$,children:"Remove from queue"}),N[35]=$,N[36]=I?.isLocked,N[37]=j,N[38]=C):C=N[38],N[39]!==C?(v=(0,s.jsx)(s.Fragment,{children:C}),N[39]=C,N[40]=v):v=N[40];let W=I?.isLocked;return N[41]!==M||N[42]!==k||N[43]!==W?(x=(0,s.jsx)(r4,{position:M,resourcePath:k,entryIsLocked:W}),N[41]=M,N[42]=k,N[43]=W,N[44]=x):x=N[44],N[45]!==v||N[46]!==x?(w=(0,s.jsx)(ea,{title:"Queued to merge...",rightSideContent:v,children:x}),N[45]=v,N[46]=x,N[47]=w):w=N[47],N[48]!==_||N[49]!==R||N[50]!==w?(y=(0,s.jsxs)(s.Fragment,{children:[_,R,w]}),N[48]=_,N[49]=R,N[50]=w,N[51]=y):y=N[51],y}function r2(){return(0,ty.i)("The pull request was successfully removed from the queue.")}function r3(){return(0,ty.i)("Failed to remove pull request from the merge queue")}function r4(e){let t,r,n,a,o=(0,i.c)(8),{position:l,resourcePath:c,entryIsLocked:u}=e;if(!l||!c){let e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(s.Fragment,{}),o[0]=e):e=o[0],e}let d=l-1;return t=u?"This pull request is locked for deployment by the":0===d?"This pull request is next up in the":1===d?`There is ${d} pull request ahead of this one in the`:`There are ${d} pull requests ahead of this one in the`,o[1]!==t?(r=(0,s.jsx)("span",{className:r0.MergeQueueSectionText,children:t}),o[1]=t,o[2]=r):r=o[2],o[3]!==c?(n=(0,s.jsx)(et.A,{inline:!0,href:c,children:"merge queue"}),o[3]=c,o[4]=n):n=o[4],o[5]!==r||o[6]!==n?(a=(0,s.jsxs)(s.Fragment,{children:[r," ",n,"."]}),o[5]=r,o[6]=n,o[7]=a):a=o[7],a}try{r1.displayName||(r1.displayName="MergeQueueSection")}catch{}try{r4.displayName||(r4.displayName="MergeQueuePositionText")}catch{}function r5({mergeMethod:e,confirming:t,isBypassMerge:r=!1,inProgress:n=!1,isAutoMergeAllowed:s=!1}){if(n)return s?"Confirming...":"Merging...";let i=t?"Confirm auto-merge":"Enable auto-merge",a=t?"Confirm bypass rules and merge":"Bypass rules and merge";switch(e){case m.q$.MERGE:if(s)return i;if(r)return a;if(t)return"Confirm merge";else return"Merge pull request";case m.q$.SQUASH:if(s)return`${i} (squash)`;if(r)return`${a} (squash)`;if(t)return"Confirm squash and merge";else return"Squash and merge";case m.q$.REBASE:if(s)return`${i} (rebase)`;if(r)return`${a} (rebase)`;if(t)return"Confirm rebase and merge";else return"Rebase and merge"}}function r6({mergeMethod:e,confirming:t,inProgress:r}){if(r)return"Adding to merge queue...";switch(e){case m.lD.GROUP:return t?"Confirm merge when ready":"Merge when ready";case m.lD.SOLO:return t?"Confirm queue and force solo merge":"Queue and force solo merge"}}var r7=r(9591),r8=r(2922),r9=r(38911);let MergeError=class MergeError extends Error{constructor(e,t=[],r){super(e),function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"ruleErrors",void 0),this.name="MergeError",this.ruleErrors=t,this.cause=r}};function ne(e){let t,r,n,s,a,o=(0,i.c)(14);o[0]!==e?(t=void 0===e?{}:e,o[0]=e,o[1]=t):t=o[1];let{onError:l,onSuccess:c}=t,u=(0,p.e)(h.u.enableAutoMerge),d=S(),m=(0,E.jE)();return o[2]!==u?(r=async e=>{let t=await (0,eA.q$)(u,{method:"POST",headers:{Accept:"application/json"},body:e}),r=await (0,eA.hp)(t),n=new MergeError(r?.error||"Unknown error occurred",r?.metadata?.ruleErrors||[],t.status);return(0,eA.R)(t,r,n),r},o[2]=u,o[3]=r):r=o[3],o[4]!==d||o[5]!==c||o[6]!==m?(n=()=>(c?.(),m.refetchQueries({queryKey:d},{cancelRefetch:!1})),o[4]=d,o[5]=c,o[6]=m,o[7]=n):n=o[7],o[8]!==l?(s=e=>{l?.(e)},o[8]=l,o[9]=s):s=o[9],o[10]!==r||o[11]!==n||o[12]!==s?(a={mutationFn:r,onSuccess:n,onError:s},o[10]=r,o[11]=n,o[12]=s,o[13]=a):a=o[13],(0,eN.n)(a)}var nt=r(71678);function nr(e){let t,r=(0,i.c)(3),{children:n,className:a}=e,o=`d-flex flex-items-start flex-sm-items-center flex-column flex-sm-row gap-2 ${a}`;return r[0]!==n||r[1]!==o?(t=(0,s.jsx)("div",{className:o,children:n}),r[0]=n,r[1]=o,r[2]=t):t=r[2],t}nr.Slot=function({children:e}){var t;let r=d.Children.only(e);return d.isValidElement(r)&&(r=(t=r).type===rO||t.type===ed.Q?(0,d.cloneElement)(t,{className:`flex-self-stretch flex-shrink-0 ${t.props.className}`}):t),r};try{nr.displayName||(nr.displayName="MergeSectionActions")}catch{}try{(n=MergeSectionsActionsSlot).displayName||(n.displayName="MergeSectionsActionsSlot")}catch{}let nn={ConfirmMergeContainer:"ConfirmMerge-module__ConfirmMergeContainer--g9ubs",ConfirmMergeText:"ConfirmMerge-module__ConfirmMergeText--kxshz"};function ns(e){let t,r,n,a=(0,i.c)(5),{errorMessage:o}=e;return(a[0]!==o?(t=()=>{o&&o.length>0&&(0,ty.i)(o)},r=[o],a[0]=o,a[1]=t,a[2]=r):(t=a[1],r=a[2]),(0,d.useEffect)(t,r),o)?(a[3]!==o?(n=(0,s.jsx)(r9.l,{className:"mt-3","aria-label":"Merge error warning banner",variant:"warning",title:"Merge error",hideTitle:!0,description:o}),a[3]=o,a[4]=n):n=a[4],n):null}function ni(e){let t,r,n,a,o,l,c,u,g,f,_,R,C,v,x,w,y,b,N=(0,i.c)(67),{defaultCommitAuthorEmail:A,commitMessageBody:I,commitMessageHeadline:j,defaultBranchName:T,handleConfirmingMergeInfo:M,isBypassMerge:k,onCancel:D,selectedMergeMethod:U,isAutoMergeAllowed:O,possibleCommitAuthorEmails:L}=e,P=void 0!==O&&O,q=(0,d.useRef)(null),B=(0,d.useRef)(null);N[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{q.current?.focus(),B.current?.scrollIntoView({behavior:"smooth",block:"nearest"})},r=[],N[0]=t,N[1]=r):(t=N[0],r=N[1]),(0,d.useEffect)(t,r);let[F,G]=(0,d.useState)(j||""),[Q,$]=(0,d.useState)(I||""),{sendAnalyticsEvent:W}=(0,ee.s)(),[V,H]=(0,tC.A)("");N[2]===Symbol.for("react.memo_cache_sentinel")?(n=[],N[2]=n):n=N[2];let[K,z]=(0,tC.A)(n),X=L.length>0,Y=U===m.q$.REBASE?"":A||"",[J,Z]=(0,d.useState)(Y);N[3]!==H||N[4]!==z?(a={onError:e=>{e instanceof MergeError&&e.ruleErrors.length>0?z(e.ruleErrors):(z([]),H(e.message))}},N[3]=H,N[4]=z,N[5]=a):a=N[5];let{mutate:et,isPending:er}=function(e){let t,r,n,s,a=(0,i.c)(11),{onError:o}=e,l=(0,p.e)(h.u.merge),c=S(),u=(0,E.jE)();return a[0]!==l?(t=async e=>{let t=await (0,eA.q$)(l,{method:"POST",headers:{Accept:"application/json"},body:e}),r=await (0,eA.hp)(t),n=new MergeError(r?.error||"Unknown error occurred",r?.metadata?.ruleErrors||[],t.status);return(0,eA.R)(t,r,n),r},a[0]=l,a[1]=t):t=a[1],a[2]!==c||a[3]!==u?(r=()=>u.invalidateQueries({queryKey:c},{cancelRefetch:!1}),a[2]=c,a[3]=u,a[4]=r):r=a[4],a[5]!==o?(n=e=>o(e),a[5]=o,a[6]=n):n=a[6],a[7]!==t||a[8]!==r||a[9]!==n?(s={mutationFn:t,onSuccess:r,onError:n},a[7]=t,a[8]=r,a[9]=n,a[10]=s):s=a[10],(0,eN.n)(s)}(a);N[6]!==H||N[7]!==z?(o=e=>{e instanceof MergeError&&e.ruleErrors.length>0?z(e.ruleErrors):(z([]),H(e.message))},N[6]=H,N[7]=z,N[8]=o):o=N[8],N[9]!==M?(l=()=>{M(!1)},N[9]=M,N[10]=l):l=N[10],N[11]!==o||N[12]!==l?(c={onError:o,onSuccess:l},N[11]=o,N[12]=l,N[13]=c):c=N[13];let{mutate:en,isPending:es}=ne(c),ei=er||es;N[14]!==J||N[15]!==Q||N[16]!==F||N[17]!==en||N[18]!==P||N[19]!==k||N[20]!==ei||N[21]!==et||N[22]!==U||N[23]!==W||N[24]!==X||N[25]!==H?(u=()=>{ei||(H(""),P?(en({...X?{authorEmail:J}:{},commitMessage:Q,commitTitle:F,mergeMethod:U}),W("direct_merge_section.confirm_auto_merge","MERGEBOX_AUTO_MERGE_CONFIRMATION_BUTTON")):(et({...X?{authorEmail:J}:{},bypassBranchProtections:k,commitMessage:Q,commitTitle:F,mergeMethod:U}),W("direct_merge_section.confirm_direct_merge","MERGEBOX_DIRECT_MERGE_CONFIRMATION_BUTTON")))},N[14]=J,N[15]=Q,N[16]=F,N[17]=en,N[18]=P,N[19]=k,N[20]=ei,N[21]=et,N[22]=U,N[23]=W,N[24]=X,N[25]=H,N[26]=u):u=N[26];let ea=u;N[27]!==K?(g=K.length>0&&(0,s.jsx)(nt.r,{prefix:"",helpUrl:"",errorMessageNotUsingPrefix:"Repository rule violations found",hideRuleErrorsTitle:!0,ruleErrors:K}),N[27]=K,N[28]=g):g=N[28],N[29]!==X||N[30]!==Q||N[31]!==F||N[32]!==Y||N[33]!==ea||N[34]!==L||N[35]!==U?(f=U!==m.q$.REBASE&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(ew.A,{children:[(0,s.jsx)(ew.A.Label,{children:"Commit message"}),(0,s.jsx)(r7.A,{ref:q,block:!0,defaultValue:F,onChange:e=>G(e.currentTarget.value)})]}),(0,s.jsxs)(ew.A,{className:"mt-3 width-full",children:[(0,s.jsx)(ew.A.Label,{children:"Extended description"}),(0,s.jsx)(ey.Ay,{block:!0,placeholder:"Add an optional extended description\u2026",defaultValue:Q,onChange:e=>$(e.currentTarget.value),onKeyDown:e=>{"Enter"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),ea())}})]}),X?(0,s.jsx)("div",{className:nn.ConfirmMergeContainer,children:(0,s.jsxs)(ew.A,{children:[(0,s.jsx)(ew.A.Label,{children:"Commit email"}),(0,s.jsx)(r8.A,{defaultValue:Y,onChange:e=>Z(e.target.value),"aria-label":"Select commit author email",children:L.map(na)})]})}):(0,s.jsx)("div",{className:nn.ConfirmMergeContainer,children:(0,s.jsxs)("span",{className:nn.ConfirmMergeText,children:["This commit will be authored by ",Y,"."]})})]}),N[29]=X,N[30]=Q,N[31]=F,N[32]=Y,N[33]=ea,N[34]=L,N[35]=U,N[36]=f):f=N[36],N[37]!==T||N[38]!==U?(_=U===m.q$.REBASE&&(0,s.jsxs)("span",{className:nn.ConfirmMergeText,children:["This will rebase your changes and merge them into ",T,"."]}),N[37]=T,N[38]=U,N[39]=_):_=N[39],N[40]!==P||N[41]!==k||N[42]!==U?(R=r5({mergeMethod:U,confirming:!0,isBypassMerge:k,inProgress:!0,isAutoMergeAllowed:P}),N[40]=P,N[41]=k,N[42]=U,N[43]=R):R=N[43];let eo=k?"danger":P?"default":"primary";return N[44]!==P||N[45]!==k||N[46]!==U?(C=r5({mergeMethod:U,confirming:!0,isBypassMerge:k,inProgress:!1,isAutoMergeAllowed:P}),N[44]=P,N[45]=k,N[46]=U,N[47]=C):C=N[47],N[48]!==ea||N[49]!==ei||N[50]!==R||N[51]!==eo||N[52]!==C?(v=(0,s.jsx)(nr.Slot,{children:(0,s.jsx)(ed.Q,{ref:B,loading:ei,loadingAnnouncement:R,variant:eo,onClick:ea,children:C})}),N[48]=ea,N[49]=ei,N[50]=R,N[51]=eo,N[52]=C,N[53]=v):v=N[53],N[54]!==D?(x=(0,s.jsx)(nr.Slot,{children:(0,s.jsx)(ed.Q,{onClick:D,children:"Cancel"})}),N[54]=D,N[55]=x):x=N[55],N[56]!==v||N[57]!==x?(w=(0,s.jsxs)(nr,{className:"mt-3",children:[v,x]}),N[56]=v,N[57]=x,N[58]=w):w=N[58],N[59]!==V?(y=(0,s.jsx)(ns,{errorMessage:V}),N[59]=V,N[60]=y):y=N[60],N[61]!==g||N[62]!==f||N[63]!==_||N[64]!==w||N[65]!==y?(b=(0,s.jsxs)("div",{children:[g,f,_,w,y]}),N[61]=g,N[62]=f,N[63]=_,N[64]=w,N[65]=y,N[66]=b):b=N[66],b}function na(e){return(0,s.jsx)(r8.A.Option,{value:e,children:e},e)}try{ns.displayName||(ns.displayName="MergeErrorMessage")}catch{}try{ni.displayName||(ni.displayName="ConfirmMerge")}catch{}function no(e){let t,r,n=(0,i.c)(7),{onSelect:a,primaryText:o,secondaryText:l,selected:c}=e;return n[0]!==l?(t=(0,s.jsx)(ev.l.Description,{variant:"block",children:l}),n[0]=l,n[1]=t):t=n[1],n[2]!==a||n[3]!==o||n[4]!==c||n[5]!==t?(r=(0,s.jsxs)(ev.l.Item,{selected:c,onSelect:a,children:[o,t]}),n[2]=a,n[3]=o,n[4]=c,n[5]=t,n[6]=r):r=n[6],r}try{no.displayName||(no.displayName="MergeDropdownOption")}catch{}let nl=(0,d.lazy)(()=>Promise.all([r.e("primer-react"),r.e("ui_packages_mergebox_components_sections_merge-section_command-line-instructions_CommandLineI-e41d4a")]).then(r.bind(r,88351)));function nc(e){let t,r,n,o,l,c,u,h,p,g,f,E,_,S,R,C,x,w,y,b=(0,i.c)(82),{baseRefName:N,canUserPushToBase:A,defaultCommitAuthorEmail:I,commitMessageBody:j,commitMessageHeadline:T,conflictsCondition:M,handleConfirmingMergeInfo:k,headRepository:D,helpUrl:U,isAdminBypassToggleChecked:O,isAdminBypassToggleVisible:L,isAutoMergeAllowed:P,isConfirmingMergeInfo:B,isCrossRepo:F,mergeable:G,numberOfCommits:Q,mergeBoxRollupStatus:$,setShouldFocusPrimaryMergeButton:W,shouldFocusPrimaryMergeButton:V,status:H,viewerMergeActions:K,possibleCommitAuthorEmails:z}=e,X=void 0!==P&&P,{mergeMethod:Y,setMergeMethod:J}=v(),{sendAnalyticsEvent:Z}=(0,ee.s)(),[er,en]=(0,tC.A)(!1),es=(0,d.useRef)(null);if(!M)return null;if(b[0]!==K){let e=K.find(nu);a(e),r=(t=function({mergeMethods:e}){return e.reduce((e,t)=>((t?.allowableStatus==="ALLOWED"||t?.allowableStatus==="ALLOWED_WITH_BYPASS")&&e.push(t.name),e),[])}({mergeMethods:e.mergeMethods})).includes(m.q$.MERGE),n=t.includes(m.q$.SQUASH),o=t.includes(m.q$.REBASE),b[0]=K,b[1]=t,b[2]=r,b[3]=n,b[4]=o}else t=b[1],r=b[2],n=b[3],o=b[4];let ei=o,ea=L&&O,eo=H===q.ChecksPending?"pending":"failing",el=`Merging is blocked due to ${eo} merge requirements`;b[5]!==k||b[6]!==X||b[7]!==Z?(l=()=>{k(!0),Z(X?"direct_merge_section.auto_merge_click":"direct_merge_section.direct_merge_click",X?"MERGEBOX_AUTO_MERGE_SECTION_MERGE_BUTTON":"MERGEBOX_DIRECT_MERGE_SECTION_MERGE_BUTTON")},b[5]=k,b[6]=X,b[7]=Z,b[8]=l):l=b[8];let ec=l;b[9]!==k||b[10]!==X||b[11]!==Z||b[12]!==W?(c=()=>{k(!1),W(!0),Z(X?"direct_merge_section.cancel_auto_merge":"direct_merge_section.cancel_direct_merge",X?"MERGEBOX_AUTO_MERGE_CANCEL_CONFIRMATION_BUTTON":"MERGEBOX_DIRECT_MERGE_CANCEL_CONFIRMATION_BUTTON")},b[9]=k,b[10]=X,b[11]=Z,b[12]=W,b[13]=c):c=b[13];let eu=c;b[14]!==Z||b[15]!==en?(u=()=>{en(!0),Z("direct_merge_section.view_command_line_instructions","MERGEBOX_DIRECT_MERGE_SECTION_VIEW_COMMAND_LINE_INSTRUCTIONS_BUTTON")},b[14]=Z,b[15]=en,b[16]=u):u=b[16];let ed=u;b[17]!==Z||b[18]!==J?(h=(e,t)=>{J(e),Z(t,"MERGEBOX_DIRECT_MERGE_SECTION_MERGE_METHOD_MENU_ITEM")},b[17]=Z,b[18]=J,b[19]=h):h=b[19];let em=h;if(B){let e,t=I||"",r=j||"",n=T||"";return b[20]!==N||b[21]!==eu||b[22]!==k||b[23]!==O||b[24]!==X||b[25]!==Y||b[26]!==z||b[27]!==t||b[28]!==r||b[29]!==n?(e=(0,s.jsx)(ni,{defaultCommitAuthorEmail:t,commitMessageBody:r,commitMessageHeadline:n,defaultBranchName:N,handleConfirmingMergeInfo:k,isBypassMerge:O,selectedMergeMethod:Y,onCancel:eu,isAutoMergeAllowed:X,possibleCommitAuthorEmails:z}),b[20]=N,b[21]=eu,b[22]=k,b[23]=O,b[24]=X,b[25]=Y,b[26]=z,b[27]=t,b[28]=r,b[29]=n,b[30]=e):e=b[30],e}b[31]!==N||b[32]!==M||b[33]!==D||b[34]!==er||b[35]!==F||b[36]!==en?(p=er&&es&&(0,s.jsx)(d.Suspense,{children:(0,s.jsx)(nl,{baseRefName:N,conflictsCondition:M,headRepository:D,isCrossRepo:F,returnFocusRef:es,onClose:()=>en(!1)})}),b[31]=N,b[32]=M,b[33]=D,b[34]=er,b[35]=F,b[36]=en,b[37]=p):p=b[37];let eh=1===t.length,ep=!X&&!G&&!ea,eg=G&&"ALL_PASSED"===$;return b[38]!==r||b[39]!==Y||b[40]!==em?(g=r&&(0,s.jsx)(no,{primaryText:"Create a merge commit",secondaryText:"All commits from this branch will be added to the base branch via a merge commit.",selected:Y===m.q$.MERGE,onSelect:()=>em(m.q$.MERGE,"direct_merge_section.select_create_a_merge_commit")}),b[38]=r,b[39]=Y,b[40]=em,b[41]=g):g=b[41],b[42]!==n||b[43]!==Y||b[44]!==Q||b[45]!==em?(f=n&&(0,s.jsx)(no,{primaryText:"Squash and merge",secondaryText:1===Q?"The 1 commit from this branch will be added to the base branch.":`The ${Q} commits from this branch will be combined into one commit in the base branch.`,selected:Y===m.q$.SQUASH,onSelect:()=>em(m.q$.SQUASH,"direct_merge_section.select_squash_and_merge")}),b[42]=n,b[43]=Y,b[44]=Q,b[45]=em,b[46]=f):f=b[46],b[47]!==ei||b[48]!==Y||b[49]!==Q||b[50]!==em?(E=ei&&(0,s.jsx)(no,{primaryText:"Rebase and merge",secondaryText:`The ${Q} commit${1!==Q?"s":""} from this branch will be rebased and added to the base branch.`,selected:Y===m.q$.REBASE,onSelect:()=>em(m.q$.REBASE,"direct_merge_section.select_rebase_and_merge")}),b[47]=ei,b[48]=Y,b[49]=Q,b[50]=em,b[51]=E):E=b[51],b[52]!==g||b[53]!==f||b[54]!==E?(_=(0,s.jsxs)(ev.l,{selectionVariant:"single",showDividers:!0,children:[g,f,E]}),b[52]=g,b[53]=f,b[54]=E,b[55]=_):_=b[55],b[56]!==W?(S=()=>W(!1),b[56]=W,b[57]=S):S=b[57],b[58]!==X||b[59]!==ea||b[60]!==Y?(R=r5({mergeMethod:Y,confirming:!1,isBypassMerge:ea,isAutoMergeAllowed:X}),b[58]=X,b[59]=ea,b[60]=Y,b[61]=R):R=b[61],b[62]!==ec||b[63]!==el||b[64]!==V||b[65]!==eg||b[66]!==_||b[67]!==S||b[68]!==R||b[69]!==eh||b[70]!==ep?(C=(0,s.jsx)(nr.Slot,{children:(0,s.jsx)(rO,{hideSecondaryButton:eh,inactive:ep,inactiveTooltipText:el,inactiveTooltipDirection:"se",isPrimary:eg,secondaryButtonActive:!0,secondaryButtonAriaLabel:"Select merge method",shouldFocusPrimaryButton:V,actionList:_,onFocusPrimaryButton:S,onPrimaryButtonClick:ec,children:R})}),b[62]=ec,b[63]=el,b[64]=V,b[65]=eg,b[66]=_,b[67]=S,b[68]=R,b[69]=eh,b[70]=ep,b[71]=C):C=b[71],b[72]!==A||b[73]!==ed||b[74]!==U?(x=(0,s.jsx)(nr.Slot,{children:(0,s.jsx)("span",{className:"f6 fgColor-muted",children:A?(0,s.jsxs)(s.Fragment,{children:["You can also merge this with the command line."," ",(0,s.jsx)(et.A,{as:"button",ref:es,inline:!0,onClick:ed,children:"View command line instructions."})]}):(0,s.jsxs)(s.Fragment,{children:["Only those with"," ",(0,s.jsx)(et.A,{href:`${U}/en/get-started/learning-about-github/access-permissions-on-github`,inline:!0,children:"write access"})," ","to this repository can merge pull requests."]})})}),b[72]=A,b[73]=ed,b[74]=U,b[75]=x):x=b[75],b[76]!==C||b[77]!==x?(w=(0,s.jsxs)(nr,{children:[C,x]}),b[76]=C,b[77]=x,b[78]=w):w=b[78],b[79]!==w||b[80]!==p?(y=(0,s.jsxs)(s.Fragment,{children:[p,w]}),b[79]=w,b[80]=p,b[81]=y):y=b[81],y}function nu(e){return e.name===m.tw.DIRECT_MERGE}try{nl.displayName||(nl.displayName="CommandLineInstructionsDialog")}catch{}try{nc.displayName||(nc.displayName="DirectMergeActionsSection")}catch{}var nd=r(65607);function nm(e){let t,r,n,a=(0,i.c)(6),{checked:o,onToggleChecked:l}=e;return a[0]!==o||a[1]!==l?(t=(0,s.jsx)(nd.A,{onChange:l,checked:o}),a[0]=o,a[1]=l,a[2]=t):t=a[2],a[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,s.jsx)(ew.A.Label,{children:(0,s.jsx)("span",{className:"fgColor-danger",children:" Merge without waiting for requirements to be met (bypass rules) "})}),a[3]=r):r=a[3],a[4]!==t?(n=(0,s.jsxs)(ew.A,{children:[t,r]}),a[4]=t,a[5]=n):n=a[5],n}try{nm.displayName||(nm.displayName="BypassMergeRequirementsToggle")}catch{}function nh(e,t,r){return"MERGEABLE_IF_STATUSES_PASS"===e&&"BEHIND"!==r&&t!==q.ChecksPending&&t!==q.ChecksFailing&&t!==q.UnableToMerge||"MERGEABLE"===e}function np(e){let t,r,n,a,o,c,u,h,p,g,f=(0,i.c)(44),{autoMergeRequest:E,baseRefName:_,handleConfirmingMergeInfo:S,isDraft:R,isInMergeQueue:C,mergeQueue:v,mergeRequirementsState:x,mergeStateStatus:w,mergeBoxRollupStatus:y,status:b,viewerCanAddAndRemoveFromMergeQueue:N,viewerCanAddToMergeQueueSolo:A,shouldFocusPrimaryMergeButton:I,setShouldFocusPrimaryMergeButton:j}=e,T=v?.url,[M,k]=(0,d.useState)(m.lD.GROUP),[D,U]=(0,d.useState)(!1),[O,L]=(0,tC.A)(),{sendAnalyticsEvent:P}=(0,ee.s)();f[0]!==L?(t={onError:e=>{L(e.message)}},f[0]=L,f[1]=t):t=f[1];let{mutate:q,isPending:B}=ne(t);f[2]!==S||f[3]!==P?(r=()=>{U(!0),S(!0),P("auto_merge_section.merge_click","MERGEBOX_AUTO_MERGE_BUTTON")},f[2]=S,f[3]=P,f[4]=r):r=f[4];let F=r;f[5]!==q||f[6]!==S||f[7]!==B||f[8]!==M||f[9]!==P||f[10]!==L?(n=()=>{B||(L(void 0),q({mergeMethod:M===m.lD.SOLO?"SOLO":"GROUP"}),S(!1),P("auto_merge_section.confirm_direct_merge","MERGEBOX_AUTO_MERGE_CONFIRMATION_BUTTON"))},f[5]=q,f[6]=S,f[7]=B,f[8]=M,f[9]=P,f[10]=L,f[11]=n):n=f[11];let G=n;f[12]!==P?(a=(e,t)=>{k(e),P(t,"MERGEBOX_MERGE_QUEUE_SECTION_MERGE_METHOD_MENU_ITEM")},f[12]=P,f[13]=a):a=f[13];let Q=a;f[14]!==x||f[15]!==w||f[16]!==b?(o=nh(x,b,w),f[14]=x,f[15]=w,f[16]=b,f[17]=o):o=f[17];let $=o,W=!N||"UNKNOWN"===w||R||C||!!E,V=(0,d.useRef)(null);return f[18]!==D?(c=()=>{D&&V?.current&&V?.current.focus()},u=[D],f[18]=D,f[19]=c,f[20]=u):(c=f[19],u=f[20]),(0,d.useEffect)(c,u),f[21]!==O?(h=O&&(0,s.jsxs)(ex.A,{className:"mb-3",variant:"danger",children:[(0,s.jsx)(ej.A,{className:"mr-2",icon:l.StopIcon}),O]}),f[21]=O,f[22]=h):h=f[22],f[23]!==G||f[24]!==_||f[25]!==F||f[26]!==S||f[27]!==$||f[28]!==B||f[29]!==y||f[30]!==T||f[31]!==x||f[32]!==W||f[33]!==M||f[34]!==P||f[35]!==j||f[36]!==I||f[37]!==D||f[38]!==Q||f[39]!==A?(p=D?(0,s.jsxs)(nr,{children:[(0,s.jsx)(nr.Slot,{children:(0,s.jsx)(ed.Q,{ref:V,variant:"primary",loading:B,loadingAnnouncement:r6({mergeMethod:M,confirming:!0,inProgress:!0}),onClick:G,children:r6({mergeMethod:M,confirming:!0,inProgress:!1})})}),(0,s.jsx)(nr.Slot,{children:(0,s.jsx)(ed.Q,{onClick:()=>{S(!1),U(!1),P("auto_merge_section.cancel_auto_merge","MERGEBOX_AUTO_MERGE_CANCEL_CONFIRMATION_BUTTON")},children:"Cancel"})})]}):(0,s.jsxs)(nr,{children:[(0,s.jsx)(nr.Slot,{children:(0,s.jsx)(rO,{inactive:W,inactiveTooltipText:"UNKNOWN"===x?"Checking for the ability to merge automatically":"Merging is blocked due to failing merge requirements",inactiveTooltipDirection:"se",hideSecondaryButton:!A,secondaryButtonAriaLabel:"Select merge queue method",isPrimary:$&&"ALL_PASSED"===y,shouldFocusPrimaryButton:I,onFocusPrimaryButton:()=>j(!1),actionList:(0,s.jsx)(ev.l,{selectionVariant:"single",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(no,{primaryText:"Queue and merge in a group",secondaryText:`This pull request will be automatically grouped with other pull requests and merged into ${_}.`,selected:M===m.lD.GROUP,onSelect:()=>Q(m.lD.GROUP,"merqe_queue_section.select_queue_and_merge_in_a_group")}),(0,s.jsx)(no,{primaryText:"Queue and force solo merge",secondaryText:`This pull request will be merged into ${_} by itself.`,selected:M===m.lD.SOLO,onSelect:()=>Q(m.lD.SOLO,"merqe_queue_section.select_queue_and_force_solo_merge")})]})}),onPrimaryButtonClick:F,children:r6({mergeMethod:M,confirming:!1,inProgress:B})})}),(0,s.jsx)(nr.Slot,{children:(0,s.jsxs)("span",{className:"f6 fgColor-muted pl-2",children:["This repository uses the"," ",(0,s.jsx)(et.A,{href:T,inline:!0,children:"merge queue"})," ","for all merges into the ",_," branch."]})})]}),f[23]=G,f[24]=_,f[25]=F,f[26]=S,f[27]=$,f[28]=B,f[29]=y,f[30]=T,f[31]=x,f[32]=W,f[33]=M,f[34]=P,f[35]=j,f[36]=I,f[37]=D,f[38]=Q,f[39]=A,f[40]=p):p=f[40],f[41]!==h||f[42]!==p?(g=(0,s.jsxs)(s.Fragment,{children:[h,p]}),f[41]=h,f[42]=p,f[43]=g):g=f[43],g}function ng(e){let t,r,n,a,o,c,u,d,m,g=(0,i.c)(25),{autoMergeRequest:f,viewerCanDisableAutoMerge:_,isMergeQueueEnabled:R,handleConfirmingMergeInfo:C}=e,{sendAnalyticsEvent:v}=(0,ee.s)(),[x,w]=(0,tC.A)();g[0]!==w?(t={onError:e=>{w(e.message)}},g[0]=w,g[1]=t):t=g[1];let{mutate:y,isPending:b}=function(e){let t,r,n,s,a=(0,i.c)(11),{onError:o}=e,l=(0,p.e)(h.u.disableAutoMerge),c=S(),u=(0,E.jE)();return a[0]!==l?(t=async()=>{let e=await (0,eA.q$)(l,{method:"POST",headers:{Accept:"application/json"}}),t=await (0,eA.hp)(e);return(0,eA.R)(e,t),t},a[0]=l,a[1]=t):t=a[1],a[2]!==c||a[3]!==u?(r=()=>u.refetchQueries({queryKey:c},{cancelRefetch:!1}),a[2]=c,a[3]=u,a[4]=r):r=a[4],a[5]!==o?(n=e=>{o(e)},a[5]=o,a[6]=n):n=a[6],a[7]!==t||a[8]!==r||a[9]!==n?(s={mutationFn:t,onSuccess:r,onError:n},a[7]=t,a[8]=r,a[9]=n,a[10]=s):s=a[10],(0,eN.n)(s)}(t);g[2]!==y||g[3]!==C||g[4]!==b||g[5]!==v||g[6]!==w?(r=()=>{b||(w(void 0),C(!1),y(),v("auto_merge_section.disable_auto_merge","MERGEBOX_AUTO_MERGE_DISABLE_BUTTON"))},g[2]=y,g[3]=C,g[4]=b,g[5]=v,g[6]=w,g[7]=r):r=g[7];let N=r,A=f?.mergeMethod.toLowerCase()??"merge",I=R?"be added to the merge queue":`${A} automatically`;g[8]!==x?(n=x&&(0,s.jsxs)(ex.A,{className:"mx-3 my-2",variant:"danger",children:[(0,s.jsx)(ej.A,{className:"mr-2",icon:l.StopIcon}),x]}),g[8]=x,g[9]=n):n=g[9];let j=!_;return g[10]!==N||g[11]!==b||g[12]!==j?(a=(0,s.jsx)(nr.Slot,{children:(0,s.jsx)(ed.Q,{disabled:j,onClick:N,loading:b,loadingAnnouncement:"Disabling auto-merge",children:"Disable auto-merge"})}),g[10]=N,g[11]=b,g[12]=j,g[13]=a):a=g[13],g[14]!==I?(o=(0,s.jsx)("span",{className:"text-semibold",children:I}),g[14]=I,g[15]=o):o=g[15],g[16]===Symbol.for("react.memo_cache_sentinel")?(c=(0,s.jsx)(et.A,{inline:!0,href:"https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/incorporating-changes-from-a-pull-request/automatically-merging-a-pull-request",children:"Learn more about automatically merging a pull request."}),g[16]=c):c=g[16],g[17]!==o?(u=(0,s.jsx)(nr.Slot,{children:(0,s.jsxs)("div",{className:"flex-1",children:["This pull request will ",o," when all requirements are met."," ",c]})}),g[17]=o,g[18]=u):u=g[18],g[19]!==a||g[20]!==u?(d=(0,s.jsxs)(nr,{children:[a,u]}),g[19]=a,g[20]=u,g[21]=d):d=g[21],g[22]!==n||g[23]!==d?(m=(0,s.jsxs)(s.Fragment,{children:[n,d]}),g[22]=n,g[23]=d,g[24]=m):m=g[24],m}function nf(e){let t,r,n,a,o,l,c,m,h,p,g,f,E,_,S,R,C,v,x,w=(0,i.c)(68);w[0]!==e?({advisoryWorkspace:t,autoMergeRequest:r,handleConfirmingMergeInfo:n,id:a,isConfirmingMergeInfo:o,isInMergeQueue:l,mergeQueue:c,mergeStateStatus:m,viewerCanAddAndRemoveFromMergeQueue:p,viewerCanAddToMergeQueueSolo:g,viewerCanDisableAutoMerge:E,viewerCanEnableAutoMerge:_,viewerCanAdminBypassMergeRequirements:f,...h}=e,w[0]=e,w[1]=t,w[2]=r,w[3]=n,w[4]=a,w[5]=o,w[6]=l,w[7]=c,w[8]=m,w[9]=h,w[10]=p,w[11]=g,w[12]=f,w[13]=E,w[14]=_):(t=w[1],r=w[2],n=w[3],a=w[4],o=w[5],l=w[6],c=w[7],m=w[8],h=w[9],p=w[10],g=w[11],f=w[12],E=w[13],_=w[14]);let[y,b]=(0,d.useState)(!1),N=h.viewerMergeActions,A=N.find(n_),I=N.find(nE);w[15]!==m||w[16]!==h.mergeRequirementsState||w[17]!==h.status?(S=nh(h.mergeRequirementsState,h.status,m),w[15]=m,w[16]=h.mergeRequirementsState,w[17]=h.status,w[18]=S):S=w[18];let j=S,T=A?.allowableStatus==="ALLOWED",M=I?.allowableStatus==="ALLOWED",k=!!r,D=f&&!k&&(!!T||!j),U=_&&!j;if(t)return null;if(k){let e;w[19]!==r||w[20]!==n||w[21]!==T||w[22]!==E?(e=(0,s.jsx)(ng,{autoMergeRequest:r,isMergeQueueEnabled:T,viewerCanDisableAutoMerge:E,handleConfirmingMergeInfo:n}),w[19]=r,w[20]=n,w[21]=T,w[22]=E,w[23]=e):e=w[23],R=e}else if(T||M)if(T&&D&&y){let e;w[28]!==n||w[29]!==o||w[30]!==j||w[31]!==h||w[32]!==D?(e=(0,s.jsx)(nc,{mergeable:j,handleConfirmingMergeInfo:n,isAdminBypassToggleVisible:D,isAdminBypassToggleChecked:!0,isConfirmingMergeInfo:o,...h}),w[28]=n,w[29]=o,w[30]=j,w[31]=h,w[32]=D,w[33]=e):e=w[33],R=e}else if(T){let e;w[34]!==r||w[35]!==n||w[36]!==a||w[37]!==l||w[38]!==c||w[39]!==m||w[40]!==h||w[41]!==p||w[42]!==g?(e=(0,s.jsx)(np,{autoMergeRequest:r,pullRequestId:a,handleConfirmingMergeInfo:n,isInMergeQueue:l,mergeQueue:c,mergeStateStatus:m,viewerCanAddAndRemoveFromMergeQueue:p,viewerCanAddToMergeQueueSolo:g,...h}),w[34]=r,w[35]=n,w[36]=a,w[37]=l,w[38]=c,w[39]=m,w[40]=h,w[41]=p,w[42]=g,w[43]=e):e=w[43],R=e}else if(_&&!y){let e;w[44]!==n||w[45]!==o||w[46]!==j||w[47]!==h||w[48]!==D||w[49]!==U?(e=(0,s.jsx)(nc,{handleConfirmingMergeInfo:n,mergeable:j,isAdminBypassToggleChecked:!1,isAdminBypassToggleVisible:D,isAutoMergeAllowed:U,isConfirmingMergeInfo:o,...h}),w[44]=n,w[45]=o,w[46]=j,w[47]=h,w[48]=D,w[49]=U,w[50]=e):e=w[50],R=e}else{let e;w[51]!==n||w[52]!==y||w[53]!==o||w[54]!==j||w[55]!==h||w[56]!==D?(e=(0,s.jsx)(nc,{handleConfirmingMergeInfo:n,isAdminBypassToggleChecked:y,isAdminBypassToggleVisible:D,isConfirmingMergeInfo:o,mergeable:j,...h}),w[51]=n,w[52]=y,w[53]=o,w[54]=j,w[55]=h,w[56]=D,w[57]=e):e=w[57],R=e}else{let e;w[24]!==n||w[25]!==o||w[26]!==h?(e=(0,s.jsx)(nc,{mergeable:!1,handleConfirmingMergeInfo:n,isAdminBypassToggleChecked:!1,isAdminBypassToggleVisible:!1,isConfirmingMergeInfo:o,...h}),w[24]=n,w[25]=o,w[26]=h,w[27]=e):e=w[27],R=e}let O=o?"rounded-2":"rounded-bottom-2";return w[58]!==O?(C=(0,u.$)("p-3 bgColor-muted borderColor-muted",O),w[58]=O,w[59]=C):C=w[59],w[60]!==y||w[61]!==o||w[62]!==D?(v=D&&!o&&(0,s.jsx)("div",{className:"mb-3",children:(0,s.jsx)(nm,{checked:y,onToggleChecked:()=>b(!y)})}),w[60]=y,w[61]=o,w[62]=D,w[63]=v):v=w[63],w[64]!==R||w[65]!==C||w[66]!==v?(x=(0,s.jsxs)("div",{className:C,children:[v,R]}),w[64]=R,w[65]=C,w[66]=v,w[67]=x):x=w[67],x}function nE(e){return e.name===m.tw.DIRECT_MERGE}function n_(e){let{name:t}=e;return t===m.tw.MERGE_QUEUE}try{np.displayName||(np.displayName="AddToMergeQueueSection")}catch{}try{ng.displayName||(ng.displayName="DisableAutoMerge")}catch{}try{nf.displayName||(nf.displayName="MergeSection")}catch{}function nS(){let e,t=(0,i.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)("div",{className:tj.mergeboxLoading,children:(0,s.jsx)(c.A,{})}),t[0]=e):e=t[0],e}let nR=(0,d.memo)(function(e){let t,r,n,a,l,c=(0,i.c)(11);c[0]!==e?({hideIcon:r,...t}=e,c[0]=e,c[1]=t,c[2]=r):(t=c[1],r=c[2]);let u=void 0!==r&&r;return c[3]!==u?(n=(0,s.jsx)(tk,{hideIcon:u}),c[3]=u,c[4]=n):n=c[4],c[5]!==u||c[6]!==t?(a=(0,s.jsx)(d.Suspense,{children:(0,s.jsx)(nC,{hideIcon:u,...t})}),c[5]=u,c[6]=t,c[7]=a):a=c[7],c[8]!==n||c[9]!==a?(l=(0,s.jsx)(o.t,{critical:!0,fallback:n,children:a}),c[8]=n,c[9]=a,c[10]=l):l=c[10],l});function nC(e){let t,r,n,a,o,l,c,u,m,g,R=(0,i.c)(20);R[0]!==e?({viewerLogin:n,channels:t,...r}=e,R[0]=e,R[1]=t,R[2]=r,R[3]=n):(t=R[1],r=R[2],n=R[3]);let{mergeMethod:C}=v();R[4]!==C?(a={mergeMethod:C,bypassRequirements:!1},R[4]=C,R[5]=a):a=R[5];let{data:x,refetch:w,isLoading:y,error:b}=function(e){let t,r,n=(0,i.c)(7),{mergeMethod:s,bypassRequirements:a}=e,o=new URLSearchParams;o.append("merge_method",s),o.append("bypass_requirements",(void 0!==a&&a).toString());let l=`${(0,p.e)(h.u.mergeBox)}?${o.toString()}`,c=S(),u=(0,E.jE)();return n[0]!==l||n[1]!==u||n[2]!==c?(t=async()=>(0,f.H)(l,c,u),n[0]=l,n[1]=u,n[2]=c,n[3]=t):t=n[3],n[4]!==c||n[5]!==t?(r={queryKey:c,queryFn:t,staleTime:1/0},n[4]=c,n[5]=t,n[6]=r):r=n[6],(0,_.I)(r)}(a);e:{if(x?.pullRequest.mergeBoxAliveChannels){o=x?.pullRequest.mergeBoxAliveChannels;break e}o=t}let N=o;R[6]!==w?(l=()=>{(0,d.startTransition)(()=>{w({cancelRefetch:!1})})},R[6]=w,R[7]=l):l=R[7];let A=l;if(R[8]!==N||R[9]!==A?(c={refetchQuery:A,channels:N},R[8]=N,R[9]=A,R[10]=c):c=R[10],!function({channels:e,refetchQuery:t}){let r=(0,d.useMemo)(()=>Object.values(e).filter(e=>null!==e),[e]),n=(0,th.A)(),[s,i]=(0,d.useState)(!1),a=tE(),o=(0,d.useMemo)(()=>(0,td.n)(()=>{n()&&t()},2e3),[t,n]),l=(0,d.useMemo)(()=>e=>{a?window.setTimeout(()=>o(),e.wait||0):i(!0)},[a,o]);for(let e of((0,d.useEffect)(()=>{n()&&a&&s&&(i(!1),t())},[a,s,i,n,t]),r))(0,tm.x)(e,l)}(c),y){let e;return R[11]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(nS,{}),R[11]=e):e=R[11],e}if(b)throw b;if(!x)return null;R[12]===Symbol.for("react.memo_cache_sentinel")?(u=(0,s.jsx)(nS,{}),m=(0,s.jsx)("h2",{className:"sr-only",children:"Merge info"}),R[12]=u,R[13]=m):(u=R[12],m=R[13]);let I=x.pullRequest.numberOfCommits||0;return R[14]!==x.mergeRequirements||R[15]!==x.pullRequest||R[16]!==r||R[17]!==I||R[18]!==n?(g=(0,s.jsxs)(d.Suspense,{fallback:u,children:[m,(0,s.jsx)(nv,{mergeRequirements:x.mergeRequirements,numberOfCommits:I,pullRequest:x.pullRequest,viewerLogin:n,...r})]}),R[14]=x.mergeRequirements,R[15]=x.pullRequest,R[16]=r,R[17]=I,R[18]=n,R[19]=g):g=R[19],g}function nv(e){let t,r,n,c,m,g,S,R,C,v,y,b,N,A,I,j,T,M,k,D,U,O=(0,i.c)(90),{helpUrl:L,hideIcon:P,mergeRequirements:H,numberOfCommits:K,pullRequest:z,viewerLogin:X}=e;a(z.viewerMergeActions.find(nw));let[Y,J]=(0,d.useState)(!1),Z=!Y,[ee,et]=(0,d.useState)(!1),{isInMergeQueue:er,state:en,viewerCanDeleteHeadRef:es,viewerCanRestoreHeadRef:ei}=z,ea=void 0!==P&&P||("CLOSED"===en||"MERGED"===en)&&!es&&!ei;O[0]!==z.headRefOid?(t={pullRequestHeadSha:z.headRefOid},O[0]=z.headRefOid,O[1]=t):t=O[1];let eo=function(e){let t,r,n,s=(0,i.c)(9),{pullRequestHeadSha:a}=e,o=(0,p.e)(h.u.statusChecks);s[0]!==a?(t={pullRequestHeadSha:a},s[0]=a,s[1]=t):t=s[1];let l=tS(t),c=(0,E.jE)();return s[2]!==o||s[3]!==c||s[4]!==l?(r=async()=>(0,f.H)(o,l,c),s[2]=o,s[3]=c,s[4]=l,s[5]=r):r=s[5],s[6]!==l||s[7]!==r?(n={queryKey:l,throwOnError:!1,queryFn:r,staleTime:1e4},s[6]=l,s[7]=r,s[8]=n):n=s[8],(0,_.I)(n)}(t).data;if(O[2]!==H||O[3]!==z||O[4]!==Z||O[5]!==eo){y=function({pullRequest:e,mergeRequirements:t,statusChecksData:r}){if("MERGED"===e.state)return q.Merged;if("CLOSED"===e.state)return q.Closed;if(function(e){let t=B(e);return t.includes("PULL_REQUEST_REPO_STATE")||t.includes("PULL_REQUEST_USER_STATE")}(t))return q.NonactionableFailure;if(e.isInMergeQueue)return q.InMergeQueue;if(e.isDraft&&!G(r))return q.DraftReadyForReview;if(e.isDraft)return q.DraftNotReadyForReview;if(G(r))return q.ChecksFailing;if(F(r))return q.ChecksPending;if($(t,r))return q.NonRequiredChecksUnsuccessful;if(t?.state==="MERGEABLE"||t?.state==="MERGEABLE_IF_STATUSES_PASS"&&Q(r))return q.Mergeable;if((function(e){let t=e?.conditions.find(e=>"PULL_REQUEST_RULES"===e.type);if(!t)return[];let r=t?.ruleRollups?.filter(e=>"FAILED"===e.result);return r?r.map(e=>e.ruleType):[]})(t).includes("PULL_REQUEST")&&!W(t).includes("CHANGES_REQUESTED"))return q.AwaitingReview;if(W(t).includes("CHANGES_REQUESTED"))return q.ChangesRequested;else if(t?.state==="UNKNOWN"&&!V(t))return q.Unknown;else if(V(t))return q.MergeConflicts;else return q.UnableToMerge}({pullRequest:z,mergeRequirements:H,statusChecksData:eo});let e=new MergeBoxStatusCalculator(z,H,eo);S=e.overallStatus,r=e.sections.BlockedSection,n=e.sections.ChecksSection,c=e.sections.ClosedOrMergedStateMergeBox,m=e.sections.ConflictsSection,g=e.sections.DraftStateSection,R=e.sections.MergeQueueSection,v=e.sections.ReviewerSection,C=function(e){switch(e){case q.Mergeable:return{icon:l.CheckCircleFillIcon,iconColor:"success.emphasis",title:"Merge pull request"};case q.DraftReadyForReview:case q.DraftNotReadyForReview:return{icon:l.GitPullRequestDraftIcon,iconColor:"neutral.emphasis",title:"Draft"};case q.InMergeQueue:return{icon:l.GitMergeQueueIcon,iconColor:"attention.emphasis",title:"Queued"};case q.ChecksPending:return{icon:l.DotFillIcon,iconColor:"neutral.emphasis",title:"Checks pending"};case q.ChecksFailing:return{icon:l.XCircleFillIcon,iconColor:"danger.emphasis",title:"Checks failing"};case q.NonRequiredChecksUnsuccessful:return{icon:l.DotFillIcon,iconColor:"neutral.emphasis",title:"Non-required checks unsuccessful"};case q.AwaitingReview:return{icon:l.DotFillIcon,iconColor:"danger.emphasis",title:"Awaiting reviews"};case q.ChangesRequested:return{icon:l.XCircleFillIcon,iconColor:"danger.emphasis",title:"Changes requested"};case q.MergeConflicts:return{icon:l.XCircleFillIcon,iconColor:"danger.emphasis",title:"Merge conflicts"};case q.Unknown:return{icon:l.DotFillIcon,iconColor:"neutral.emphasis",title:"Unknown"};case q.Merged:return{icon:l.GitMergeIcon,iconColor:"done.emphasis",title:"Merged"};case q.Closed:return{icon:l.GitPullRequestClosedIcon,iconColor:"neutral.emphasis",title:"Closed"};default:return{icon:l.XCircleFillIcon,iconColor:"danger.emphasis",title:"Unable to merge"}}}(y),b=function(e,t){let r;switch(e){case"ALL_PASSED":r={iconColor:"success.emphasis",borderColor:"borderColor-success-emphasis"};break;case"MERGED":r={iconColor:"done.emphasis",borderColor:"borderColor-done-emphasis"};break;case"QUEUED":r={iconColor:"attention.emphasis",borderColor:"borderColor-attention-emphasis"};break;default:r={iconColor:"neutral.emphasis",borderColor:"borderColor-default"}}return t&&(r.borderColor="borderColor-default"),r}(S,!Z),O[2]=H,O[3]=z,O[4]=Z,O[5]=eo,O[6]=r,O[7]=n,O[8]=c,O[9]=m,O[10]=g,O[11]=S,O[12]=R,O[13]=C,O[14]=v,O[15]=y,O[16]=b}else r=O[6],n=O[7],c=O[8],m=O[9],g=O[10],S=O[11],R=O[12],C=O[13],v=O[14],y=O[15],b=O[16];let el=b,ec=H?.conditions.find(nx),eu=ec?.result==="PASSED";O[17]!==H?(N=function(e){let t=w(e);if(t.length<1)return!1;let r=t[0]?.ruleRollups.find(e=>"AUTHORIZATION"===e.ruleType);return r?.result==="FAILED"}(H),O[17]=H,O[18]=N):N=O[18];let ed=N;O[19]!==H?(A=x(H),O[19]=H,O[20]=A):A=O[20];let em=A,eh=er?l.GitMergeQueueIcon:l.GitMergeIcon;O[21]===Symbol.for("react.memo_cache_sentinel")?(I=()=>{et(!0)},O[21]=I):I=O[21];let ep=I,eg=!eu||ed,ef=z.mergeBoxUserPreferences;O[22]===Symbol.for("react.memo_cache_sentinel")?(j=(0,u.$)(tj.mergePartialContainer,"position-relative partial-pull-merging-analytics-js"),O[22]=j):j=O[22],O[23]!==eh||O[24]!==el.iconColor||O[25]!==C||O[26]!==ea?(T=!ea&&(0,s.jsx)("div",{className:"d-none d-lg-block","data-testid":"mergeability-icon-wrapper",children:(0,s.jsx)(tI,{icon:eh,ariaLabel:C.title,iconBackgroundColor:el.iconColor})}),O[23]=eh,O[24]=el.iconColor,O[25]=C,O[26]=ea,O[27]=T):T=O[27];let eE=eg?tj.mergeBoxAdjustBorders:"",e_=`border rounded-2 ${el.borderColor}`;return O[28]!==e_||O[29]!==eE?(M=(0,u.$)(eE,e_),O[28]=e_,O[29]=eE,O[30]=M):M=O[30],O[31]!==r||O[32]!==eu||O[33]!==n||O[34]!==c.shouldRender||O[35]!==em||O[36]!==m||O[37]!==g||O[38]!==L||O[39]!==Y||O[40]!==S||O[41]!==ef||O[42]!==R||O[43]!==H||O[44]!==K||O[45]!==z.advisoryWorkspace||O[46]!==z.autoMergeRequest||O[47]!==z.baseRefName||O[48]!==z.baseRepository||O[49]!==z.deprovisionableCodespaces||O[50]!==z.headRefName||O[51]!==z.headRefOid||O[52]!==z.headRepository||O[53]!==z.id||O[54]!==z.isCrossRepo||O[55]!==z.isDraft||O[56]!==z.isInMergeQueue||O[57]!==z.latestOpinionatedReviews||O[58]!==z.mergeQueue||O[59]!==z.mergeQueueEntry||O[60]!==z.mergeStateStatus||O[61]!==z.pendingReviewRequests||O[62]!==z.resourcePath||O[63]!==z.state||O[64]!==z.viewerCanAddAndRemoveFromMergeQueue||O[65]!==z.viewerCanAddToMergeQueueSolo||O[66]!==z.viewerCanAdminBypassMergeRequirements||O[67]!==z.viewerCanDeleteHeadRef||O[68]!==z.viewerCanDisableAutoMerge||O[69]!==z.viewerCanDismissReviews||O[70]!==z.viewerCanEnableAutoMerge||O[71]!==z.viewerCanReRequestReviews||O[72]!==z.viewerCanRestoreHeadRef||O[73]!==z.viewerCanUpdate||O[74]!==z.viewerCanUpdateBranch||O[75]!==z.viewerMergeActions||O[76]!==z.viewerUpdateMethods||O[77]!==v||O[78]!==ee||O[79]!==eg||O[80]!==Z||O[81]!==y||O[82]!==X?(k=c.shouldRender||!H?(0,s.jsx)(tb,{isCrossRepo:z.isCrossRepo,state:z.state,headRefName:z.headRefName,headRepository:z.headRepository,baseRepository:z.baseRepository,viewerCanDeleteHeadRef:z.viewerCanDeleteHeadRef,viewerCanRestoreHeadRef:z.viewerCanRestoreHeadRef,deprovisionableCodespaces:z.deprovisionableCodespaces}):R.shouldRender?(0,s.jsx)(r1,{viewerCanAddAndRemoveFromMergeQueue:z.viewerCanAddAndRemoveFromMergeQueue,mergeQueueEntry:z.mergeQueueEntry,mergeQueue:z.mergeQueue,focusPrimaryMergeButton:ep}):(0,s.jsxs)(s.Fragment,{children:[Z&&(0,s.jsxs)(s.Fragment,{children:[v.shouldRender&&(0,s.jsx)(eG,{consolidatedFailureReasons:v.consolidatedFailureReasons,helpUrl:L,latestOpinionatedReviews:z.latestOpinionatedReviews,numReviewsRequired:v.numReviewsRequired,pendingRequestedReviews:z.pendingReviewRequests,pullRequestId:z.id,reviewsState:v.sectionStatus,viewerCanDismissReviews:z.viewerCanDismissReviews,viewerCanReRequestReviews:z.viewerCanReRequestReviews}),(0,s.jsx)(o.t,{fallback:(0,s.jsx)(rA,{}),children:(0,s.jsx)(rN,{pullRequestId:z.id,pullRequestHeadSha:z.headRefOid,focusPrimaryMergeButton:ep,sectionStatus:n.sectionStatus,shouldRender:n.shouldRender,mergeBoxUserPreferences:ef})}),m.shouldRender&&m.conflictsCondition&&(0,s.jsx)(rQ,{advisoryWorkspace:z.advisoryWorkspace,baseRefName:z.baseRefName,headRefOid:z.headRefOid,conflictsCondition:m.conflictsCondition,conflictsState:m.sectionStatus,mergeStateStatus:z.mergeStateStatus,resourcePath:z.resourcePath,canUserPushToBase:eu,viewerCanUpdateBranch:z.viewerCanUpdateBranch,viewerLogin:X,viewerUpdateMethods:z.viewerUpdateMethods}),r.shouldRender&&(0,s.jsx)(tP,{failingConditionsAndRules:r.failingConditionsAndRules}),g.shouldRender&&(0,s.jsx)(rJ,{viewerCanUpdate:z.viewerCanUpdate,helpUrl:L})]}),eg?null:(0,s.jsx)(nf,{advisoryWorkspace:z.advisoryWorkspace,autoMergeRequest:z.autoMergeRequest,baseRefName:z.baseRefName,numberOfCommits:K,conflictsCondition:em,headRepository:z.headRepository,helpUrl:L,id:z.id,isConfirmingMergeInfo:Y,isCrossRepo:z.isCrossRepo,isDraft:z.isDraft,isInMergeQueue:z.isInMergeQueue,mergeQueue:z.mergeQueue,canUserPushToBase:eu,defaultCommitAuthorEmail:H.defaultCommitAuthorEmail,commitMessageBody:H.commitMessageBody,commitMessageHeadline:H.commitMessageHeadline,mergeRequirementsState:H.state,mergeStateStatus:z.mergeStateStatus,mergeBoxRollupStatus:S,viewerCanAddAndRemoveFromMergeQueue:z.viewerCanAddAndRemoveFromMergeQueue,viewerCanAdminBypassMergeRequirements:z.viewerCanAdminBypassMergeRequirements,viewerCanAddToMergeQueueSolo:z.viewerCanAddToMergeQueueSolo,viewerCanDisableAutoMerge:z.viewerCanDisableAutoMerge,viewerMergeActions:z.viewerMergeActions,viewerCanEnableAutoMerge:z.viewerCanEnableAutoMerge,shouldFocusPrimaryMergeButton:ee,setShouldFocusPrimaryMergeButton:et,status:y,possibleCommitAuthorEmails:H.possibleCommitAuthorEmails,handleConfirmingMergeInfo:J})]}),O[31]=r,O[32]=eu,O[33]=n,O[34]=c.shouldRender,O[35]=em,O[36]=m,O[37]=g,O[38]=L,O[39]=Y,O[40]=S,O[41]=ef,O[42]=R,O[43]=H,O[44]=K,O[45]=z.advisoryWorkspace,O[46]=z.autoMergeRequest,O[47]=z.baseRefName,O[48]=z.baseRepository,O[49]=z.deprovisionableCodespaces,O[50]=z.headRefName,O[51]=z.headRefOid,O[52]=z.headRepository,O[53]=z.id,O[54]=z.isCrossRepo,O[55]=z.isDraft,O[56]=z.isInMergeQueue,O[57]=z.latestOpinionatedReviews,O[58]=z.mergeQueue,O[59]=z.mergeQueueEntry,O[60]=z.mergeStateStatus,O[61]=z.pendingReviewRequests,O[62]=z.resourcePath,O[63]=z.state,O[64]=z.viewerCanAddAndRemoveFromMergeQueue,O[65]=z.viewerCanAddToMergeQueueSolo,O[66]=z.viewerCanAdminBypassMergeRequirements,O[67]=z.viewerCanDeleteHeadRef,O[68]=z.viewerCanDisableAutoMerge,O[69]=z.viewerCanDismissReviews,O[70]=z.viewerCanEnableAutoMerge,O[71]=z.viewerCanReRequestReviews,O[72]=z.viewerCanRestoreHeadRef,O[73]=z.viewerCanUpdate,O[74]=z.viewerCanUpdateBranch,O[75]=z.viewerMergeActions,O[76]=z.viewerUpdateMethods,O[77]=v,O[78]=ee,O[79]=eg,O[80]=Z,O[81]=y,O[82]=X,O[83]=k):k=O[83],O[84]!==M||O[85]!==k?(D=(0,s.jsx)("div",{className:M,children:k}),O[84]=M,O[85]=k,O[86]=D):D=O[86],O[87]!==D||O[88]!==T?(U=(0,s.jsxs)("div",{className:j,children:[T,D]}),O[87]=D,O[88]=T,O[89]=U):U=O[89],U}function nx(e){return"PULL_REQUEST_USER_STATE"===e.type}function nw(e){return e.name===m.tw.DIRECT_MERGE}try{nS.displayName||(nS.displayName="MergeBoxLoading")}catch{}try{nR.displayName||(nR.displayName="MergeBoxWithSuspense")}catch{}try{nC.displayName||(nC.displayName="MergeBoxWrapper")}catch{}try{nv.displayName||(nv.displayName="MergeBox")}catch{}function ny(e){return Object.values(m.q$).includes(e)}},33049:(e,t,r)=>{r.d(t,{Qv:()=>a,TW:()=>l,iG:()=>o,jw:()=>u,lD:()=>i,nw:()=>c,q$:()=>s,tw:()=>n});let n={DIRECT_MERGE:"DIRECT_MERGE",AUTO_MERGE:"AUTO_MERGE",MERGE_QUEUE:"MERGE_QUEUE"},s={MERGE:"MERGE",SQUASH:"SQUASH",REBASE:"REBASE"},i={GROUP:"GROUP",SOLO:"SOLO"},a={Approvals:"approvals",RequestedChanges:"requested changes",PendingReviewRequest:"pending reviews"},o=["PULL_REQUEST_RULES"],l=["PULL_REQUEST_USER_STATE"],c=["PULL_REQUEST_MERGE_CONFLICT_STATE"],u=["PULL_REQUEST_STATE","PULL_REQUEST_MERGE_METHOD","PULL_REQUEST_REPO_STATE","UNKNOWN"]},1739:(e,t,r)=>{r.d(t,{B:()=>n});function n(e,t){let r=e.createElement("template");return r.innerHTML=t,e.importNode(r.content,!0)}},79369:(e,t,r)=>{r.d(t,{e:()=>i});var n=r(3785),s=r(81830);function i(e,t){let{basePageDataUrl:r}=(0,s.Yu)(),i=`${r}/page_data/${e}`;return t&&(i+=`?${t}`),(0,n.RD)(i)}},60826:(e,t,r)=>{r.d(t,{u:()=>n});let n={codeButton:"code_button",codeowners:"codeowners",commits:"commits",diffEntries:"diff_entries",diffstat:"diffstat",header:"header",mergeBox:"merge_box",mergeInstructions:"merge_instructions",pendingReview:"pending_review",statusChecks:"status_checks",tabCounts:"tab_counts",threadPreviews:"thread_previews",viewedFilesCount:"viewed_files_count",viewedFilesCount2:"viewed_files_count2",diffSummaries:"diff_summaries",diffViewUserSettings:"user_diff_view_settings",tableOfContents:"table_of_contents",diffCollapsedStatus:"diff_collapsed_status",diffContextLines:"diff_entry_lines",abandonReview:"abandon_review",addCommentReaction:"add_comment_reaction",changeBase:"change_base",cleanupCodespaces:"cleanup_codespaces",createReviewComment:"create_review_comment",deleteHeadRef:"delete_head_ref",dequeuePullRequest:"dequeue_pull_request",disableAutoMerge:"disable_auto_merge",enableAutoMerge:"enable_auto_merge",dismissReview:"dismiss_review",markReadyForReview:"mark_ready_for_review",merge:"merge",removeCommentReaction:"remove_comment_reaction",reRequestReviewFromUser:"re_request_review_from_user",restoreHeadRef:"restore_head_ref",resolveThread:"resolve_thread",runActionRequiredWorkflows:"run_action_required_workflows",submitReview:"submit_review",unresolveThread:"unresolve_thread",updateReviewComment:"update_review_comment",updatePullRequestBranch:"update_pull_request_branch",updateTitle:"update_title",updateDiffViewUserSettings:"update_diff_view_user_settings",updateViewedFiles:"update_viewed_files",updateMergeBoxUserPreference:"update_merge_box_user_preference",hideComment:"hide_comment",unhideComment:"unhide_comment",submitSuggestedChanges:"apply_suggestions"}},61681:(e,t,r)=>{r.d(t,{R:()=>i,hp:()=>s,ol:()=>AuthSessionExpiredError,q$:()=>a});var n=r(60039);let FetchRequestError=class FetchRequestError extends Error{constructor(e){super("Unable to perform this operation. Please try again later."),this.name="FetchRequestError",this.cause=e}};let ServerUnavailableError=class ServerUnavailableError extends Error{constructor(e){super("Unable to perform this operation. Please try again later."),this.name="ServerUnavailableError",this.cause=e}};let JSONParseFetchError=class JSONParseFetchError extends Error{constructor(e){super("Unable to read response from the server. Please try again later."),this.name="JSONParseFetchError",this.cause=e}};let AuthSessionExpiredError=class AuthSessionExpiredError extends Error{constructor(){super("Unable to perform this operation. Please try again later."),this.name="AuthSessionExpiredError"}};async function s(e){try{return await e.json()}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;throw new JSONParseFetchError(e)}}function i(e,t,r){if(!e.ok){if(e.status>=500)throw new ServerUnavailableError(e.status);if(r)throw r;if(t)throw Error(t?.error||"Unknown error occurred",{cause:e.status});throw Error(`HTTP ${e.status}`)}}async function a(e,t){try{return await (0,n.Sr)(e,t)}catch(e){throw new FetchRequestError(e)}}},75367:(e,t,r)=>{r.d(t,{S:()=>l,s:()=>o});var n=r(21728),s=r(96540),i=r(38007),a=r(78924);function o(){let e,t,r=(0,n.c)(6),o=(0,s.useContext)(a.I);if(!o)throw Error("useAnalytics must be used within an AnalyticsContext");let{appName:l,category:c,metadata:u}=o;r[0]!==l||r[1]!==c||r[2]!==u?(e=(e,t,r)=>{let n={react:!0,app_name:l,category:c,...u};(0,i.BI)(e,{...n,...void 0===r?{}:r,target:t})},r[0]=l,r[1]=c,r[2]=u,r[3]=e):e=r[3];let d=e;return r[4]!==d?(t={sendAnalyticsEvent:d},r[4]=d,r[5]=t):t=r[5],t}function l(){let e,t,r=(0,n.c)(4),{sendAnalyticsEvent:s}=o();r[0]!==s?(e=e=>{s("analytics.click",void 0,void 0===e?{}:e)},r[0]=s,r[1]=e):e=r[1];let i=e;return r[2]!==i?(t={sendClickAnalyticsEvent:i},r[2]=i,r[3]=t):t=r[3],t}},36613:(e,t,r)=>{r.d(t,{Q:()=>g});var n=r(74848),s=r(71110),i=r(34901),a=r(47397),o=r(96540),l=r(60039),c=r(52450),u=r(52311),d=r(50609),m=r(27851);let h=["Find and fix bugs or anti-patterns","Improve performance of data loading","Find and refactor duplicated code","Generate or update developer documentation","Find 5 TODOs in the codebase and fix them","Detect unused code or dead files in the codebase","Identify and suggest improvements to slow or inefficient code","Suggest more descriptive variable and function names","Add missing error handling and input validation","Convert inline styles to CSS classes or styled components","Add a light/dark mode switcher","Add client-side form validation for email inputs","Add keyboard shortcuts for common actions","Add auto-save functionality to forms","Create a print-friendly view for reports","Add confirmation dialogs for destructive actions","Implement undo/redo functionality for text editors","Add drag and drop upload and progress meters to file inputs","Implement read/unread status for notifications","Add column sorting to data tables"];async function p(e=""){let t=await (0,l.lS)(`/_filter/repositories?q=${encodeURIComponent(e)}`);return t.ok?(await t.json()).repositories.map(e=>({nameWithOwner:e.nameWithOwner,enabled:!0,id:e.id,name:e.nameWithOwner,nameOnly:e.name,owner:e.owner,defaultBranch:e.defaultBranch,private:"public"!==e.visibility})):[]}function g({handleUserSubmit:e}){let t=(0,a.b)(),{currentReferences:r}=(0,i.Pk)(),[l,g]=(0,o.useState)(null),[f,E]=(0,o.useState)(!0),[_]=(0,o.useState)(()=>h[Math.floor(Math.random()*h.length)]),S=(0,m.G7)("copilot_immersive_agent_branch_selection"),[R,C]=(0,o.useState)("");(0,o.useEffect)(()=>{let e=r.find(e=>"repository"===e.type);e?(g({id:e.id,owner:e.ownerLogin,name:`${e.ownerLogin}/${e.name}`,nameOnly:e.name,nameWithOwner:`${e.ownerLogin}/${e.name}`,enabled:!0,defaultBranch:e.defaultBranch,private:"public"!==e.visibility}),t.clearCurrentReferences(),E(!1)):(async()=>{let e=await p();e.length>0&&e[0]&&g(e[0]),E(!1)})()},[]),(0,o.useEffect)(()=>{l&&C(l.defaultBranch)},[l]);let v=(0,o.useCallback)(async t=>e(t,l,R),[e,l,R]);return(0,n.jsx)(s.V,{hideAttachmentButton:!0,placeholder:_,size:"large",onSubmit:v,submitButtonLabel:"Start task",hideShadow:!0,extraToolbarLeft:(0,n.jsxs)(n.Fragment,{children:[f?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(c.f,{height:"32px",width:"130px"})}):(0,n.jsx)(u.P,{repositoryLoader:p,selectionVariant:"single",selectAllOption:!1,onSelect:e=>{e&&g(e)},currentSelection:l||void 0,buttonText:l?.nameWithOwner||"Select repository",width:"medium"}),S&&(l?(0,n.jsx)(d.PI,{cacheKey:"agent-sessions-ref-selector",canCreate:!1,currentCommitish:R,defaultBranch:l.defaultBranch,owner:l.owner,repo:l.nameOnly,types:["branch"],selectedRefType:"branch",closeOnSelect:!0,hideShowAll:!0,onSelectItem:e=>{C(e)}}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(c.f,{height:"32px",width:"100px"})}))]}),submitDisabled:!l||!R})}try{g.displayName||(g.displayName="NewTaskChatInput")}catch{}},90514:(e,t,r)=>{r.d(t,{Eo:()=>f,ZL:()=>g,TO:()=>p});var n=r(74848),s=r(21728),i=r(38146),a=r(89169),o=r(38621);let l={description:"TaskListItem-module__description--gJSdy",iconTransition:"TaskListItem-module__iconTransition--EiBkb",fadeOut:"TaskListItem-module__fadeOut--jaWrD",fadeText:"TaskListItem-module__fadeText--YCSjN",entering:"TaskListItem-module__entering--YSjia",exiting:"TaskListItem-module__exiting--anbng"};var c=r(96540),u=r(1574),d=r(82164),m=r(44446);let h=e=>{let t,r,i,a=(0,s.c)(7),{text:o}=e,[u,d]=(0,c.useState)(null),[m,h]=(0,c.useState)("none");a[0]!==u||a[1]!==o?(t=()=>{if(null===u)return void d(o);if(o!==u){h("exiting");let e=setTimeout(()=>{d(o),h("entering")},400);return()=>clearTimeout(e)}},r=[o,u],a[0]=u,a[1]=o,a[2]=t,a[3]=r):(t=a[2],r=a[3]),(0,c.useEffect)(t,r);let p=`${l.fadeText} ${"entering"===m?l.entering:"exiting"===m?l.exiting:null}`;return a[4]!==u||a[5]!==p?(i=(0,n.jsx)("span",{className:p,children:u}),a[4]=u,a[5]=p,a[6]=i):i=a[6],i};function p(e,t){if(e.inMergeQueue)return{icon:o.GitMergeQueueIcon,color:"var(--fgColor-attention)","data-testid":"icon-git-merge-queue"};if("open"===e.state){if("waiting_for_user"===t||"completed"===t)return{icon:o.CheckCircleFillIcon,color:"var(--fgColor-success)","data-testid":"icon-check-circle-fill"};if("failed"===t||"timed_out"===t)return{icon:o.StopIcon,color:"var(--fgColor-danger)","data-testid":"icon-stop"};if("in_progress"===t)return{icon:()=>(0,n.jsx)(i.gX,{animated:!0}),color:"attention.fg","data-testid":"icon-spinning-circle"};if("idle"===t)return{icon:o.DotFillIcon,color:"var(--fgColor-muted)","data-testid":"icon-dot"};if("cancelled"===t)return{icon:o.SkipIcon,color:"var(--fgColor-muted)","data-testid":"icon-skip"}}return"merged"===e.state?{icon:o.GitMergeIcon,color:"var(--fgColor-done)","data-testid":"icon-git-merge"}:"closed"===e.state?{icon:o.GitPullRequestClosedIcon,color:"var(--fgColor-danger)","data-testid":"icon-skip"}:{icon:o.DotFillIcon,color:"var(--fgColor-muted)","data-testid":"icon-idle"}}function g(e){let t,r,i,o,g,f,E,_,S,R,C,v=(0,s.c)(30),{pullRequest:x,state:w,revisionCount:y,lastSessionStartDate:b}=e,[N,A]=(0,c.useState)(null),[I,j]=(0,c.useState)(!1);v[0]!==x.state||v[1]!==w?(r="merged"===x.state?"Merged":"closed"===x.state?"Closed":w&&(0,u.w)(w)||"",v[0]=x.state,v[1]=w,v[2]=r):r=v[2],t=r,v[3]!==x||v[4]!==w?(i=p(x,w),v[3]=x,v[4]=w,v[5]=i):i=v[5];let T=i;v[6]!==N||v[7]!==T?(o=()=>{if(!N)return void A(T);if(N.icon!==T.icon){j(!0);let e=setTimeout(()=>{A(T),j(!1)},300);return()=>clearTimeout(e)}},g=[T,N],v[6]=N,v[7]=T,v[8]=o,v[9]=g):(o=v[8],g=v[9]),(0,c.useEffect)(o,g);let M=y>0?`${y} revision${y>1?"s":""} \xb7 `:null,k=`${l.iconTransition} ${I?l.fadeOut:""}`;return v[10]!==T||v[11]!==k?(f=(0,n.jsx)(d.qJ.Item.LeadingVisual,{children:(0,n.jsx)(m.I,{...T,className:k})}),v[10]=T,v[11]=k,v[12]=f):f=v[12],v[13]!==x.title?(E=(0,n.jsx)(d.qJ.Item.Title,{children:x.title}),v[13]=x.title,v[14]=E):E=v[14],v[15]!==b?(_=(0,n.jsx)(a.A,{format:"micro",datetime:b}),v[15]=b,v[16]=_):_=v[16],v[17]!==t?(S=(0,n.jsx)(h,{text:t}),v[17]=t,v[18]=S):S=v[18],v[19]!==x.number||v[20]!==x.repository_nwo||v[21]!==M||v[22]!==S||v[23]!==_?(R=(0,n.jsx)(d.qJ.Item.Description,{children:(0,n.jsxs)("span",{className:l.description,children:[x.repository_nwo,"#",x.number," \xb7 started"," ",_," ago \xb7 ",M,S]})}),v[19]=x.number,v[20]=x.repository_nwo,v[21]=M,v[22]=S,v[23]=_,v[24]=R):R=v[24],v[25]!==x.url||v[26]!==R||v[27]!==f||v[28]!==E?(C=(0,n.jsxs)(d.qJ.Item,{href:x.url,isExternalLink:!0,children:[f,E,R]}),v[25]=x.url,v[26]=R,v[27]=f,v[28]=E,v[29]=C):C=v[29],C}function f(e){let t,r,i,a,c=(0,s.c)(8),{title:u,repositoryNwo:h}=e;return c[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(d.qJ.Item.LeadingVisual,{children:(0,n.jsx)(m.I,{icon:o.DotFillIcon,color:"var(--fgColor-attention)"})}),c[0]=t):t=c[0],c[1]!==u?(r=(0,n.jsx)(d.qJ.Item.Title,{children:u}),c[1]=u,c[2]=r):r=c[2],c[3]!==h?(i=(0,n.jsxs)(d.qJ.Item.Description,{children:[(0,n.jsx)("span",{className:l.description,children:h})," \xb7 Initializing pull request\u2026"]}),c[3]=h,c[4]=i):i=c[4],c[5]!==r||c[6]!==i?(a=(0,n.jsxs)(d.qJ.Item,{children:[t,r,i]}),c[5]=r,c[6]=i,c[7]=a):a=c[7],a}try{h.displayName||(h.displayName="FadeText")}catch{}try{g.displayName||(g.displayName="TaskListItem")}catch{}try{f.displayName||(f.displayName="PendingTaskListItem")}catch{}},1948:(e,t,r)=>{r.d(t,{Fn:()=>l,eS:()=>o});var n=r(74848),s=r(21728),i=r(96540);let a=(0,i.createContext)(void 0);function o(){let e=(0,i.useContext)(a);if(!e)throw Error("useConsecutiveCAPI401sContext must be used within a ConsecutiveCAPI401sProvider");return e}function l(e){let t,r,o,l,u,d=(0,s.c)(7),{children:m}=e,[h,p]=(0,i.useState)(0);return d[0]===Symbol.for("react.memo_cache_sentinel")?(r=()=>p(c),o=()=>p(0),d[0]=r,d[1]=o):(r=d[0],o=d[1]),d[2]!==h?(l={numberOf401s:h,increment401s:r,reset401s:o},d[2]=h,d[3]=l):l=d[3],t=l,d[4]!==m||d[5]!==t?(u=(0,n.jsx)(a.Provider,{value:t,children:m}),d[4]=m,d[5]=t,d[6]=u):u=d[6],u}function c(e){return e+1}try{a.displayName||(a.displayName="ConsecutiveCAPI401sContext")}catch{}try{l.displayName||(l.displayName="ConsecutiveCAPI401sProvider")}catch{}},91768:(e,t,r)=>{r.d(t,{b:()=>l});var n=r(97286),s=r(45260),i=r(1948),a=r(54187),o=r(96540);function l(...e){let t=(0,n.I)(...e),{numberOf401s:r,increment401s:c,reset401s:u}=(0,i.eS)(),{isError:d,isLoading:m,error:h}=t;return(0,o.useEffect)(()=>{d&&h instanceof s.j?c():d||m?r>5&&(new a.l().removeLocalStorageAuthToken(),u()):u()},[d,m,h,c,u,r]),t}},58207:(e,t,r)=>{r.d(t,{s:()=>h});var n=r(21728),s=r(97665),i=r(94747),a=r(61186),o=r(91768),l=r(60039),c=r(45260),u=r(96540),d=r(97286),m=r(27851);function h(e){let t,r,c,h,_,S,R,C,v,x,w,y,b,N,A,I,j,T,M,k=(0,n.c)(46);k[0]!==e?(t=void 0===e?{}:e,k[0]=e,k[1]=t):t=k[1];let{sessionsPollingInterval:D,onCreateError:U,initialTasks:O,initialPullRequestsMap:L}=t,P=void 0===D?3e3:D;k[2]!==U?(r=void 0===U?{}:U,k[2]=U,k[3]=r):r=k[3];let q=r;k[4]===Symbol.for("react.memo_cache_sentinel")?(c=(0,m.G7)("copilot_immersive_agent_branch_selection"),k[4]=c):c=k[4];let B=c;k[5]===Symbol.for("react.memo_cache_sentinel")?(h=[],k[5]=h):h=k[5];let[F,G]=(0,u.useState)(h),Q=(0,s.jE)();k[6]===Symbol.for("react.memo_cache_sentinel")?(_=["createSession"],S=async e=>{let{nwo:t,problemStatement:r,baseRef:n}=e,s=await (0,l.lS)(`/${t}/agent-sessions`,{method:"POST",body:{problem_statement:r,...B&&{base_ref:n}}}),i=(await s.json()).hydrated_task;return{...i,pull:{...i.pull,id:i.pull.id,reviewable_state:i.pull.draft?"draft":"ready",url:i.pull.url,labels:i.pull.labels||[],comments:i.pull.comments||0,assignees_avatar_urls:(i.pull.assignees||[]).map(E),created_at:i.pull.created_at,updated_at:i.pull.updated_at,merged_at:i.pull.merged_at,closed_at:i.pull.closed_at,author:i.pull.user?.login,head_sha:i.pull.head.sha,repository_nwo:i.pull.base.repo.full_name}}},k[6]=_,k[7]=S):(_=k[6],S=k[7]),k[8]!==Q?(R=e=>{G(t=>[e,...t]),Q.invalidateQueries({queryKey:["agent-tasks"]})},k[8]=Q,k[9]=R):R=k[9],k[10]!==q?(C=(e,t)=>{q?.onError?.(e,t)},k[10]=q,k[11]=C):C=k[11],k[12]!==C||k[13]!==R?(v={mutationKey:_,mutationFn:S,onSuccess:R,onError:C},k[12]=C,k[13]=R,k[14]=v):v=k[14];let $=(0,i.n)(v);k[15]===Symbol.for("react.memo_cache_sentinel")?(x=["agent-tasks"],k[15]=x):x=k[15];let W=!$.isPending;k[16]!==O||k[17]!==P||k[18]!==W?(w={queryKey:x,queryFn:f,initialData:O,refetchInterval:P,refetchIntervalInBackground:!1,enabled:W},k[16]=O,k[17]=P,k[18]=W,k[19]=w):w=k[19];let V=(0,o.b)(w);k[20]!==V.data?(y=V.data||[],k[20]=V.data,k[21]=y):y=k[21],k[22]!==L||k[23]!==P||k[24]!==y?(b={tasks:y,sessionsPollingInterval:P,initialPullRequestsMap:L},k[22]=L,k[23]=P,k[24]=y,k[25]=b):b=k[25];let{data:H,isLoading:K,isError:z}=function(e){let t,r,s,i,a,o=(0,n.c)(13),{tasks:l,sessionsPollingInterval:c,initialPullRequestsMap:u}=e,m=void 0===c?3e3:c;o[0]!==u?(t=void 0===u?{}:u,o[0]=u,o[1]=t):t=o[1];let h=t;if(o[2]!==l)r=Array.from(new Set(l?l.map(e=>e.resource_id):[])).sort((e,t)=>Number(e)-Number(t)).join(","),o[2]=l,o[3]=r;else r=o[3];let p=r;o[4]!==p?(s=["agent-sessions-pull-requests",p],i=async()=>{let e=await fetch(`/copilot/agent-sessions/pull-requests?pull_request_ids=${encodeURIComponent(p)}`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!e.ok)throw Error("Failed to fetch pull requests");return(await e.json()).pull_requests},o[4]=p,o[5]=s,o[6]=i):(s=o[5],i=o[6]);let g=p.length>0;return o[7]!==h||o[8]!==m||o[9]!==s||o[10]!==i||o[11]!==g?(a={queryKey:s,queryFn:i,initialData:h,refetchInterval:m,refetchIntervalInBackground:!1,enabled:g},o[7]=h,o[8]=m,o[9]=s,o[10]=i,o[11]=g,o[12]=a):a=o[12],(0,d.I)(a)}(b);if(k[26]!==H||k[27]!==F||k[28]!==V.data){let e,t=V.data&&H?function(e,t){let r=[];if(e&&t)for(let n of e){let e=t[n.resource_id];e&&r.push({pull:e,...n})}return r}(V.data,H):[],r=new Set(t.map(g));k[30]!==r?(e=e=>!r.has(e.resource_id),k[30]=r,k[31]=e):e=k[31],A=[...F.filter(e),...t],k[26]=H,k[27]=F,k[28]=V.data,k[29]=A}else A=k[29];N=A,k[32]!==$?(I=e=>{$.mutate({...e})},k[32]=$,k[33]=I):I=k[33];let X=I;k[34]!==H||k[35]!==K||k[36]!==V.data||k[37]!==V.isLoading?(j=V.isLoading||K||V.data&&V.data.length>0&&(!H||0===Object.keys(H).length)||!1,k[34]=H,k[35]=K,k[36]=V.data,k[37]=V.isLoading,k[38]=j):j=k[38];let Y=j,J=V.isError||z;k[39]===Symbol.for("react.memo_cache_sentinel")?(T={filters:{mutationKey:["createSession"],status:"pending"},select:p},k[39]=T):T=k[39];let Z=(0,a.S)(T);return k[40]!==X||k[41]!==N||k[42]!==J||k[43]!==Y||k[44]!==Z?(M={tasks:N,pendingTasks:Z,isLoading:Y,isError:J,createSession:X},k[40]=X,k[41]=N,k[42]=J,k[43]=Y,k[44]=Z,k[45]=M):M=k[45],M}function p(e){return{...e.state.variables,submittedAt:e.state.submittedAt}}function g(e){return e.resource_id}async function f(){let e=await (0,c.I)({path:"/agents/sessions"});var t=(await e.json()).sessions;let r=new Map;for(let e of t){let t=r.get(e.resource_id.toString());t?(t.session_count+=1,new Date(e.last_updated_at)>new Date(t.latest_session_updated_at)&&(t.latest_session_updated_at=e.last_updated_at,t.latest_session_state=e.state)):r.set(e.resource_id.toString(),{resource_type:e.resource_type,resource_id:e.resource_id,session_count:1,latest_session_updated_at:e.last_updated_at,latest_session_state:e.state})}return Array.from(r.values()).sort((e,t)=>new Date(t.latest_session_updated_at).getTime()-new Date(e.latest_session_updated_at).getTime())}function E(e){return e.avatar_url}},71678:(e,t,r)=>{r.d(t,{r:()=>d});var n=r(74848),s=r(38621),i=r(6869),a=r(34614),o=r(53110),l=r(30422);let c={Flash:"FlashError-module__Flash--K1Pqg",SafeHTMLText:"FlashError-module__SafeHTMLText--SdUAj",Link:"FlashError-module__Link--Wl_Ij",ruleViolationsTitle:"FlashError-module__ruleViolationsTitle--jE3vv",ruleViolationRow:"FlashError-module__ruleViolationRow--WhUAP",Octicon:"FlashError-module__Octicon--t8KGC",ruleViolationText:"FlashError-module__ruleViolationText--iO4rA"};var u=r(34164);function d({prefix:e,errorMessageUsingPrefix:t,errorMessageNotUsingPrefix:r,hideRuleErrorsTitle:d,ruleErrors:m,helpUrl:h,flashRef:p}){let g=(m?.length||0)>0;return t||r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.A,{id:"flash",variant:"danger",className:(0,u.$)("d-flex flex-items-center flex-justify-between",c.Flash),tabIndex:-1,ref:p,children:t?(0,n.jsxs)("div",{children:[e," ",(0,n.jsx)(l.BC,{className:c.SafeHTMLText,html:t}),g&&h&&(0,n.jsx)(a.A,{href:`${h}/repositories/configuring-branches-and-merges-in-your-repository/managing-rulesets/about-rulesets`,className:c.Link,children:"Learn more about rulesets."})]}):r&&(0,n.jsx)("div",{children:r})}),g&&(0,n.jsxs)("div",{className:c.Flash,children:[!d&&(0,n.jsx)("div",{className:c.ruleViolationsTitle,children:"Repository rule violations found:"}),m?.map(e=>(0,n.jsxs)("div",{className:c.ruleViolationRow,children:[(0,n.jsx)(o.A,{icon:s.XCircleFillIcon,size:16,className:c.Octicon}),(0,n.jsx)("div",{className:c.ruleViolationText,children:e})]},e))]})]}):null}try{d.displayName||(d.displayName="FlashError")}catch{}},33036:(e,t,r)=>{r.d(t,{F:()=>l,t:()=>c});var n=r(74848),s=r(31971),i=r(38007),a=r(15385),o=r(88245);function l({eventName:e,menuLocation:t,mode:r,action:n,text:s}){let a=`${t.toUpperCase()}_${e.toUpperCase()}`;(0,i.BI)("dotcom_chat.activate",{target:a,text:s,category:t,action:n,mode:r})}function c({menuLocation:e,mode:t,onItemClick:r}){return Object.entries(o.A).map(([i,{name:o,url:c,icon:u}])=>(0,n.jsxs)(a.l.LinkItem,{href:c,onClick:()=>{r?.(),s.W.freeToPaidTelemetry&&l({eventName:i,menuLocation:e,mode:t,action:"menu_item_click",text:o})},children:[o,(0,n.jsx)(a.l.LeadingVisual,{children:(0,n.jsx)("img",{src:u,alt:"",height:"20",width:"20"})})]},i))}try{c.displayName||(c.displayName="EditorMenuItems")}catch{}},82164:(e,t,r)=>{r.d(t,{qJ:()=>C});var n=r(74848),s=r(21728),i=r(96540),a=r(85788),o=r(81007);let l={container:"ListBlock-module__container--t6lZT",header:"ListBlock-module__header--cktLR",list:"ListBlock-module__list--M_DPK",emptyState:"ListBlock-module__emptyState--yCd0j",item:"ListBlock-module__item--fVO0U",itemButton:"ListBlock-module__itemButton--_Ffey",actions:"ListBlock-module__actions--ilUGC",leadingVisual:"ListBlock-module__leadingVisual--nEhNl",title:"ListBlock-module__title--yySaW",description:"ListBlock-module__description--JrsXq",metadata:"ListBlock-module__metadata--Il2ZC",skeletonItem:"ListBlock-module__skeletonItem--OiY1w"};function c(e){let t,r=(0,s.c)(2),{children:i}=e;return r[0]!==i?(t=(0,n.jsx)("div",{className:l.container,children:i}),r[0]=i,r[1]=t):t=r[1],t}function u(e){let t,r=(0,s.c)(2),{children:i}=e;return r[0]!==i?(t=(0,n.jsx)("div",{className:l.header,children:i}),r[0]=i,r[1]=t):t=r[1],t}function d(e){let t,r,i,a,o=(0,s.c)(11);if(o[0]!==e?({children:t,loading:i,...r}=e,o[0]=e,o[1]=t,o[2]=r,o[3]=i):(t=o[1],r=o[2],i=o[3]),void 0!==i&&i){let e,t;return o[4]===Symbol.for("react.memo_cache_sentinel")?(e=[void 0,void 0,void 0,void 0,void 0].map(m),o[4]=e):e=o[4],o[5]!==r||o[6]!==e?(t=(0,n.jsx)("ul",{className:l.list,"data-testid":"list-block-skeleton",...r,children:e}),o[5]=r,o[6]=e,o[7]=t):t=o[7],t}return o[8]!==t||o[9]!==r?(a=(0,n.jsx)("ul",{className:l.list,...r,children:t}),o[8]=t,o[9]=r,o[10]=a):a=o[10],a}function m(e,t){return(0,n.jsx)(g,{},t)}function h(e){let t,r,o,c,u,d=(0,s.c)(39),m=null,h=null,g=null,R=null,C=null;if(d[0]!==e.children){for(let t of i.Children.toArray(e.children))i.isValidElement(t)&&(t.type===f?m=t:t.type===E?h=t:t.type===_?g=t:t.type===S?R=t:t.type===p&&(C=t));d[0]=e.children,d[1]=m,d[2]=h,d[3]=g,d[4]=R,d[5]=C}else m=d[1],h=d[2],g=d[3],R=d[4],C=d[5];d[6]!==g||d[7]!==m||d[8]!==R||d[9]!==h?(t=(0,n.jsxs)(n.Fragment,{children:[m,h,g,R]}),d[6]=g,d[7]=m,d[8]=R,d[9]=h,d[10]=t):t=d[10];let v=t;if("href"in e){let t,r,s,i,o;if(d[11]!==e?({href:t,isExternalLink:s,...r}=e,d[11]=e,d[12]=t,d[13]=r,d[14]=s):(t=d[12],r=d[13],s=d[14]),void 0!==s&&s){let e,s;return d[15]!==v||d[16]!==t||d[17]!==r?(e=(0,n.jsx)("a",{href:t,className:l.itemButton,target:"_self",rel:"noopener noreferrer",...r,children:v}),d[15]=v,d[16]=t,d[17]=r,d[18]=e):e=d[18],d[19]!==C||d[20]!==e?(s=(0,n.jsxs)("li",{className:l.item,children:[e,C]}),d[19]=C,d[20]=e,d[21]=s):s=d[21],s}return d[22]!==v||d[23]!==t||d[24]!==r?(i=(0,n.jsx)(a.N_,{...r,to:t,className:l.itemButton,children:v}),d[22]=v,d[23]=t,d[24]=r,d[25]=i):i=d[25],d[26]!==C||d[27]!==i?(o=(0,n.jsxs)("li",{className:l.item,children:[i,C]}),d[26]=C,d[27]=i,d[28]=o):o=d[28],o}return d[29]!==e?({onClick:r,...o}=e,d[29]=e,d[30]=r,d[31]=o):(r=d[30],o=d[31]),d[32]!==v||d[33]!==r||d[34]!==o?(c=(0,n.jsx)("button",{...o,className:l.itemButton,onClick:r,type:"button",children:v}),d[32]=v,d[33]=r,d[34]=o,d[35]=c):c=d[35],d[36]!==C||d[37]!==c?(u=(0,n.jsxs)("li",{className:l.item,children:[c,C]}),d[36]=C,d[37]=c,d[38]=u):u=d[38],u}function p(e){let t,r=(0,s.c)(2),{children:i}=e;return r[0]!==i?(t=(0,n.jsx)("div",{className:l.actions,children:i}),r[0]=i,r[1]=t):t=r[1],t}function g(){let e,t=(0,s.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("li",{className:l.item,children:(0,n.jsx)("div",{className:l.skeletonItem,children:(0,n.jsx)(o.r,{lines:2})})}),t[0]=e):e=t[0],e}function f(e){let t,r=(0,s.c)(2),{children:i}=e;return r[0]!==i?(t=(0,n.jsx)("div",{className:l.leadingVisual,children:i}),r[0]=i,r[1]=t):t=r[1],t}function E(e){let t,r=(0,s.c)(2),{children:i}=e;return r[0]!==i?(t=(0,n.jsx)("div",{className:l.title,children:i}),r[0]=i,r[1]=t):t=r[1],t}function _(e){let t,r=(0,s.c)(2),{children:i}=e;return r[0]!==i?(t=(0,n.jsx)("div",{className:l.description,children:i}),r[0]=i,r[1]=t):t=r[1],t}function S(e){let t,r=(0,s.c)(2),{children:i}=e;return r[0]!==i?(t=(0,n.jsx)("div",{className:l.metadata,children:i}),r[0]=i,r[1]=t):t=r[1],t}function R(e){let t,r=(0,s.c)(2),{children:i}=e;return r[0]!==i?(t=(0,n.jsx)("li",{className:l.emptyState,children:i}),r[0]=i,r[1]=t):t=r[1],t}h.LeadingVisual=f,h.Title=E,h.Description=_,h.SecondaryDescription=S,h.Metadata=S,h.Actions=p,h.Skeleton=g;let C=c;C.Header=u,C.List=d,C.Item=h,C.EmptyState=R,C.displayName="ListBlock",u.displayName="ListBlock.Header",d.displayName="ListBlock.List",h.displayName="ListBlock.Item",f.displayName="ListBlock.Item.LeadingVisual",E.displayName="ListBlock.Item.Title",_.displayName="ListBlock.Item.Description",S.displayName="ListBlock.Item.Metadata",p.displayName="ListBlock.Item.Actions",g.displayName="ListBlock.Item.Skeleton",R.displayName="ListBlock.EmptyState";try{c.displayName||(c.displayName="ListBlock")}catch{}},81830:(e,t,r)=>{r.d(t,{Kg:()=>o,Yu:()=>l});var n=r(74848),s=r(21728),i=r(96540);let a=(0,i.createContext)(null);function o(e){let t,r,i,o=(0,s.c)(5),{children:l,basePageDataUrl:c}=e;return o[0]!==c?(r={basePageDataUrl:c},o[0]=c,o[1]=r):r=o[1],t=r,o[2]!==l||o[3]!==t?(i=(0,n.jsx)(a.Provider,{value:t,children:l}),o[2]=l,o[3]=t,o[4]=i):i=o[4],i}function l(){let e=(0,i.useContext)(a);if(!e)throw Error("usePageDataContext must be used within a PageDataContextProvider");return e}try{a.displayName||(a.displayName="PageDataContext")}catch{}try{o.displayName||(o.displayName="PageDataContextProvider")}catch{}},52311:(e,t,r)=>{r.d(t,{P:()=>u});var n=r(74848),s=r(96540),i=r(38621),a=r(58569),o=r(55847),l=r(70170),c=r(52550);function u({currentSelection:e,repositoryLoader:t,onSelect:r,selectionVariant:u,selectAllOption:d,additionalButtonProps:m,buttonText:h="",width:p}){let[g,f]=(0,s.useState)(""),[E,_]=(0,s.useState)([]),[S,R]=(0,s.useState)(!0),C=(0,s.useCallback)((0,l.s)(async e=>{try{let r=await t(e);_(r)}catch{}R(!1)},200),[t,_,R]);(0,s.useEffect)(()=>{R(!0),C(g)},[g,C,R]);let v=(0,s.useCallback)(e=>{"single"===u?!e[0]||e[0]._all?r(void 0):r(e[0]):r(e)},[u,r]),x=(0,s.useMemo)(()=>"multiple"===u?e||[]:e?[e]:[],[u,e]),w=(0,s.useCallback)(e=>{let t,r="medium"===p?35:24;return(e.name.length>r&&(t=`${e.name.substring(0,r)}...`),e._all)?{id:e.name,text:"All repositories",source:e,groupId:"all"}:{id:e.name,text:t||e.name,source:e,appendOnly:!1,groupId:"select",disabled:!1===e.enabled,leadingVisual:()=>e.private?(0,n.jsx)(i.RepoLockedIcon,{size:16}):(0,n.jsx)(i.RepoIcon,{size:16})}},[p]),y=(0,s.useCallback)(e=>e.name,[]),b=(0,s.useMemo)(()=>{let e=[];e.push(...E);let t=x.filter(t=>e.every(e=>e.name!==t.name))||[];return e.push(...t),d&&e.push({name:"$all$",_all:!0}),e},[E,d,x]),N=h,A=i.RepoIcon;return N||("multiple"===u?N=x.length>0?`${x.length} repositor${x.length>1?"ies":"y"}`:"Select repositories":x.length>0&&x[0]?(N=x[0].name,A=x[0].private?i.RepoLockedIcon:i.RepoIcon):N=d?"All repositories":"Select a repository"),(0,n.jsx)(c.O,{renderAnchor:({"aria-labelledby":e,...t})=>(0,n.jsx)(o.Q,{leadingVisual:A,trailingAction:i.TriangleDownIcon,"aria-labelledby":` ${e}`,...t,...m,children:(0,n.jsx)(a.A,{title:N,maxWidth:195,children:N})}),placeholderText:"Search",items:b,loading:S,groups:d?[{groupId:"all"},{groupId:"select"}]:[],selectionVariant:u,initialSelectedItems:x,onSelectionChange:v,filterItems:f,getItemKey:y,convertToItemProps:w,title:"Select a repository",width:p})}try{u.displayName||(u.displayName="ReposSelector")}catch{}},30422:(e,t,r)=>{r.d(t,{BC:()=>c,JU:()=>d,Pk:()=>l});var n=r(74848),s=r(75177),i=r(52464),a=r(99418),o=r(96540);let l=m(s.A),c=m(i.A),u=(0,o.forwardRef)((e,t)=>(0,n.jsx)("div",{ref:t,...e}));u.displayName="Div";let d=m(u);function m(e){let t=(0,o.forwardRef)((t,r)=>{let{sanitizedHTML:s,props:i}=function(e){let{html:t,domPurifyConfig:r,...n}=e,s={...r,RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1};return{sanitizedHTML:a.default.sanitize(t,s),props:n}}(t);return(0,n.jsx)(e,{ref:r,...i,dangerouslySetInnerHTML:{__html:s}})});return t.displayName=`UnsafeHTML${e.displayName||e.name}`,t}try{d.displayName||(d.displayName="UnsafeHTMLDiv")}catch{}}}]);
//# sourceMappingURL=ui_packages_agent-sessions_components_NewTaskChatInput_tsx-ui_packages_agent-sessions_compone-20689f-cd12b4ccdeda.js.map