"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_code-view-shared_hooks_use-repos-analytics_ts-ui_packages_code-view-shared_hooks_-52b721","ui_packages_failbot_failbot_ts"],{7799:(e,t,n)=>{let r;function a(){if(!r)throw Error("Client env was requested before it was loaded. This likely means you are attempting to use client env at the module level in SSR, which is not supported. Please move your client env usage into a function.");return r}function o(){return r?.locale??"en-US"}function i(){return!!a().login}n.d(t,{JK:()=>o,M3:()=>i,_$:()=>a});!function(){if("undefined"!=typeof document){let e=document.getElementById("client-env");if(e)try{r=JSON.parse(e.textContent||"")}catch(e){console.error("Error parsing client-env",e)}}}()},98637:(e,t,n)=>{n.d(t,{T:()=>c});var r=n(88795),a=n(96235),o=n(60183),i=n(75367),l=n(60039),u=n(96540),s=n(93955);function c(){let{sendAnalyticsEvent:e}=(0,i.s)(),t=function(){let e=function(){let e=(0,r.t)(),t=(0,s.i)();return(0,u.useMemo)(()=>({react_app:"code-view",repository_id:e.id,repository_nwo:`${e.ownerLogin}/${e.name}`,repository_public:e.public,repository_is_fork:e.isFork,actor_id:t?.id,actor_login:t?.login}),[e,t])}(),t=(0,r.t)(),n=(0,a.yH8)(a.tTz,{owner:t.ownerLogin,repo:t.name});return(0,u.useCallback)((t,r,a)=>{let o={target:t,interaction:r,context:a,...e,...{url:window.location.href,user_agent:window.navigator.userAgent,browser_width:window.innerWidth,browser_languages:window.navigator.languages.join(",")}};(0,l.lS)(n,{method:"POST",body:o})},[e,n])}(),n=(0,o.u)("code_nav_ui_events");return{sendRepoClickEvent:(0,u.useCallback)((r,a={})=>{e("repository.click",r,a),n&&t(r,"click",a)},[e,t,n]),sendRepoKeyDownEvent:(0,u.useCallback)((r,a={})=>{e("repository.keydown",r,a),n&&t(r,"keydown",a)},[e,t,n]),sendStats:(0,u.useCallback)((r,a={})=>{e(r,"",a),n&&t(r,"stats",a)},[e,t,n]),sendMarketplaceActionEvent:(0,u.useCallback)((t,n={})=>{e("marketplace.action.click",t,n)},[e])}}},21113:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(141),a=n(88795),o=n(96235),i=n(80663),l=n(96540);function u(){let e=(0,a.t)(),{path:t,action:n,refInfo:u}=(0,r.eu)(),[s]=(0,i.I)(()=>!1,!0,[]);function c(e){return e?`?${e}`:""}function d(e){return s?"":void 0===e?window.location.hash:e?`#${e}`:""}return{getItemUrl:l.useCallback(t=>(0,o.IO9)({repo:e,commitish:u.name,action:"directory"===t.contentType?"tree":"blob",path:t.path}),[e.ownerLogin,e.name,u.name]),getUrl(r={}){let a=(0,o.IO9)({repo:e,commitish:r.commitish||u.name,action:r.action||n,path:r.path||t})+function({params:e,hash:t}){return c(e)+d(t)}(r);return r.absolute?new URL(a,window.location.origin).href:a},createPermalink(r={}){let a=(0,o.IO9)({repo:e,commitish:u.currentOid,action:r.action||n,path:r.path||t})+function({params:e,hash:t}){return c(e)+d(t)}(r);return r.absolute?new URL(a,window.location.origin).href:a},isCurrentPagePermalink:()=>!s&&u.name===u.currentOid&&window.location.pathname.includes(u.currentOid)}}},99168:(e,t,n)=>{n.d(t,{LU:()=>i,SI:()=>c,by:()=>s,g:()=>d,oR:()=>f,oy:()=>o,wt:()=>u});var r=n(22069),a=n(99377);function o(e){return e.split("#")[0]}function i(e,t){let n=o(e),r=t.get(n)??[],a=r.indexOf(e);return r.length>1&&-1!==a?a+1:null}function l(e,t){return`file:${e.name}#${t}`}function u(e,t,n){switch(e.type){case"thread-scoped-file":return i(l(e,t),n)??void 0;case"draft-issue":return i(f({ref:e,messageIndex:t}).id,n)??void 0}}function s(e,t,n){return{type:"file",id:`file:${(0,r.Vb)(e)}#0`,reference:e,messageId:t??a.Wp,name:e.path,language:e.languageName??"",value:"",isStreaming:!0,isUserEdited:!1,timestamp:n?new Date(n):new Date}}function c(e,t){return{type:"issue",id:`issue:${e.number}`,messageId:t??a.Wp,name:e.title??"",number:e.number,owner:e.repository.owner,repo:e.repository.name,href:e.url}}function d(e){switch(e.type){case"file":return{type:"thread-scoped-file",name:e.name,language:e.language,text:e.value};case"new-issue":return{type:"draft-issue",tag:e.tag,parentTag:e.parentTag,title:e.name,description:e.body,repository:e.repository,template:e.template,assignees:e.assignees,labels:e.labels,issueType:e.issueType,projects:e.projects,milestone:e.milestone,templateFormValuesById:e.defaultValuesById};default:return null}}function f({ref:e,messageIndex:t,messageId:n,timestamp:r}){switch(e.type){case"thread-scoped-file":return function(e,t,n=a.Wp,r){return{type:"file",id:l(e,t),reference:e,messageId:n,name:e.name,language:e.language,value:e.text,timestamp:r?new Date(r):new Date,isStreaming:!1,isUserEdited:n===a.Wp}}(e,t,n,r);case"draft-issue":return function({ref:e,messageId:t=a.Wp,messageIndex:n}){return{type:"new-issue",id:`new-issue:${e.tag}#${n}`,tag:e.tag,parentTag:e.parentTag,repository:e.repository,name:e.title,body:e.description,assignees:e.assignees??[],labels:e.labels??[],issueType:e.issueType,projects:e.projects??[],milestone:e.milestone,isUserEdited:t===a.Wp,messageId:t,isStreaming:!1,template:e.template,defaultValuesById:e.templateFormValuesById??{}}}({ref:e,messageIndex:t,messageId:n});default:return null}}},84464:(e,t,n)=>{n.d(t,{B:()=>o});var r=n(21728),a=n(96540);function o(e){let t,n,o,i=(0,r.c)(4),[l,u]=(0,a.useState)(e);i[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>u(!0),i[0]=t):t=i[0];let s=t;i[1]===Symbol.for("react.memo_cache_sentinel")?(n=()=>u(!1),i[1]=n):n=i[1];let c=n;return i[2]!==l?(o=[l,s,c],i[2]=l,i[3]=o):o=i[3],o}},67621:(e,t,n)=>{n.d(t,{K:()=>i});var r=n(21728),a=n(17515),o=n(96540);let i=e=>{let t,n,i,l=(0,r.c)(4),u=(0,o.useRef)(e);return l[0]!==e?(t=()=>{u.current=e},n=[e],l[0]=e,l[1]=t,l[2]=n):(t=l[1],n=l[2]),(0,a.N)(t,n),l[3]===Symbol.for("react.memo_cache_sentinel")?(i=(...e)=>u.current?.(...e),l[3]=i):i=l[3],i}},32475:(e,t,n)=>{n.d(t,{G:()=>a,K:()=>o});var r=n(96679);let a=r.XC?.readyState==="interactive"||r.XC?.readyState==="complete"?Promise.resolve():new Promise(e=>{r.XC?.addEventListener("DOMContentLoaded",()=>{e()})}),o=r.XC?.readyState==="complete"?Promise.resolve():new Promise(e=>{r.cg?.addEventListener("load",e)})},22353:(e,t,n)=>{n.d(t,{N7:()=>v});var r=n(36301),a=n(77065),o=n(24212);function i(e){return(0,o.q)(e.stack||"").map(e=>({filename:e.file||"",function:String(e.methodName),lineno:(e.lineNumber||0).toString(),colno:(e.column||0).toString()}))}function l(e){let t=document.querySelectorAll(e);if(t.length>0)return t[t.length-1]}var u=n(43827),s=n(96679),c=n(78284),d=n(27851),f=n(62053);let m=!1,p=0,y=Date.now(),h=new Set(["AbortError","AuthSessionExpiredError","TypeError"]),g=new Set(["Failed to fetch","NetworkError when attempting to fetch resource.","Unable to perform this operation. Please try again later."]);function v(e,t={}){if(!(e instanceof Error||"object"==typeof e&&null!==e&&"name"in e&&"string"==typeof e.name&&"message"in e&&"string"==typeof e.message)){if(function(e){if(!e||"boolean"==typeof e||"number"==typeof e)return!0;if("string"==typeof e){if(E.some(t=>e.includes(t)))return!0}else if("object"==typeof e&&"string"==typeof e.message&&"number"==typeof e.code)return!0;return!1}(e))return;let n=Error(),r=function(e){try{return JSON.stringify(e)}catch{return"Unserializable"}}(e);w(S({type:"UnknownError",value:`Unable to report error, due to a thrown non-Error type: ${typeof e}, with value ${r}`,stacktrace:i(n),catalogService:document.head?.querySelector('meta[name="current-catalog-service"]')?.content},t));return}e.name&&("AbortError"===e.name||h.has(e.name)&&g.has(e.message)||e.name.startsWith("ApiError")&&g.has(e.message))||w(S({type:e.name,value:e.message,stacktrace:i(e),catalogService:e.catalogService||document.head?.querySelector('meta[name="current-catalog-service"]')?.content},t))}async function w(e){if(!(!C&&!m&&p<10&&(0,a.TT)()))return;let t=document.head?.querySelector('meta[name="browser-errors-url"]')?.content;if(t){if(e.error.stacktrace.some(e=>b.test(e.filename)||b.test(e.function))){m=!0;return}p++;try{await fetch(t,{method:"post",body:JSON.stringify({context:e,target:document.head?.querySelector('meta[name="ui-target"]')?.content||"full"})})}catch{}}}function S(e,t={}){let n={...t};return(0,d.G7)("failbot_report_error_react_apps_on_page")&&!n.reactAppName&&(n.reactAppName=function(e){let t=function(){let e=new Set;for(let[t,n]of _)for(let r of document.querySelectorAll(t))if(r instanceof HTMLElement){let t=r.getAttribute(n);t&&e.add(t)}return Array.from(e)}();if(!t||!t.length||!e||!e.length)return;let n=new Set;for(let r of e){if(!r||!r.filename)continue;let e=r.filename.split(/[\\/]/).pop();if(!e||n.has(e))continue;n.add(e);let a=t.find(t=>e.toLowerCase().includes(t.toLowerCase()));if(a)return a}}(e.stacktrace)),Object.assign({error:e,sanitizedUrl:`${window.location.protocol}//${window.location.host}${function(){let e=l("meta[name=analytics-location]");return e?e.content:window.location.pathname}()+function(){let e=l("meta[name=analytics-location-query-strip]"),t="";e||(t=window.location.search);let n=l("meta[name=analytics-location-params]");for(let e of(n&&(t+=(t?"&":"?")+n.content),document.querySelectorAll("meta[name=analytics-param-rename]"))){let n=e.content.split(":",2);t=t.replace(RegExp(`(^|[?&])${n[0]}($|=)`,"g"),`$1${n[1]}$2`)}return t}()}`||window.location.href,readyState:document.readyState,referrer:(0,c.dR)(),timeSinceLoad:Math.round(Date.now()-y),user:function(){let e=document.head?.querySelector('meta[name="user-login"]')?.content;if(e)return e;let t=(0,r.y)();return`anonymous-${t}`}()||void 0,actorId:document.head?.querySelector('meta[name="octolytics-actor-id"]')?.content,bundler:u.v,ui:!!document.querySelector('meta[name="ui"]'),release:document.head?.querySelector('meta[name="release"]')?.content,pastRequestIds:(0,f.xA)()},n)}let b=/(chrome|moz|safari)-extension:\/\//,C=!1;s.cg?.addEventListener("pageshow",()=>C=!1),s.cg?.addEventListener("pagehide",()=>C=!0),"function"==typeof BroadcastChannel&&new BroadcastChannel("shared-worker-error").addEventListener("message",e=>{v(e.data.error)});let E=["Object Not Found Matching Id","Not implemented on this platform","provider because it's not your default extension"],_=[["react-app","app-name"],["react-partial","partial-name"]]},27851:(e,t,n)=>{n.d(t,{G7:()=>u,XY:()=>s,fQ:()=>l});var r=n(5225),a=n(7799);function o(){return new Set((0,a._$)().featureFlags)}let i=n(96679).X3||function(){try{return process?.env?.STORYBOOK==="true"}catch{return!1}}()?o:(0,r.A)(o);function l(){return Array.from(i())}function u(e){return i().has(e)}let s={isFeatureEnabled:u}},62053:(e,t,n)=>{n.d(t,{Ex:()=>i,kt:()=>u,xA:()=>l});var r=n(96679);let a=Array(10).fill(null),o=0;function i(e){a[o]=e,o=(o+1)%10}function l(){let e=[];for(let t=0;t<10;t++){let n=a[(o-1-t+10)%10];n&&e.push(n)}return e}function u(){let e=r.XC;if(!e)return;let t=e.querySelector('meta[name="request-id"]'),n=t?.getAttribute("content");n&&i(n)}},43827:(e,t,n)=>{n.d(t,{k:()=>i,v:()=>l});var r=n(5225),a=n(96679);let o=(0,r.A)(function(){return a.XC?.head?.querySelector('meta[name="runtime-environment"]')?.content||""}),i=(0,r.A)(function(){return"enterprise"===o()}),l="webpack"},85351:(e,t,n)=>{n.d(t,{A:()=>i,D:()=>l});var r=n(96679),a=n(7479);let o=class NoOpStorage{getItem(){return null}setItem(){}removeItem(){}clear(){}key(){return null}get length(){return 0}};function i(e,t={throwQuotaErrorsOnSet:!1},n=r.cg,l=e=>e,u=e=>e){let s;try{if(!n)throw Error();s=n[e]||new o}catch{s=new o}let{throwQuotaErrorsOnSet:c}=t;function d(e){t.sendCacheStats&&(0,a.i)({incrementKey:e})}function f(e){try{if(s.removeItem(e),t.ttl){let t=`${e}:expiry`;s.removeItem(t)}}catch{}}return{getItem:function(e,t=Date.now()){try{let n=s.getItem(e);if(!n)return null;let r=`${e}:expiry`,a=Number(s.getItem(r));if(a&&t>a)return f(e),f(r),d("SAFE_STORAGE_VALUE_EXPIRED"),null;return d("SAFE_STORAGE_VALUE_WITHIN_TTL"),l(n)}catch{return null}},setItem:function(e,n,r=Date.now()){try{if(s.setItem(e,u(n)),t.ttl){let n=`${e}:expiry`,a=r+t.ttl;s.setItem(n,a.toString())}}catch(e){if(c&&e instanceof Error&&e.message.toLowerCase().includes("quota"))throw e}},removeItem:f,clear:s.clear,getKeys:function(){return Object.keys(s)},get length(){return s.length}}}function l(e){return i(e,{throwQuotaErrorsOnSet:!1},r.cg,JSON.parse,JSON.stringify)}},24852:(e,t,n)=>{n.d(t,{Ai:()=>o,Gq:()=>r,SO:()=>a});let{getItem:r,setItem:a,removeItem:o}=(0,n(85351).A)("sessionStorage")},78284:(e,t,n)=>{n.d(t,{BW:()=>a,Ff:()=>m,HK:()=>w,JA:()=>k,LM:()=>p,Pv:()=>C,Vy:()=>f,ZW:()=>b,dR:()=>S,di:()=>y,fX:()=>E,gc:()=>_,k9:()=>v,my:()=>g,r7:()=>x,wG:()=>h,xT:()=>d});var r=n(24852);let a="reload",o="soft-nav:fail",i="soft-nav:fail-referrer",l="soft-nav:referrer",u="soft-nav:marker",s="soft-nav:react-app-name",c="soft-nav:latest-mechanism";function d(){(0,r.SO)(u,"0"),(0,r.Ai)(l),(0,r.Ai)(o),(0,r.Ai)(i),(0,r.Ai)(s),(0,r.Ai)(c)}function f(e){(0,r.SO)(u,e)}function m(){(0,r.SO)(u,"0")}function p(){let e=(0,r.Gq)(u);return e&&"0"!==e}function y(){return(0,r.Gq)(u)}function h(){return!!g()}function g(){return(0,r.Gq)(o)}function v(e){(0,r.SO)(o,e||a),(0,r.SO)(i,window.location.href)}function w(){(0,r.SO)(l,window.location.href)}function S(){return(0,r.Gq)(l)||document.referrer}function b(){let e=E();e?(0,r.SO)(s,e):(0,r.Ai)(s)}function C(){return(0,r.Gq)(s)}function E(){return document.querySelector('react-partial[partial-name="repos-overview"]')?"repos-overview":document.querySelector("react-app")?.getAttribute("app-name")}function _(){return!!document.querySelector("react-app")?.getAttribute("app-name")}function k(e){(0,r.SO)(c,e)}function x(){return(0,r.Gq)(c)}},14253:(e,t,n)=>{n.d(t,{_x:()=>a,cP:()=>o,eu:()=>r,pI:()=>i});let r="spark",a="Spark",o="/spark",i="Create web apps with React and TypeScript to prototype ideas, build tools, and more"},96679:(e,t,n)=>{n.d(t,{KJ:()=>r.KJ,Kn:()=>a.Kn,X3:()=>r.X3,XC:()=>a.XC,cg:()=>a.cg,fV:()=>a.fV,g5:()=>r.g5});var r=n(28583),a=n(46570)},46570:(e,t,n)=>{n.d(t,{Kn:()=>i,XC:()=>a,cg:()=>o,fV:()=>l});let r="undefined"!=typeof FORCE_SERVER_ENV&&FORCE_SERVER_ENV,a="undefined"==typeof document||r?void 0:document,o="undefined"==typeof window||r?void 0:window,i="undefined"==typeof history||r?void 0:history,l="undefined"==typeof location||r?{pathname:"",origin:"",search:"",hash:"",href:""}:location},28583:(e,t,n)=>{n.d(t,{KJ:()=>o,X3:()=>a,g5:()=>i});var r=n(46570);let a=void 0===r.XC,o=!a;function i(){return!!a||!r.XC||!!(r.XC.querySelector('react-app[data-ssr="true"]')||r.XC.querySelector('react-partial[data-ssr="true"][partial-name="repos-overview"]'))}},7479:(e,t,n)=>{n.d(t,{X:()=>p,i:()=>c});var r=n(96679),a=n(32475),o=n(43827),i=n(27851),l=n(7799),u=n(70170);let s=[];function c(e,t=!1,n=.5){if(!r.X3&&!0!==(0,i.G7)("browser_stats_disabled")){if(n<0||n>1)throw RangeError("Sampling probability must be between 0 and 1");void 0===e.timestamp&&(e.timestamp=Date.now()),e.loggedIn=(0,l.M3)(),e.staff=p(),e.bundler=o.v,Math.random()<n&&s.push(e),t?m():f()}}let d=null,f=(0,u.n)(async function(){await a.K,null==d&&(d=window.requestIdleCallback(m))},5e3);function m(){if(d=null,!s.length)return;let e=r.XC?.head?.querySelector('meta[name="browser-stats-url"]')?.content;if(e){for(let a of function(e){let t=[],n=e.map(e=>JSON.stringify(e));for(;n.length>0;)t.push(function(e){let t=e.shift(),n=[t],r=t.length;for(;e.length>0&&r<=65536;){let t=e[0].length;if(r+t<=65536){let a=e.shift();n.push(a),r+=t}else break}return n}(n));return t}(s)){var t=e,n=`{"stats": [${a.join(",")}], "target": "${r.XC?.head?.querySelector('meta[name="ui-target"]')?.content||"full"}"}`;try{navigator.sendBeacon&&navigator.sendBeacon(t,n)}catch{}}s=[]}}function p(){return!!r.XC?.head?.querySelector('meta[name="user-staff"]')?.content}r.XC?.addEventListener("pagehide",m),r.XC?.addEventListener("visibilitychange",m)},31075:(e,t,n)=>{n.d(t,{S:()=>a});var r=n(96540);function a(e){let t=(0,r.useRef)(void 0);return(0,r.useEffect)(()=>{t.current=e},[e]),t.current}},54763:(e,t,n)=>{n.d(t,{E:()=>o});var r=n(74848),a=n(69098);function o({children:e}){return(0,a.P)()?(0,r.jsx)(r.Fragment,{children:e}):null}try{o.displayName||(o.displayName="AllShortcutsEnabled")}catch{}},69098:(e,t,n)=>{n.d(t,{$:()=>i,P:()=>l});var r=n(74848),a=n(96540);let o=a.createContext(!0);function i({allShortcutsEnabled:e,children:t}){return(0,r.jsxs)(o.Provider,{value:e,children:[" ",t," "]})}function l(){return a.useContext(o)}try{o.displayName||(o.displayName="AllShortcutsEnabledContext")}catch{}try{i.displayName||(i.displayName="AllShortcutsEnabledProvider")}catch{}},85579:(e,t,n)=>{n.d(t,{Ck:()=>l,JS:()=>i});var r=n(74848),a=n(96540);let o=(0,a.createContext)({query:"",setQuery:()=>void 0});function i(){return(0,a.useContext)(o)}function l({children:e}){let[t,n]=(0,a.useState)(""),i=(0,a.useMemo)(()=>({query:t,setQuery:n}),[n,t]);return(0,r.jsx)(o.Provider,{value:i,children:e})}try{o.displayName||(o.displayName="FileQueryContext")}catch{}try{l.displayName||(l.displayName="FileQueryProvider")}catch{}},141:(e,t,n)=>{n.d(t,{eu:()=>u,qV:()=>l,sq:()=>s});var r=n(74848),a=n(64262),o=n(96540);let i=o.createContext({});function l({children:e,...t}){return(0,r.jsx)(i.Provider,{value:t,children:e})}function u(){return o.useContext(i)}function s(){return(0,a.X)()}try{i.displayName||(i.displayName="FilesPageInfoContext")}catch{}try{l.displayName||(l.displayName="FilesPageInfoProvider")}catch{}},33005:(e,t,n)=>{n.d(t,{BH:()=>P,xx:()=>T,tZ:()=>X});var r=n(74848),a=n(21728),o=n(34901),i=n(31971),l=n(58779),u=n(31075),s=n(23812),c=n(96540),d=n(84464),f=n(67621),m=n(99168),p=n(47397),y=n(22069),h=n(85351),g=n(46996);let v=["thread-scoped-file","draft-issue"],w=e=>!!e.isUserEdited,S=(e,t)=>e.size===t.size&&Array.from(e).every(([e,n])=>(0,g.A)(t.get(e),n)),b=(e,t)=>!S(new Map(e.filter(e=>v.includes(e.type)).map(e=>[(0,y.Vb)(e),e])),new Map(t.filter(e=>v.includes(e.type)).map(e=>[(0,y.Vb)(e),e]))),C=(e,t)=>!S(new Map(Array.from(e).filter(([,e])=>w(e))),new Map(Array.from(t).filter(([,e])=>w(e))));function E(e){return[e.id,e]}function _(e){return null!=e}function k(e){return[(0,y.Vb)(e),e]}function x(e){return null!=e}function A(e){return(0,m.g)(e)}let N=(0,c.createContext)(void 0),I=new Map,O=[];function P(e){let t,n,s,g,S,P,T,X,M,V,L,K,U,j,D,F=(0,a.c)(45),{children:B}=e,G=(0,l.AI)(!1),[W,J]=(0,c.useState)(I),[Q,z]=(0,c.useState)(O),[H,Z]=(0,c.useState)(O),[Y,ee]=(0,c.useState)(void 0),[et,en,er]=(0,d.B)(!1),ea=(0,u.S)((0,o.pn)(R)),eo=(0,o.pn)(q);F[0]!==G||F[1]!==ea||F[2]!==eo?(t=()=>{ea&&ea!==eo&&(J(I),z(O),ee(void 0),null===eo&&G.setValue(!1))},n=[eo,ea,G],F[0]=G,F[1]=ea,F[2]=eo,F[3]=t,F[4]=n):(t=F[3],n=F[4]),(0,c.useEffect)(t,n),F[5]===Symbol.for("react.memo_cache_sentinel")?(s=(e,t)=>{let n=void 0===t||t;z(t=>{if(t.includes(e))return t;let n=(0,m.oy)(e),r=t.findIndex(e=>(0,m.oy)(e)===n),a=[...t];return -1===r?a.push(e):a.splice(r,1,e),a}),ee(t=>n||void 0===t||(0,m.oy)(t)===(0,m.oy)(e)?e:t)},F[5]=s):s=F[5];let ei=s;F[6]===Symbol.for("react.memo_cache_sentinel")?(g=e=>{J(t=>{let n=new Map(t);return n.set(e.id,e),n})},F[6]=g):g=F[6];let el=g;F[7]!==Q||F[8]!==Y?(S=e=>{let t=Q.indexOf(e);if(-1===t)return;let n=Q.toSpliced(t,1);Y===e&&ee(n[t-1]??n[0]),z(n)},F[7]=Q,F[8]=Y,F[9]=S):S=F[9];let eu=(0,f.K)(S);F[10]!==Q||F[11]!==Y?(P=e=>{if(e){let t=Q;for(let n of e){let e=t.indexOf(n);-1!==e&&(t=t.toSpliced(e,1),Y===n&&ee(t[e-1]??t[0]))}z(t)}else z(O),ee(void 0)},F[10]=Q,F[11]=Y,F[12]=P):P=F[12];let es=(0,f.K)(P);if(F[13]!==W){for(let[e,t]of(X=new Map,W)){let n=(0,m.oy)(e),r=X.get(n)??[];r.push(t.id),X.set(n,r)}for(let e of X.values())e.sort((e,t)=>{let n=W.get(e),r=W.get(t);return"timestamp"in n&&"timestamp"in r?n.timestamp.valueOf()-r.timestamp.valueOf():0});F[13]=W,F[14]=X}else X=F[14];T=X,F[15]!==eu||F[16]!==Q||F[17]!==T?(M=e=>{if(e){for(let t of e)if(J(e=>{let n=new Map(e);return n.delete(t)?n:e}),Q.includes(t)){let e=(0,m.oy)(t),n=T.get(e),r=n?.indexOf(t)??-1,a=n?.[r-1];a?ei(a,!1):eu(t)}}else J(I),z(O),ee(void 0)},F[15]=eu,F[16]=Q,F[17]=T,F[18]=M):M=F[18];let ec=(0,f.K)(M);F[19]!==G.value||F[20]!==Q?(V=()=>G.value?Q:O,F[19]=G.value,F[20]=Q,F[21]=V):V=F[21];let ed=(0,f.K)(V);F[22]!==G?(L=()=>G.setValue(!0),F[22]=G,F[23]=L):L=F[23];let ef=L;F[24]!==G?(K=()=>G.setValue(!1),F[24]=G,F[25]=K):K=F[25];let em=K;return F[26]!==eu||F[27]!==es||F[28]!==em||F[29]!==er||F[30]!==en||F[31]!==ed||F[32]!==G||F[33]!==W||F[34]!==Q||F[35]!==H||F[36]!==ef||F[37]!==ec||F[38]!==Y||F[39]!==et||F[40]!==T?(j={items:W,versionedItems:T,isContentPreviewOpen:G,getOpenItems:ed,allOpenItems:Q,openItemsBeforeSubthreadChange:H,selectedItem:Y,updateItem:el,setOpenItemsBeforeSubthreadChange:Z,openItem:ei,closeItem:eu,closeItems:es,openPreviewPane:ef,closePreviewPane:em,removeItems:ec,showLoadingState:et,enableLoadingState:en,disableLoadingState:er},F[26]=eu,F[27]=es,F[28]=em,F[29]=er,F[30]=en,F[31]=ed,F[32]=G,F[33]=W,F[34]=Q,F[35]=H,F[36]=ef,F[37]=ec,F[38]=Y,F[39]=et,F[40]=T,F[41]=j):j=F[41],$(U=j),!function(e){let t,n,r,l=(0,a.c)(10),{items:u,removeItems:s,updateItem:d}=e,{currentReferences:f,messages:g,selectedThreadID:S}=(0,o.Pk)(),N=(0,p.b)(),I=(0,c.useRef)(u),O=(0,c.useRef)(f);l[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,h.A)("sessionStorage"),l[0]=t):t=l[0];let P=t;l[1]!==f||l[2]!==u||l[3]!==N||l[4]!==g.length||l[5]!==s||l[6]!==S||l[7]!==d?(n=()=>{let e=C(I.current,u);I.current=u;let t=b(O.current,f);if(O.current=f,e){let e=new Map(Array.from(u.values()).filter(w).map(A).filter(x).map(k)),t=new Set;for(let n of f)if(v.includes(n.type)){let r=(0,y.Vb)(n);t.add(r);let a=e.get(r);a?b([a],[n])&&N.addReference(a,"content-preview"):N.removeReference(n)}for(let[n,r]of e)t.has(n)||N.addReference(r,"content-preview")}else if(t){let e=new Map(f.map(e=>(0,m.oR)({ref:e,messageIndex:g.length})).filter(_).map(E)),t=new Set;for(let[n,r]of u)if(w(r)){t.add(n);let a=e.get(n);null!=a?C(new Map([[a.id,a]]),new Map([[r.id,r]]))&&d(a):(s([n]),i.W.copilotPersistEditedDraftIssues&&P.removeItem(`edited-${S}-${n}`))}for(let[n,r]of e)t.has(n)||d(r)}},r=[u,N,f,g.length,s,d,P,S],l[1]=f,l[2]=u,l[3]=N,l[4]=g.length,l[5]=s,l[6]=S,l[7]=d,l[8]=n,l[9]=r):(n=l[8],r=l[9]),(0,c.useEffect)(n,r)}(U),F[42]!==B||F[43]!==U?(D=(0,r.jsx)(N.Provider,{value:U,children:B}),F[42]=B,F[43]=U,F[44]=D):D=F[44],D}function q(e){return e.selectedThreadID}function R(e){return e.selectedThreadID}let $=e=>{let t,n,r,l=(0,a.c)(8),{updateItem:u}=e,{messagesLoading:d,selectedThreadID:f}=(0,o.Pk)(),m=`edited-${f}`;if(i.W.copilotPersistEditedDraftIssues){let e;l[0]!==m?(e=(0,s.MV)(m),l[0]=m,l[1]=e):e=l[1],t=e}else{let e;l[2]===Symbol.for("react.memo_cache_sentinel")?(e=[],l[2]=e):e=l[2],t=e}let p=t;l[3]!==p||l[4]!==d.state||l[5]!==u?(n=()=>{if(p&&"loaded"===d.state)for(let e of p)u(e)},r=[p,u,d.state],l[3]=p,l[4]=d.state,l[5]=u,l[6]=n,l[7]=r):(n=l[6],r=l[7]),(0,c.useEffect)(n,r)};function T(){let e=(0,c.useContext)(N);if(!e)throw Error("useContentPreview must be used within ContentPreviewContextProvider");return e}function X(){let e=(0,c.useContext)(N);if(!e)throw Error("useContentPreviewOpen must be used within ContentPreviewContextProvider");return(0,l.HN)(e.isContentPreviewOpen)}try{N.displayName||(N.displayName="ContentPreviewContext")}catch{}try{P.displayName||(P.displayName="ContentPreviewProvider")}catch{}},88795:(e,t,n)=>{n.d(t,{d:()=>l,t:()=>u});var r=n(74848),a=n(21728),o=n(96540);let i=o.createContext({});function l(e){let t,n=(0,a.c)(3),{repository:o,children:l}=e;return n[0]!==l||n[1]!==o?(t=(0,r.jsxs)(i.Provider,{value:o,children:[" ",l," "]}),n[0]=l,n[1]=o,n[2]=t):t=n[2],t}function u(){return o.useContext(i)}try{i.displayName||(i.displayName="CurrentRepositoryContext")}catch{}try{l.displayName||(l.displayName="CurrentRepositoryProvider")}catch{}},93955:(e,t,n)=>{n.d(t,{Q:()=>l,i:()=>u});var r=n(74848),a=n(21728),o=n(96540);let i=o.createContext(void 0);function l(e){let t,n=(0,a.c)(3),{user:o,children:l}=e;return n[0]!==l||n[1]!==o?(t=(0,r.jsxs)(i.Provider,{value:o,children:[" ",l," "]}),n[0]=l,n[1]=o,n[2]=t):t=n[2],t}function u(){return o.useContext(i)}try{i.displayName||(i.displayName="CurrentUserContext")}catch{}try{l.displayName||(l.displayName="CurrentUserProvider")}catch{}}}]);
//# sourceMappingURL=ui_packages_code-view-shared_hooks_use-repos-analytics_ts-ui_packages_code-view-shared_hooks_-52b721-7865a900d856.js.map